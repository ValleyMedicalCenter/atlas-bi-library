!function(){"use strict";{window.ajaxOn=!0;let s=new Date,e,i;const o=function(e){var t={},n=navigator,i=window,o=document,r=i.location;return t.language=n.language,t.userAgent=n.userAgent,t.host=r.host,t.hostname=r.hostname,t.href=r.href,t.protocol=r.protocol,t.search=r.search,t.pathname=r.pathname,t.screenHeight=o.documentElement.clientHeight,t.screenWidth=o.documentElement.clientWidth,t.origin=i.origin,t.referrer=o.referrer,t.loadTime=e||i.performance.timing.domContentLoadedEventEnd-i.performance.timing.navigationStart,t.zoom=i.devicePixelRatio,t.sessionId=a(),t.pageId=u(),t.pageTime=Date.now()-s.getTime(),t},a=function(e){return"clear"===e?(sessionStorage.removeItem("_sid"),!1):("reset"!==e&&"undefined"!=typeof sessionStorage._sid||(sessionStorage._sid=btoa((new Date).toString()),u("reset"),s=new Date),sessionStorage._sid)},u=function(e){return"reset"!==e&&"undefined"!=typeof sessionStorage._pid||(s=new Date,sessionStorage._pid=btoa((new Date).toString())),sessionStorage._pid},t=function(e,t){var n;"newpage"===t&&(u("reset"),window.ajaxOn=!0),!0===window.ajaxOn&&(navigator.sendBeacon?navigator.sendBeacon("/analytics?handler=Beacon",JSON.stringify(o(e))):((n=new XMLHttpRequest).open("post","/analytics?handler=Beacon",!0),n.setRequestHeader("Content-Type","text/plain;charset=UTF-8`"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(JSON.stringify(o(e))))),window.clearTimeout(i),f()},n=function(){e=window.setTimeout(h,12e4),a()},r=function(){debounce((window.clearTimeout(e),n(),void(window.ajaxOn=!0)),500)},h=function(){window.ajaxOn=!1,a("clear"),sessionStorage.clear()},c=function(){document.addEventListener("mousemove",r,!1),document.addEventListener("mousedown",r,!1),document.addEventListener("keypress",r,!1),document.addEventListener("touchmove",r,!1),document.addEventListener("scroll",r,{passive:!0},!1),n()},f=function(){i=window.setTimeout(t,3e4)};"complete"===document.readyState&&(c(),t(0,"newpage")),window.addEventListener("load",function(){c(),t(0,"newpage")},!1),document.addEventListener("analytics-post",function(e){"undefined"!=typeof e.detail&&t(e.detail.value,e.detail.type)})}}();var module=function(){"use strict";var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e["default"]:e}var n,i,a,o,r,s,u,h,c,f,l={};function d(e){if(!e)return d.__;Array.prototype.reduce||(Array.prototype.reduce=function(e,t){for(var n=t,i=0;i<this.length;i++)n=e(n,this[i],i,this);return n});var r="";return("."+e).split(".").reduce(function(e,t,n,i){r?r+="."+t:r=t;var o=e["__"+r];return o===undefined&&(d.Logger.prototype=e,o=new d.Logger(r),e["__"+r]=o),o},d.__)}function g(e,t,n){t[e]!==undefined&&(null===t[e]?delete n[e]:n[e]=t[e])}function p(e){if(null==a.enabled||a.enabled){try{if(e.userAgentRegex&&!new RegExp(e.userAgentRegex).test(navigator.userAgent))return}catch(t){}try{if(e.ipRegex&&a.clientIP&&!new RegExp(e.ipRegex).test(a.clientIP))return}catch(t){}return 1}}function m(e,t){try{if(e.disallow&&new RegExp(e.disallow).test(t))return}catch(n){}return 1}function w(e){return"function"==typeof e?e instanceof RegExp?e.toString():e():e}function b(e){var t,n=w(e);switch(typeof n){case"string":return new o(n,null,n);case"number":case"boolean":return t=n.toString(),new o(t,null,t);case"undefined":return new o("undefined",null,"undefined");case"object":return n instanceof RegExp||n instanceof String||n instanceof Number||n instanceof Boolean?(t=n.toString(),new o(t,null,t)):(t="function"==typeof a.serialize?a.serialize.call(this,n):JSON.stringify(n),new o("",n,t));default:return new o("unknown",null,"unknown")}}function y(){return 1e3}function x(){return 2e3}function S(){return 3e3}function v(){return 4e3}function L(){return 5e3}function _(){return 6e3}function B(e,t,n){return a.entryId++,new s(e,t,n,a._getTime(),a.entryId)}function T(e){e.id&&(clearTimeout(e.id),e.id=null)}function I(e,t,n){var i=this;e.id||(e.id=setTimeout(function(){n.call(i)},t))}function O(e,t){this.appenderName=e,this.sendLogItems=t,this.level=a.getTraceLevel(),this.sendWithBufferLevel=2147483647,this.storeInBufferLevel=-2147483648,this.bufferSize=0,this.batchSize=1,this.maxBatchSize=20,this.batchTimeout=2147483647,this.sendTimeout=5e3,this.buffer=[],this.batchBuffer=[],this.batchTimeoutTimer={id:null},this.sendTimeoutTimer={id:null},this.nbrLogItemsSkipped=0,this.nbrLogItemsBeingSent=0;var n="Trying to create an appender without a name or with an empty name";if(e==undefined)throw n;if(-1!=a._appenderNames.indexOf(e)){if(e)throw"Multiple appenders use the same name "+e;throw n}a._appenderNames.push(e)}function E(e){return u.call(this,e,E.prototype.sendLogItemsAjax)||this}function R(e){return c.call(this,e,R.prototype.sendLogItemsConsole)||this}function j(e){this.loggerName=e,this.seenRegexes=[]}return n=l,e=e&&e.__extends||(i=function(e,t){return(i=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),(a=d=d||{}).requestId="",a.entryId=0,a._createXMLHttpRequest=function(){return new XMLHttpRequest},a._getTime=function(){return(new Date).getTime()},a._console=console,a._appenderNames=[],o=function(e,t,n){this.msg=e,this.meta=t,this.finalString=n},a.setOptions=function(e){return g("enabled",e,this),g("maxMessages",e,this),g("defaultAjaxUrl",e,this),g("clientIP",e,this),g("requestId",e,this),g("defaultBeforeSend",e,this),g("serialize",e,this),this},a.getAllLevel=function(){return-2147483648},a.getTraceLevel=y,a.getDebugLevel=x,a.getInfoLevel=S,a.getWarnLevel=v,a.getErrorLevel=L,a.getFatalLevel=_,a.getOffLevel=function(){return 2147483647},r=function(e,t){this.inner=t,this.name="JL.Exception",this.message=b(e).finalString},(a.Exception=r).prototype=new Error,s=function(e,t,n,i,o){this.l=e,this.m=t,this.n=n,this.t=i,this.u=o},a.LogItem=s,O.prototype.addLogItemsToBuffer=function(e){if(this.batchBuffer.length>=this.maxBatchSize)this.nbrLogItemsSkipped+=e.length;else{if(null!=a.maxMessages){if(a.maxMessages<1)return;a.maxMessages-=e.length}this.batchBuffer=this.batchBuffer.concat(e);var t=this;I(this.batchTimeoutTimer,this.batchTimeout,function(){t.sendBatch.call(t)})}},O.prototype.batchBufferHasOverdueMessages=function(){for(var e=0;e<this.batchBuffer.length;e++)if(a._getTime()-this.batchBuffer[e].t>this.batchTimeout)return!0;return!1},O.prototype.batchBufferHasStrandedMessage=function(){return!(null==a.maxMessages)&&a.maxMessages<1&&0<this.batchBuffer.length},O.prototype.sendBatchIfComplete=function(){(this.batchBuffer.length>=this.batchSize||this.batchBufferHasOverdueMessages()||this.batchBufferHasStrandedMessage())&&this.sendBatch()},O.prototype.onSendingEnded=function(){T(this.sendTimeoutTimer),this.nbrLogItemsBeingSent=0,this.sendBatchIfComplete()},O.prototype.setOptions=function(e){if(g("level",e,this),g("ipRegex",e,this),g("userAgentRegex",e,this),g("disallow",e,this),g("sendWithBufferLevel",e,this),g("storeInBufferLevel",e,this),g("bufferSize",e,this),g("batchSize",e,this),g("maxBatchSize",e,this),g("batchTimeout",e,this),g("sendTimeout",e,this),this.bufferSize<this.buffer.length&&(this.buffer.length=this.bufferSize),this.maxBatchSize<this.batchSize)throw new a.Exception({message:"maxBatchSize cannot be smaller than batchSize",maxBatchSize:this.maxBatchSize,batchSize:this.batchSize});return this},O.prototype.log=function(e,t,n,i,o,r,s){var a;!p(this)||!m(this,r)||o<this.storeInBufferLevel||(a=B(o,r,s),o<this.level?0<this.bufferSize&&(this.buffer.push(a),this.buffer.length>this.bufferSize)&&this.buffer.shift():(this.addLogItemsToBuffer([a]),o>=this.sendWithBufferLevel&&this.buffer.length&&(this.addLogItemsToBuffer(this.buffer),this.buffer.length=0),this.sendBatchIfComplete()))},O.prototype.sendBatch=function(){var e;0<this.nbrLogItemsBeingSent||(T(this.batchTimeoutTimer),0!=this.batchBuffer.length&&(this.nbrLogItemsBeingSent=this.batchBuffer.length,I((e=this).sendTimeoutTimer,this.sendTimeout,function(){e.onSendingEnded.call(e)}),this.sendLogItems(this.batchBuffer,function(){e.batchBuffer.splice(0,e.nbrLogItemsBeingSent),0<e.nbrLogItemsSkipped&&(e.batchBuffer.push(B(4e3,"Lost "+e.nbrLogItemsSkipped+" messages. Either connection with the server was down or logging was disabled via the enabled option. Reduce lost messages by increasing the ajaxAppender option maxBatchSize.",e.appenderName)),e.nbrLogItemsSkipped=0),e.onSendingEnded.call(e)})))},r=O,a.Appender=r,e(E,u=r),E.prototype.setOptions=function(e){return g("url",e,this),g("beforeSend",e,this),u.prototype.setOptions.call(this,e),this},E.prototype.sendLogItemsAjax=function(e,t){try{var n,i,o,r;p(this)&&(this.xhr&&0!=this.xhr.readyState&&4!=this.xhr.readyState&&this.xhr.abort(),this.xhr=a._createXMLHttpRequest(),n="/jsnlog.logger",null!=a.defaultAjaxUrl&&(n=a.defaultAjaxUrl),this.url&&(n=this.url),this.xhr.open("POST",n),this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.setRequestHeader("JSNLog-RequestId",a.requestId),(i=this).xhr.onreadystatechange=function(){4==i.xhr.readyState&&200<=i.xhr.status&&i.xhr.status<300&&t()},o={r:a.requestId,lg:e},"function"==typeof this.beforeSend?this.beforeSend.call(this,this.xhr,o):"function"==typeof a.defaultBeforeSend&&a.defaultBeforeSend.call(this,this.xhr,o),r=JSON.stringify(o),this.xhr.send(r))}catch(s){}},h=E,a.AjaxAppender=h,e(R,c=r),R.prototype.clog=function(e){a._console.log(e)},R.prototype.cerror=function(e){a._console.error?a._console.error(e):this.clog(e)},R.prototype.cwarn=function(e){a._console.warn?a._console.warn(e):this.clog(e)},R.prototype.cinfo=function(e){a._console.info?a._console.info(e):this.clog(e)},R.prototype.cdebug=function(e){a._console.debug?a._console.debug(e):this.cinfo(e)},R.prototype.sendLogItemsConsole=function(e,t){try{if(!p(this))return;if(!a._console)return;for(var n=0;n<e.length;++n){var i=e[n],o=i.n+": "+i.m;"undefined"==typeof window&&(o=new Date(i.t)+" | "+o),i.l<=a.getDebugLevel()?this.cdebug(o):i.l<=a.getInfoLevel()?this.cinfo(o):i.l<=a.getWarnLevel()?this.cwarn(o):this.cerror(o)}}catch(r){}t()},f=R,a.ConsoleAppender=f,j.prototype.setOptions=function(e){return g("level",e,this),g("userAgentRegex",e,this),g("disallow",e,this),g("ipRegex",e,this),g("appenders",e,this),g("onceOnly",e,this),this.seenRegexes=[],this},j.prototype.buildExceptionObject=function(e){var t={};return e.stack?t.stack=e.stack:t.e=e,e.message&&(t.message=e.message),e.name&&(t.name=e.name),e.data&&(t.data=e.data),e.inner&&(t.inner=this.buildExceptionObject(e.inner)),t},j.prototype.log=function(e,t,n){var i,o,r,s=0;if(this.appenders&&(e>=this.level&&p(this)&&(n?(o=this.buildExceptionObject(n)).logData=w(t):o=t,m(this,(i=b(o)).finalString)))){if(this.onceOnly)for(s=this.onceOnly.length-1;0<=s;){if(new RegExp(this.onceOnly[s]).test(i.finalString)){if(this.seenRegexes[s])return this;this.seenRegexes[s]=!0}s--}for(i.meta=i.meta||{},s=this.appenders.length-1;0<=s;)this.appenders[s].log((r=e)<=1e3?"trace":r<=2e3?"debug":r<=3e3?"info":r<=4e3?"warn":r<=5e3?"error":"fatal",i.msg,i.meta,function(){},e,i.finalString,this.loggerName),s--}return this},j.prototype.trace=function(e){return this.log(1e3,e)},j.prototype.debug=function(e){return this.log(2e3,e)},j.prototype.info=function(e){return this.log(3e3,e)},j.prototype.warn=function(e){return this.log(4e3,e)},j.prototype.error=function(e){return this.log(5e3,e)},j.prototype.fatal=function(e){return this.log(6e3,e)},j.prototype.fatalException=function(e,t){return this.log(6e3,e,t)},a.Logger=j,a.createAjaxAppender=function(e){return new h(e)},a.createConsoleAppender=function(e){return new f(e)},r=new("undefined"!=typeof window?h:f)(""),a.__=new a.Logger(""),a.__.setOptions({level:a.getDebugLevel(),appenders:[r]}),n.__esModule=!0,n.JL=d,"function"==typeof __jsnlog_configure&&__jsnlog_configure(d),"undefined"==typeof window||window.onerror||(window.onerror=function(e,t,n,i,o){return d("onerrorLogger").fatalException({msg:"Uncaught Exception",errorMsg:e?e.message||e:"",url:t,"line number":n,column:i},o),!1}),"undefined"==typeof window||window.onunhandledrejection||(window.onunhandledrejection=function(e){d("onerrorLogger").fatalException({msg:"unhandledrejection",errorMsg:e.reason?e.reason.message:e.message||null},e.reason)}),t(l)}();