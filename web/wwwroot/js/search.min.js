!function(){"use strict";function _arrayLikeToArray(arr,len){(null==len||len>arr.length)&&(len=arr.length);for(var i=0,arr2=new Array(len);i<len;i++)arr2[i]=arr[i];return arr2}function _createForOfIteratorHelper(o,allowArrayLike){var it="undefined"!=typeof Symbol&&o[Symbol.iterator]||o["@@iterator"];if(!it){if(Array.isArray(o)||(it=function(o,minLen){if(o){if("string"==typeof o)return _arrayLikeToArray(o,minLen);var n=Object.prototype.toString.call(o).slice(8,-1);return"Object"===n&&o.constructor&&(n=o.constructor.name),"Map"===n||"Set"===n?Array.from(o):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(o,minLen):void 0}}(o))||allowArrayLike&&o&&"number"==typeof o.length){it&&(o=it);var i=0,F=function(){};return{s:F,n:function(){return i>=o.length?{done:!0}:{done:!1,value:o[i++]}},e:function(e){throw e},f:F}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var err,normalCompletion=!0,didErr=!1;return{s:function(){it=it.call(o)},n:function(){var step=it.next();return normalCompletion=step.done,step},e:function(e){didErr=!0,err=e},f:function(){try{normalCompletion||null==it.return||it.return()}finally{if(didErr)throw err}}}}!function(){var start,atmr,d=document,w=window,grp=d.querySelector("#search-form"),m=d.querySelectorAll(".body-mainCtn")[0],i=grp.querySelectorAll("input")[0],sAjx=null,a=document.createElement("a");document.addEventListener("click",(function(event){event.target.closest("#nav-search")&&(document.documentElement.scrollTop=0,document.body.scrollTop=0)}));var oldHref=w.location.pathname.toLowerCase().startsWith("/search")?"/":w.location.href;function replaceUrlParameter(url,parameterName,parameterValue){null===parameterValue&&(parameterValue="");var pattern=new RegExp("\\b("+parameterName+"=).*?(&|#|$)");return url.search(pattern)>=0?""===parameterValue?url.replace(pattern,""):url.replace(pattern,"$1"+parameterValue+"$2"):(url=url.replace(/[?#]$/,""),""===parameterValue?url:url+(url.indexOf("?")>0?"&":"?")+parameterName+"="+parameterValue)}function ajaxSearch(value,url){document.querySelector(".body-mainCtn")&&(document.querySelector(".body-mainCtn").style.opacity=.5);var urlPath="/search"===window.location.pathname.toLowerCase(),s=url;urlPath?(value=encodeURIComponent(value||function(parameters,url){var href=decodeURIComponent(url||window.location.href),value=new RegExp("[?&]"+parameters+"=([^&#]*)","i").exec(href);return value?value[1]:null}("Query",url)),s=url||replaceUrlParameter(replaceUrlParameter(window.location.href.replace(window.location.origin,""),"Query",value),"PageIndex","")):url?(console.log("here"),console.log(url),s=url):(s="/Search?Query="+value,"/users"===window.location.pathname.toLowerCase()?s+="&type=users":"/groups"===window.location.pathname.toLowerCase()&&(s+="&type=groups"));var u=s.replace("/Search?Query=","");start=new Date,null!=value&&value.length>0||void 0!==url?(document.documentElement.scrollTop=0,document.body.scrollTop=0,a.href=url||oldHref,history.pushState({state:"ajax",search:value},document.title,w.location.origin+"/Search?Query="+encodeURI(decodeURI(u))),null!==sAjx&&sAjx.abort(),(sAjx=new XMLHttpRequest).open("get",s,!0),sAjx.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),sAjx.setRequestHeader("X-Requested-With","XMLHttpRequest"),sAjx.send(),sAjx.addEventListener("load",(function(){l(sAjx.responseText,a,m,d,atmr,s,u,value)}))):d.dispatchEvent(new CustomEvent("load-ajax",{detail:oldHref}))}var l=function(t,a,m,d,atmr,s,u,value){document.querySelector(".side-links")&&(document.querySelector(".side-links").innerHTML=""),document.querySelector("#AdColTwo")&&(document.querySelector("#AdColTwo").innerHTML=""),m.style.visibility="visible",m.style.removeProperty("overflow"),m.innerHTML=t;var _step,_iterator=_createForOfIteratorHelper(Array.prototype.slice.call(m.querySelectorAll('script:not([type="application/json"])')));try{for(_iterator.s();!(_step=_iterator.n()).done;){var element=_step.value,q=document.createElement("script");q.innerHTML=element.innerHTML,q.type="text/javascript",q.setAttribute("async","true"),m.append(q),element.remove()}}catch(err){_iterator.e(err)}finally{_iterator.f()}d.title="Search: "+value+" | Atlas BI Library",history.replaceState({state:"ajax",search:value},document.title,w.location.origin+"/Search?Query="+encodeURI(decodeURI(u))),setTimeout((function(){document.dispatchEvent(new CustomEvent("analytics-post",{cancelable:!0,detail:{value:Date.now()-start.getTime(),type:"newpage"}}))}),3e3),document.dispatchEvent(new CustomEvent("related-reports")),document.dispatchEvent(new CustomEvent("ajax")),document.dispatchEvent(new CustomEvent("ss-load")),document.dispatchEvent(new CustomEvent("code-highlight")),document.querySelector(".body-mainCtn")&&(document.querySelector(".body-mainCtn").style.opacity="")};grp.addEventListener("click",(function(event){event.stopPropagation()})),grp.addEventListener("submit",(function(event){event.preventDefault()}));var searchTimerId=null;function submit(l){ajaxSearch(null,l)}i.addEventListener("input",(function(){window.clearTimeout(searchTimerId),searchTimerId=window.setTimeout((function(){""!==i.value.trim()&&(ajaxSearch(i.value,null),window.clearTimeout(searchTimerId))}),250)})),i.addEventListener("keydown",(function(event){13===Number(event.keyCode)&&""!==i.value.trim()&&ajaxSearch(i.value,null)})),d.addEventListener("click",(function(event){return event.target.matches(".search-filter input")?(event.preventDefault(),submit(event.target.closest(".search-filter input").value),!1):event.target.matches(".page-link")?(event.target.closest(".search-filter input")&&submit(event.target.closest(".search-filter input").value),!1):void 0}))}(),function(){var vars=getUrlVars();function updateUrl($key){delete vars[$key];var $hash=document.location.hash?"#"+document.location.hash:"",$parameters=Object.keys(vars).map((function(x){return x+"="+vars[x]})).join("&");$parameters=void 0!==$parameters&&""!==$parameters?"?"+$parameters:"";var $newUrl=window.location.origin+window.location.pathname+$parameters+$hash;history.replaceState({},document.title,$newUrl)}function addMessage($class,$message){var div=document.createElement("div");div.classList.add("notification","is-light",$class,"has-text-centered","my-0");var button=document.createElement("button");button.classList.add("delete"),button.addEventListener("click",(function(){div.remove()})),div.innerHTML="<p><b>"+DOMPurify.sanitize($message)+"</b></p>",div.insertBefore(button,div.firstChild),document.querySelector("body").insertBefore(div,document.querySelector("body").firstChild)}vars.error&&(addMessage("is-danger",decodeURI(vars.error).replace(/\+/g,/ /)),updateUrl("error")),vars.success&&(addMessage("is-success",decodeURI(vars.success).replace(/\+/g,/ /)),updateUrl("success")),vars.warning&&(addMessage("is-warning",decodeURI(vars.warning).replace(/\+/g,/ /)),updateUrl("warning"))}()}();
