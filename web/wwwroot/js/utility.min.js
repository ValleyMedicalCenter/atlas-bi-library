!function(){"use strict";function e(t){var e=Array.prototype.slice.call(t.parentElement.children).filter(function(t){return t.classList.contains("tab-lnk")}),i=a.querySelector("#".concat(t.getAttribute("href").replace("#",""))),n=Array.prototype.slice.call(i.parentElement.children).filter(function(t){return t.classList.contains("tab-dta")});Array.prototype.forEach.call(n,function(t){t.classList.remove("active")}),Array.prototype.forEach.call(e,function(t){t.classList.remove("active")}),i.classList.add("active"),t.classList.add("active"),a.dispatchEvent(new CustomEvent("tab-opened")),history.pushState&&history.pushState(null,null,"#"+t.getAttribute("href").replace("#",""))}var a,r,o;function i(t){var e=Array.prototype.slice.call(t.parentElement.children).filter(function(t){return t.classList.contains("panel-tab")}),i=r.querySelector("#".concat(t.getAttribute("href").replace("#",""))),n=Array.prototype.slice.call(i.parentElement.children).filter(function(t){return t.classList.contains("panel-tab-data")});Array.prototype.forEach.call(n,function(t){t.classList.remove("is-active")}),Array.prototype.forEach.call(e,function(t){t.classList.remove("is-active")}),i.classList.add("is-active"),t.classList.add("is-active"),r.dispatchEvent(new CustomEvent("panel-tab-opened")),history.pushState&&history.pushState(null,null,"#"+t.getAttribute("href").replace("#",""))}function n(t){var e=Array.prototype.slice.call(t.closest(".steps").querySelectorAll(".steps-segment")),i=o.querySelector("#".concat(t.getAttribute("href").replace("#",""))),n=Array.prototype.slice.call(i.parentElement.children).filter(function(t){return t.classList.contains("step-tab-data")});Array.prototype.forEach.call(n,function(t){t.classList.remove("is-active")}),Array.prototype.forEach.call(e,function(t){t.classList.remove("is-active")}),i.classList.add("is-active"),t.closest(".steps-segment").classList.add("is-active"),o.dispatchEvent(new CustomEvent("step-tab-opened")),history.pushState&&history.pushState(null,null,"#"+t.getAttribute("href").replace("#",""))}(a=document).addEventListener("click",function(t){t.target.closest(".tab-lnk")&&(t.preventDefault(),e(t.target.closest(".tab-lnk")))},!1),a.addEventListener("tab-open",function(t){"undefined"!=typeof t.detail&&Boolean(t.detail.el)&&e(t.detail.el)},!1),""!==document.location.hash&&null!==document.location.hash&&document.dispatchEvent(new CustomEvent("tab-open",{cancelable:!0,detail:{el:document.querySelector('.tab-lnk[href="'+document.location.hash.replace("#","")+'"], .tab-lnk[href="'+document.location.hash+'"]')}})),(document.querySelectorAll(".panel-tab[href]")||[]).forEach(function(e){e.addEventListener("click",function(t){t.preventDefault(),i(e)},!1)}),(r=document).addEventListener("panel-tab-open",function(t){"undefined"!=typeof t.detail&&Boolean(t.detail.el)&&i(t.detail.el)},!1),""!==document.location.hash&&null!==document.location.hash&&document.dispatchEvent(new CustomEvent("panel-tab-open",{cancelable:!0,detail:{el:document.querySelector('.panel-tab[href="'+document.location.hash.replace("#","")+'"], .panel-tab[href="'+document.location.hash+'"]')}})),(document.querySelectorAll(".step-tab[href]")||[]).forEach(function(e){e.addEventListener("click",function(t){t.preventDefault(),n(e)},!1)}),(o=document).addEventListener("step-tab-open",function(t){"undefined"!=typeof t.detail&&Boolean(t.detail.el)&&n(t.detail.el)},!1),""!==document.location.hash&&null!==document.location.hash&&document.dispatchEvent(new CustomEvent("step-tab-open",{cancelable:!0,detail:{el:document.querySelector('.step-tab[href="'+document.location.hash.replace("#","")+'"], .step-tab[href="'+document.location.hash+'"]')}}))}(),function(){"use strict";function r(t){t.style.maxHeight=t.scrollHeight+20+"px"}function o(t){t.style.maxHeight="",t.style.overflow="hidden",t.classList.remove("clps-o")}function i(e){e.classList.add("clps-o"),r(e);for(var t=e;t=t.parentElement.closest(".clps-o");)t.style.removeProperty("max-height");s.dispatchEvent(new CustomEvent("collapse-opened"));for(var i=e.parentElement.querySelector(".clps-o"),n=[];i;)i!==e&&i.nodeType===Node.ELEMENT_NODE&&n.push(i),i=i.nextElementSibling||i.nextSibling;for(var a=0;a<n.length;a++)o(n[a]);window.setTimeout(function(){for(var t=e.parentElement.closest(".clps-o");t;)r(t),t=t.parentElement.closest(".clps-o");e.classList.contains("clps-o")&&(e.style.overflow="visible")},300)}var s,n;(s=document).addEventListener("click",function(t){var e;t.target.closest('[data-toggle="clps"]')?null!==(e=s.querySelector("#".concat(t.target.closest("[data-toggle]").getAttribute("data-target").replace("#",""))))&&(e.style.maxHeight||e.classList.contains("clps-o")?o:i)(e):t.target.closest(".clps:not(.clps-o")&&i(t.target.closest(".clps:not(.clps-o"))}),s.addEventListener("change",function(e){if(e.target.closest(".clps-o")){for(var t=e.target.closest(".clps-o");t;)t.style.removeProperty("max-height"),t=t.parentElement.closest(".clps-o");window.setTimeout(function(){for(var t=e.target.closest(".clps-o");t;)r(t),t=t.parentElement.closest(".clps-o")},300)}}),s.addEventListener("clps-close",function(t){"undefined"!=typeof t.detail&&o(t.detail.el)},!1),s.addEventListener("clps-open",function(t){"undefined"!=typeof t.detail&&i(t.detail.el)},!1),(n=document).addEventListener("click",function(t){var e,i;t.target.closest('[data-action="collapse"]')&&(i=t.target.closest('[data-action="collapse"]'),null!==(e=n.querySelector("#".concat(i.getAttribute("data-target").replace("#","")))))&&(e.style.maxHeight||e.classList.contains("is-active")?(e.classList.remove("is-active"),i.classList.remove("is-active")):(e.classList.add("is-active"),i.classList.add("is-active")))})}(),function(){"use strict";function t(){for(var t=document.querySelectorAll(".carousel"),e=0;e<t.length;e++)t[e].classList.contains("carousel-p")||new i(t[e])}function i(t){this.target=t,this.next=t.querySelector(".carousel-next"),this.prev=t.querySelector(".carousel-prev"),this.dots=t.querySelectorAll(".carousel-dot"),this.slides=t.querySelectorAll(".carousel-itm"),this.target.classList.add("carousel-p"),this.next.addEventListener("click",this.showSlides.bind(this,1),!1),this.prev.addEventListener("click",this.showSlides.bind(this,-1),!1);for(var e=0;e<this.dots.length;e++)this.dots[e].addEventListener("click",this.showSlides.bind(this,0),!1)}var e,o;e=document,o=e.requestAnimationFrame||e.setImmediate||function(t){return setTimeout(t,0)},i.prototype={showSlides:function(t,e){var i,n,a=this.slides,r=this.dots;o(function(){if(e.target.matches(".carousel-dot"))t=e.target.getAttribute("slide");else{for(i=0;i<a.length;i++)if(0<a[i].offsetHeight&&0<a[i].offsetWidth){n=a[i];break}t+=Array.prototype.indexOf.call(a,n)}for((t=t>=a.length?0:t)<0&&(t=a.length-1),i=0;i<a.length;i++)a[i].style.display="none";for(i=0;i<r.length;i++)r[i].classList.remove("active");a[t].style.display="block",r[t].classList.add("active")})}},t(),e.addEventListener("load-carousel",function(){t()})}(),function(){"use strict";var o,t,s,r,l,u;o=document,t=function t(){setTimeout(function(){for(var t=o.querySelectorAll("table.sort"),e=0;e<t.length;e++){var i=t[e];if(0===i.querySelectorAll("th .icon").length)for(var n=i.querySelectorAll("th"),a=0;a<n.length;a++){var r=n[a];r.style.cursor="pointer",r.innerHTML+='<span class="icon is-small"><i class="fas fa-sort"></i></span>',r.parentElement.style.whiteSpace="nowrap",!function(n){n.addEventListener("click",function(){var t=this.closest("table.sort"),e=Array.from(t.querySelectorAll("tr")).slice(1).sort(s(u(n)-1));this.asc=!this.asc,this.asc||(e=e.reverse());for(var i=0;i<e.length;i++)t.append(e[i])})}(r)}}},0)},s=function s(a){return function(t,e){var i=l(t,a).replace("$",""),n=l(e,a).replace("$","");return/^(?:\d{1,2}\/){2}\d{2,4}$/.test(i)&&/^(?:\d{1,2}\/){2}\d{2,4}$/.test(n)?new Date(i)-new Date(n):r(i)&&r(n)?i-n:i.toString().localeCompare(n)}},r=function r(t){return!isNaN(parseFloat(t))&&isFinite(t)},l=function l(t,e){return t.querySelectorAll("td")[e].textContent},u=function u(t){if(!t)return-1;for(var e=0;t;)e++,t=t.previousElementSibling;return e},o.addEventListener("ajax",function(){t()}),t()}(),function(){"use strict";var i,n,e,a,r,o,s,l;e=document,r=a=0,e.addEventListener("mousedown",function(t){var e;t.target.closest(".drg-hdl")&&(n=t.target.closest(".drg"),i=n.cloneNode(!0),n.classList.add("drag-source"),i.classList.add("drag"),i.style.width=n.offsetWidth+1+"px",e=getComputedStyle(n),a=t.clientY-getOffset(n).top+parseInt(e.marginTop,10),r=t.clientX-getOffset(n).left+parseInt(e.marginLeft,10),n.parentElement.style.position="relative",n.parentElement.append(i),i.style.top=t.clientY-a+"px",i.style.left=t.clientX-r+"px",o(t))},!1),o=function o(t){(t=t||window.event).preventDefault(),e.addEventListener("mouseup",l),e.addEventListener("mousemove",s)},s=function s(t){(t=t||window.event).preventDefault(),i.style.top=t.clientY-a+"px",i.style.left=t.clientX-r+"px",i.dispatchEvent(new CustomEvent("dragMove",{cancelable:!0,bubbles:!0,detail:{el:i,x:t.clientX,y:t.clientY}}))},l=function l(t){n.parentElement.replaceChild(i,n),i.classList.remove("drag"),i.dispatchEvent(new CustomEvent("dragEnd",{cancelable:!0,bubbles:!0,detail:{el:i,x:t.clientX,y:t.clientY}})),i.style.width="",i.style.top="",i.style.left="",e.removeEventListener("mouseup",l),e.removeEventListener("mousemove",s)}}(),function(){"use strict";var a;a=function a(t){var s,l,u,e=t.detail.el,i=t.detail.x,n=t.detail.y;e.closest(".reorder")&&(s=n,l=i,u=e.closest(".reorder").querySelector(".drg.drag-source"),e.closest(".reorder").querySelectorAll(".drg:not(.drag-source):not(.drag)").forEach(function(t){var e=getOffset(t),i=e.top,n=e.top+t.clientHeight,a=e.left,e=e.left+t.clientWidth,r=Array.prototype.indexOf.call(u.parentNode.children,t),o=Array.prototype.indexOf.call(u.parentNode.children,u);a<=l&&i<=s&&s<=n&&o<r?u.parentNode.insertBefore(t,u):l<=e&&i<=s&&s<=n&&r<o&&u.parentNode.insertBefore(u,t),s<i&&r<o?u.parentNode.insertBefore(u,t):n<s&&o<r&&u.parentNode.insertBefore(t,u)}))},document.addEventListener("dragMove",function(t){if((t=t||window.event).detail===undefined||t.detail.el===undefined)return!1;debounce(a(t),250)}),document.addEventListener("dragEnd",function(t){if((t=t||window.event).detail===undefined||t.detail.el===undefined)return!1;t.detail.el.closest(".reorder")&&t.detail.el.closest(".reorder").dispatchEvent(new CustomEvent("reorder",{bubbles:!0}))})}(),function(){"use strict";function s(t){t.classList.remove("is-active")}function l(){(document.querySelectorAll(".modal")||[]).forEach(function(t){s(t)})}document.addEventListener("keydown",function(t){t=t||window.event,27===Number(t.keyCode)&&l()}),document.addEventListener("modal-close",function(){l()}),document.addEventListener("click",function(t){var e=t.target;if(e.closest(".js-modal-trigger"))i=e.closest(".js-modal-trigger"),document.querySelector("#".concat(i.dataset.target)).classList.add("is-active"),document.dispatchEvent(new CustomEvent("modal-open"));else if(e.closest(".modal-background, .modal-close, .modal-card-head .delete, .modal-card-foot .button"))s((i=e.closest(".modal-background, .modal-close, .modal-card-head .delete, .modal-card-foot .button")).closest(".modal"));else if(e.closest(".modal button.share-feedback")){var i,n,a=(i=e.closest(".modal button.share-feedback")).parentNode.querySelectorAll("textarea")[0],r={reportName:i.hasAttribute("data-name")?i.getAttribute("data-name"):document.title,description:a.value,reportUrl:i.hasAttribute("data-url")?i.getAttribute("data-url"):window.location.href},o=Object.keys(r).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(r[t])}).join("&");(n=new XMLHttpRequest).open("post","/Requests?handler=ShareFeedback&"+o,!0),n.setRequestHeader("Content-Type","text/html;charset=UTF-8`"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(),a.value="",l()}else if(e.closest(".modal button.request-access")){a=(i=e.closest(".modal button.request-access")).closest(".modal").querySelector(".director-name");if(null===a.value||""===a.value)return(e=a.closest(".field.pt-5").querySelector("label"))&&e.insertAdjacentHTML("afterend",'<p class="help is-danger">Director is required.</p>'),!1;r={reportName:i.getAttribute("report-name"),directorName:a.value,reportUrl:window.location.href},o=Object.keys(r).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(r[t])}).join("&"),(n=new XMLHttpRequest).open("post","/Requests?handler=AccessRequest&"+o,!0),n.setRequestHeader("Content-Type","text/html;charset=UTF-8`"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(),l()}})}(),function(){"use strict";var t,i,e,n,a;i=document,e=function e(t){Array.prototype.forEach.call(t.querySelectorAll("source[data-srcset]"),function(t){var e;a(t)&&(e=t.dataset.srcset,t.setAttribute("srcset",""),t.removeAttribute("srcset"),t.setAttribute("srcset",e))})},n=function n(t){Array.prototype.forEach.call(t.querySelectorAll("img[data-src]"),function(t){var e;a(t)&&(e=t.dataset.src,t.setAttribute("src",""),delete t.dataset.src,t.setAttribute("src",e))})},a=function a(t){var e=t.getBoundingClientRect();return-600<=e.top&&0<=e.left&&e.bottom-t.clientHeight-600<=(document.documentElement.clientHeight||i.documentElement.clientHeight)&&e.right-600-t.clientWidth<=(document.documentElement.clientWidth||i.documentElement.clientWidth)&&null!==t.offsetParent},(t=function t(){Array.prototype.forEach.call(i.querySelectorAll("picture"),function(t){n(t),e(t)}),n(i),e(i)})(),i.addEventListener("ajax",function(){setTimeout(function(){t()},0)}),i.addEventListener("modal-open",function(){t()}),i.addEventListener("scroll",function(){debounce(t(),100)},{passive:!0})}(),function(){"use strict";!function(){var t=document.querySelector(".breadcrumb.site-breadcrumbs");if(null===t)return;var e=document.title.includes(" | ")?document.title.split(" | ")[0]:document.title,i=window.location.href,n={},a=sessionStorage.getItem("breadcrumbs");0!==(a=null===a?[]:JSON.parse(a)).length&&a[a.length-1].title===e&&a[a.length-1].url===i||(n.title=e,n.url=i,0<a.length&&a[a.length-1].title.startsWith("Search")&&n.title.startsWith("Search")&&a.pop(),a.push(n),sessionStorage.setItem("breadcrumbs",JSON.stringify(a))),a.length<=1||(t.innerHTML=DOMPurify.sanitize(function(t){var e=document.createElement("ul");e.classList.add("mt-4"),(t=t.slice(Math.max(t.length-7,0))).reverse();for(var i=0;i<t.length;i++){for(var n=document.createElement("li"),a=document.createElement("a"),r=(0===i?(a.setAttribute("href","#"),n.classList.add("is-active")):a.setAttribute("href",t[i].url),t[i].title.split(" ")),o="",s=0;s<r.length;s++)if(15<(o+=r[s]+" ").length){s<r.length&&(o+="…",a.classList.add("is-block","has-tooltip-bottom","has-tooltip-arrow"),a.setAttribute("data-tooltip",t[i].title));break}a.textContent=o,n.append(a),e.append(n)}return e}(a).outerHTML),t.style.opacity=1)}()}(),function(){"use strict";function i(i){var t;(document.querySelectorAll(".favorites-folder.is-active,.favorites-show-all.is-active,.favorites-show-unsorted.is-active")||[]).forEach(function(t){t.classList.remove("is-active")}),(document.querySelectorAll(".favorites-folder .fa-folder-open,.favorites-show-all .fa-folder-open,.favorites-show-unsorted .fa-folder-open")||[]).forEach(function(t){t.classList.remove("fa-folder-open"),t.classList.add("fa-folder")}),i.querySelector(".fa-folder")&&((t=i.querySelector(".fa-folder")).classList.remove("fa-folder"),t.classList.add("fa-folder-open")),i.classList.add("is-active"),document.querySelectorAll(".favorites .favorite").forEach(function(t){var e=i.dataset.folderid===t.dataset.folderid;t.style.display=e?"":"None"})}function s(t,e,i){if(t.classList.contains("favorite")){for(var n,a,r,o,s,l=c.querySelectorAll(".favorite-folders .favorites-show-all,.favorite-folders .favorites-show-unsorted,.favorite-folders .favorites-folder"),u=0;u<l.length;u++)if(n=l[u],a=(s=getOffset(n)).top,r=s.top+n.offsetHeight,o=s.left,s=s.left+n.offsetWidth,a<i&&i<r&&o<e&&e<s)return n;return!1}}var c;(c=document).addEventListener("click",function(t){var e;t.target.closest(".favorites-show-all")?((document.querySelectorAll(".favorites .favorite")||[]).forEach(function(t){t.style.display=""}),(document.querySelectorAll("a.favorites-filter.is-active")||[]).forEach(function(t){t.classList.remove("is-active")}),document.querySelector("input.favorites-filter").value="",(document.querySelectorAll(".favorites-folder.is-active")||[]).forEach(function(t){t.classList.remove("is-active")}),document.querySelector(".favorites-show-all .fa-folder")&&((e=document.querySelector(".favorites-show-all .fa-folder")).classList.remove("fa-folder"),e.classList.add("fa-folder-open")),(document.querySelectorAll(".favorites-folder .fa-folder-open")||[]).forEach(function(t){t.classList.remove("fa-folder-open"),t.classList.add("fa-folder")})):t.target.closest(".favorites-show-unsorted")?i(t.target.closest(".favorites-show-unsorted")):t.target.closest(".favorites-folder")&&i(t.target.closest(".favorites-folder"))}),document.addEventListener("click",function(t){var e,i;t.target.closest(".favorite-folder-delete")&&(t.preventDefault(),e=t.target.closest(".favorite-folder-delete"),(i=new XMLHttpRequest).open("post","/users/stars?handler=DeleteFolder&id="+e.dataset.folderid,!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.send(),t.target.closest(".favorites-folder").remove(),document.querySelector(".favorites-show-all").click())}),c.addEventListener("submit",function(t){var e,i;t.target.closest(".favorite-folder-new")&&(t.preventDefault(),e=t.target.closest(".favorite-folder-new"),(i=new XMLHttpRequest).open("post",e.getAttribute("action")+"&name="+e.querySelector("input").value,!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.send(),window.location.reload()),t.target.closest(".favorite-folder-rename")&&(t.preventDefault(),e=t.target.closest(".favorite-folder-rename"),document.querySelector('.favorite-folders .favorites-folder[data-folderid="'+e.dataset.folderid+'"] .favorite-folder-name').textContent=e.querySelector("input").value,(i=new XMLHttpRequest).open("post",e.getAttribute("action")+"&name="+e.querySelector("input").value,!0),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.send(),document.dispatchEvent(new CustomEvent("modal-close")))},!1),c.addEventListener("reorder",function(t){var e,i=[],n=0;t.target.closest(".favorite-folders.reorder")?(document.querySelectorAll(".favorites-folder").forEach(function(t){var e={};e.FolderId=t.dataset.folderid,e.FolderRank=n,n++,i.push(e)}),(e=new XMLHttpRequest).open("post","/Users/stars?handler=ReorderFolders",!0),e.setRequestHeader("Content-Type","application/json; charset=utf-8"),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.send(JSON.stringify(i))):t.target.closest(".favorites .reorder")&&(document.querySelectorAll(".favorite").forEach(function(t){var e={};e.FavoriteId=t.dataset.favoriteid,e.FavoriteRank=n,e.FavoriteType=t.dataset.type,n++,i.push(e)}),(e=new XMLHttpRequest).open("post","/Users/stars?handler=ReorderFavorites",!0),e.setRequestHeader("Content-Type","application/json; charset=utf-8"),e.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.send(JSON.stringify(i)))},!1),c.addEventListener("dragEnd",function(t){var e,i,n,a,r,o;"undefined"!=typeof t.detail&&(e=s(t.detail.el,t.detail.x,t.detail.y),t.target.closest(".favorite"))&&e&&(r=t.detail.el.dataset.folderid,o=document.querySelector('.favorite-folders .favorites-folder[data-folderid="'+r+'"],.favorite-folders .favorites-show-unsorted[data-folderid="'+r+'"]'),n=document.querySelector('.favorite-folders .favorites-show-unsorted[data-folderid="'+r+'"]'),r&&null!==o?(i=o.querySelector(".fav-count")).textContent=parseInt(i.textContent,10)-1:null!==n&&((i=n.querySelector(".fav-count")).textContent=parseInt(i.textContent,10)-1),t=t.detail.el,a=e,r={},t.dataset.folderid=a.dataset.folderid,r.FavoriteId=t.dataset.favoriteid,r.FolderId=a.dataset.folderid||0,r.FavoriteType=t.dataset.type,(o=new XMLHttpRequest).open("post","/Users/stars?handler=UpdateFavoriteFolder",!0),o.setRequestHeader("Content-Type","application/json; charset=utf-8"),o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.send(JSON.stringify(r)),"0"!==e.dataset.folderid&&((i=e.querySelector(".fav-count")).textContent=parseInt(i.textContent,10)+1),e.click()),document.querySelectorAll(".favorite-folders .is-hover").forEach(function(t){t.classList.remove("is-hover")})}),c.addEventListener("dragMove",function(t){if("undefined"!=typeof t.detail){for(var e=c.querySelectorAll(".favorite-folders .favorites-show-all,.favorite-folders .favorites-folder"),i=0;i<e.length;i++)e[i].classList.remove("is-hover");var n=s(t.detail.el,t.detail.x,t.detail.y);n&&null!==n&&n.classList.add("is-hover")}},!1),document.addEventListener("click",function(t){var i,e,n;t.target.closest("a.star")?(t.preventDefault(),e=(i=t.target.closest("a.star")).dataset,(n=new XMLHttpRequest).open("get",e.href,!0),n.send(),n.addEventListener("load",function(){var t,e;i.querySelector(".fa-star").classList.contains("fas")?(i.querySelector(".fa-star").classList.remove("fas"),i.querySelector(".fa-star").classList.add("far"),i.querySelector(".icon").classList.remove("has-text-gold"),i.querySelector(".icon").classList.add("has-text-grey")):(i.querySelector(".fa-star").classList.remove("far"),i.querySelector(".fa-star").classList.add("fas"),i.querySelector(".icon").classList.remove("has-text-grey"),i.querySelector(".icon").classList.add("has-text-gold")),i.querySelector(".star-count")&&"error"!==n.responseText&&(i.querySelector(".star-count").textContent=n.responseText),null!==i.closest(".favorite")&&(e=i.closest(".favorite"),t=i.closest(".favorite").dataset.folderid,e.remove(),e=document.querySelector('.favorite-folders .favorites-folder[data-folderid="'+t+'"]'),null!==t&&"0"!==t&&null!==e&&(e.querySelector(".fav-count").textContent=parseInt(e.querySelector(".fav-count").textContent,10)-1),document.querySelector(".favorites-show-all .fav-count").textContent=parseInt(document.querySelector(".favorites-show-all .fav-count").textContent,10)-1)})):t.target.closest("a.favorites-filter.is-active")?(i=t.target.closest("a.favorites-filter.is-active"),e=i.dataset,i.classList.remove("is-active"),document.querySelectorAll(".favorites .favorite").forEach(function(t){t.style.display=""})):t.target.closest("a.favorites-filter")&&(i=t.target.closest("a.favorites-filter"),e=i.dataset,document.querySelectorAll("a.favorites-filter.is-active").forEach(function(t){t.classList.remove("is-active")}),document.querySelector("input.favorites-filter").value="",i.classList.add("is-active"),document.querySelectorAll(".favorites .favorite").forEach(function(t){t.style.display=t.classList.contains(e.type)?"":"None"}))}),document.addEventListener("input",function(t){var a;t.target.closest("input.favorites-filter")&&(a=t.target,document.querySelectorAll("a.favorites-filter.is-active").forEach(function(t){t.classList.remove("is-active")}),document.querySelectorAll(".favorites .favorite").forEach(function(t){var e,i,n;""===a.value.trim()||(e=a.value,i=t.textContent,n=e.toLowerCase().split(" "),i.toLowerCase().split(" ").some(function(e){return n.includes(e)||n.some(function(t){return e.includes(t)})}))?t.style.display="":t.style.display="None"}))})}(),function(){"use strict";var t,u,r,o,c,e;u=document,r=function r(t){var e=t.getBoundingClientRect();return 0<=e.top&&0<=e.left&&e.bottom-t.clientHeight-400<=(document.documentElement.clientHeight||u.documentElement.clientHeight)&&e.right-400-t.clientWidth<=(document.documentElement.clientWidth||u.documentElement.clientWidth)},o=function o(t){var e=t.getAttribute("data-url"),i=t.getAttribute("data-parameters"),n=t.getAttribute("data-page"),a=t.getAttribute("data-loadtag");t.classList.contains("no-loader")||(t.innerHTML='<div class="ajaxLoader"><img class="ajaxLoader-img" src="/img/loader.gif" /></div>'),t.classList.contains("ajax-fade")&&(t.style.opacity=".5",t.clientHeight),null!==i&&""!==i&&(e=(e+=e.includes("?")?"&":"?")+i.replace(/^(&|\?)+/gm,"")),null!==n&&""!==n&&(e=(e+=e.includes("?")?"&":"?")+n.replace(/^(&|\?)+/gm,"")),t.q!==undefined&&null!==t.q&&t.q.abort(),t.q=new XMLHttpRequest,t.q.open("get",e,!0),t.q.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),t.q.setRequestHeader("X-Requested-With","XMLHttpRequest"),t.q.send(),t.q.addEventListener("load",function(){c(t,a,t.q.responseText),t.classList.contains("ajax-fade")&&(t.style.opacity="1")})},c=function c(t,e,i){if(t!==undefined)try{if(t.style.visibility="hidden",t.style.transition="visibility 0.3s ease-in-out",t.parentNode){var n=u.createElement("div");if(n.innerHTML=i,null!==e&&""!==e?(n=t.querySelector(e)).setAttribute("data-loadtag",e):n=n.children[0],t.innerHTML=n.innerHTML,t.querySelector('script:not([type="application/json"])'))for(var a=Array.prototype.slice.call(t.querySelectorAll('script:not([type="application/json"])')),r=0;r<a.length;r++){var o=a[r],s=u.createElement("script");s.innerHTML=o.innerHTML,s.type="text/javascript",o.hasAttribute("src")&&(s.setAttribute("src",o.hasAttribute("src")),s.setAttribute("async","true")),t.append(s),o.remove()}t.style.visibility="visible",u.dispatchEvent(new CustomEvent("ajax"))}}catch(l){console.log(l)}},e=function e(){Array.prototype.forEach.call(u.querySelectorAll('#AdColTwo [data-ajax="yes"]'),function(t){var e,i,n,a;r(t)&&(e=t.getAttribute("data-url"),i=t.getAttribute("data-parameters"),n=t.getAttribute("data-loadtag"),t.classList.contains("no-loader")||(t.innerHTML='<div class="ajaxLoader"><img class="ajaxLoader-img" src="/img/loader.gif" /></div>'),null!==i&&""!==i&&(e=(e+=e.includes("?")?"&":"?")+i.replace(/^(&|\?)+/gm,""),console.log(e)),t.style.visibility="hidden",t.removeAttribute("data-ajax"),(a=new XMLHttpRequest).open("get",e,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.send(),a.addEventListener("load",function(){c(t,n,a.responseText)}))})},(t=function t(){Array.prototype.forEach.call(u.querySelectorAll('[data-ajax="yes"]'),function(t){t.closest("#AdColOne")||t.closest('#AdColTwo [data-ajax="yes"]')||!r(t)||null===t.offsetParent||(o(t),t.removeAttribute("data-ajax"),t.addEventListener("reload",function(){o(t)}))})})(),e(),u.addEventListener("load-ajax-content",function(){t(),e()}),u.addEventListener("modal-open",function(){t()}),u.addEventListener("panel-tab-opened",function(){t()}),u.addEventListener("step-tab-opened",function(){t()}),u.addEventListener("tab-opened",function(){t()}),u.addEventListener("scroll",function(){debounce(t(),100),debounce(e(),100)},{passive:!0}),document.addEventListener("click",function(t){t.target.closest("[data-url][data-page]")&&t.target.closest(".pagination-link[data-page]")&&(t.target.closest("[data-url][data-page]").setAttribute("data-page",t.target.closest(".pagination-link[data-page]").getAttribute("data-page")),t.target.closest("[data-url][data-page]").dispatchEvent(new CustomEvent("reload")))})}(),function(){"use strict";document.addEventListener("notification",function(t){var e,i,n;"undefined"!=typeof t.detail&&Boolean(t.detail)&&Boolean(t.detail.value)&&(t=t.detail.value,e=document.querySelectorAll(".fixed-notification-wrapper")[0],(i=document.createElement("div")).classList.add("notification","is-info","py-2"),(n=document.createElement("button")).classList.add("delete"),i.append(n),i.insertAdjacentHTML("beforeend",DOMPurify.sanitize(t)),e.prepend(i),setTimeout(function(){i.remove()},4e3),n.addEventListener("mouseup",function(){i.remove()}))},!1)}(),function(){"use strict";var s,l;s=document,l=null,s.addEventListener("submit",function(t){if(t.target.closest("form.share")){t.preventDefault();var e=t.target.closest("form.share"),i=[],n=e.querySelectorAll('.share-to input[type="hidden"]');if(!(null!==n&&0<n.length))return(o=e.querySelector(".share-to").parentElement.querySelector("label"))&&o.insertAdjacentHTML("afterend",'<p class="help is-danger">Recipients are required.</p>'),!1;for(var a=0;a<n.length;a++){var r=n[a].classList.contains("group")?"g":"";i.push({UserId:n[a].value,Type:r})}var o=e.querySelector('textarea[name="share-message"]').value,o={To:JSON.stringify(i),Subject:e.querySelector("input.share-subject").value,Message:o,Text:o,Share:1,ShareName:e.querySelector("input.share-name").value,ShareUrl:e.querySelector("input.share-url").value};(l=new XMLHttpRequest).open("post",e.getAttribute("action"),!0),l.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),l.setRequestHeader("X-Requested-With","XMLHttpRequest"),l.send(JSON.stringify(o)),l.addEventListener("load",function(){document.dispatchEvent(new CustomEvent("notification",{cancelable:!0,detail:{value:l.responseText}}))}),s.dispatchEvent(new CustomEvent("modal-close"))}},!1)}(),function(){"use strict";(document.querySelectorAll(".navbar-burger")||[]).forEach(function(e){e.addEventListener("click",function(){var t=e.dataset.target,t=document.querySelector("#".concat(t));e.classList.toggle("is-active"),t.classList.toggle("is-active")})})}(),function(){"use strict";function l(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function c(t,e){var i,n,a,r,o,s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(s)return n=!(i=!0),{s:function(){s=s.call(t)},n:function(){var t=s.next();return i=t.done,t},e:function(t){n=!0,a=t},f:function(){try{i||null==s["return"]||s["return"]()}finally{if(n)throw a}}};if(Array.isArray(t)||(s=function(t,e){var i;if(t)return"string"==typeof t?l(t,e):"Map"===(i="Object"===(i=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?l(t,e):void 0}(t))||e&&t&&"number"==typeof t.length)return s&&(t=s),r=0,{s:o=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(t){t.classList.add("is-active");var e=t.parentElement.querySelector("input.is-danger");e&&e.classList.remove("is-danger")}function i(t){t.classList.remove("is-active");var e=t.parentElement.querySelector("input.input-mini.multiselect"),e=(e&&e.value&&e.classList.add("is-danger"),t.parentElement.querySelector('input[type="hidden"]'));e&&""===e.value&&(e=t.parentElement.querySelector("input.input-mini:not(.multiselect)"))&&e.classList.add("is-danger")}function h(){(document.querySelectorAll(".mini.is-active")||[]).forEach(function(t){i(t)})}function d(t){for(var e=t.querySelectorAll('input[type="hidden"][name]:not(.drag)'),i=0;i<e.length;i++)e[i].setAttribute("name",e[i].getAttribute("name").replace(/\[\d*?]/,"["+i+"]"))}function f(s,t,l,u){var e=JSON.parse(t);if(0===e.length)s.innerHTML='<div class="mini-waiting">No matches found.</div>';else{s.textContent="";var i,n=c(e);try{for(n.s();!(i=n.n()).done;){var a=i.value,r=document.createElement("a");r.classList.add("mini-item"),r.textContent=a.Name,r.setAttribute("value",a.ObjectId||a.Description),r.addEventListener("click",function(t){var e,i,n,a,r,o;u.classList.contains("multiselect")?u.classList.contains("multiselect")&&(e=u.closest(".field").parentNode.querySelector(".mini-tags"),(i=document.createElement("div")).classList.add("control"),(n=document.createElement("input")).setAttribute("type","hidden"),n.setAttribute("value",t.target.getAttribute("value")),u.hasAttribute("data-name")&&n.setAttribute("name",u.getAttribute("data-name")),(a=document.createElement("div")).classList.add("tags","has-addons"),(r=document.createElement("span")).classList.add("tag","is-link"),r.textContent=t.target.textContent,(o=document.createElement("a")).classList.add("tag","is-delete"),o.addEventListener("click",function(){i.remove(),d(e)}),e.classList.contains("reorder")&&(i.classList.add("drg"),r.classList.add("drg-hdl")),i.append(a),a.append(r),a.append(n),a.append(o),e!==undefined&&(e.append(i),d(e)),u.value="",u.hasAttribute("lookup-area")&&p(u,s),u.classList.contains("mini-close-fast"))&&h():(u.value=t.target.textContent,l.value=t.target.getAttribute("value"),h())}),s.append(r)}}catch(o){n.e(o)}finally{n.f()}0===s.querySelectorAll(".mini-item:not(.hidden)").length&&(s.innerHTML+='<div class="mini-waiting">No matches found.</div>')}}function p(e,t){t.querySelectorAll(".mini-item").forEach(function(t){""===e.value||t.textContent.toLowerCase().includes(e.value.toLowerCase())?t.style.display="":t.style.display="none"})}function t(){(document.querySelectorAll(".mini-tags .tag.is-delete")||[]).forEach(function(i){i.addEventListener("click",function(){var t=i.closest(".control"),e=i.closest(".mini-tags");t.remove(),d(e)})}),(document.querySelectorAll(".input-mini:not(.loaded)")||[]).forEach(function(r){r.classList.add("loaded");var e,i,t,n,a,o=r.parentElement.querySelector(".mini"),s=r.parentElement.querySelector('input[type="hidden"], select.is-hidden'),l=r.parentElement.parentElement.querySelector(".mini-clear");r.addEventListener("click",function(){h(),u(o)}),r.addEventListener("focus",function(){""!==r.value&&(h(),u(o),o.dispatchEvent(new CustomEvent("input")))}),r.hasAttribute("search-area")?(r.addEventListener("keydown",function(t){var e,i;13===Number(t.keyCode)||3===Number(t.keyCode)?(t.preventDefault(),console.log(o),(e=o.querySelector(".mini-item.is-active"))&&e.dispatchEvent(new CustomEvent("click"))):40===Number(t.keyCode)?((e=o.querySelector(".mini-item.is-active"))?(e.nextElementSibling?e.nextElementSibling.classList.add("is-active"):(i=o.querySelector(".mini-item"))&&i.classList.add("is-active"),e.classList.remove("is-active")):(i=o.querySelector(".mini-item"))&&i.classList.add("is-active"),t.preventDefault(),console.log(o)):38===Number(t.keyCode)?(t.preventDefault(),(e=o.querySelector(".mini-item.is-active"))?(e.previousElementSibling?e.previousElementSibling.classList.add("is-active"):(i=o.querySelector(".mini-item:last-child"))&&i.classList.add("is-active"),e.classList.remove("is-active")):(i=o.querySelector(".mini-item:last-child"))&&i.classList.add("is-active")):9===Number(t.keyCode)&&h()}),r.addEventListener("input",function(){o.classList.contains("is-active")||u(o),s&&(s.value=""),window.clearTimeout(v),r.classList.remove("is-danger"),v=window.setTimeout(function(){var e,i,t,n,a;i=o,t=(e=r).getAttribute("search-area"),n=s,a=e.value,0<e.value.length?(null!==g&&g.abort(),(g=new XMLHttpRequest).open("post","/Search?handler="+t+"&s="+a,!0),g.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),g.setRequestHeader("X-Requested-With","XMLHttpRequest"),g.send(),g.addEventListener("load",function(){var t=g.responseText;f(i,t,n,e)})):i.innerHTML='<div class="mini-waiting">\n                    <span class="icon">\n                        <i class="fas fa-circle-notch fa-spin"></i>\n                    </span>\n                </div>',window.clearTimeout(v)},250)})):r.hasAttribute("lookup-area")&&(i=o,t=(e=r).getAttribute("lookup-area"),n=s,(a=new XMLHttpRequest).open("post","/Search?handler=ValueList&s="+t,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),a.setRequestHeader("X-Requested-With","XMLHttpRequest"),a.send(),a.addEventListener("load",function(){var t=a.responseText;f(i,t,n,e)}),r.classList.contains("multiselect"))&&r.addEventListener("input",function(){r.classList.remove("is-danger"),p(r,o)}),l&&l.addEventListener("click",function(){s.value="",r.value="",r.classList.remove("is-danger")})}),(document.querySelectorAll(".mini-background:not(.loaded), .mini-close:not(.loaded), .mini-card-head:not(.loaded) .delete:not(.loaded), .mini-card-foot:not(.loaded) .button:not(.loaded)")||[]).forEach(function(t){var e=t.closest(".mini");t.classList.add("loaded"),t.addEventListener("click",function(){i(e)})}),window.addEventListener("click",function(t){t.target.closest(".mini,.input-mini")||h()}),document.addEventListener("keydown",function(t){t=t||window.event,27===Number(t.keyCode)&&h()}),(document.querySelectorAll(".mini-tags.reorder:not(.loaded)")||[]).forEach(function(t){t.classList.add("loaded"),t.addEventListener("reorder",function(){d(t)})})}var g,v;v=g=null,t(),document.addEventListener("ajax",function(){t()})}(),function(){"use strict";function e(){(document.querySelectorAll(".dropdown:not(.is-hoverable)")||[]).forEach(function(t){t.classList.remove("is-active")})}document.addEventListener("click",function(t){t.target.closest(".dropdown.is-active")||e()}),document.addEventListener("keydown",function(t){t=t||window.event,27===Number(t.keyCode)&&e()}),document.addEventListener("click",function(t){var e;t.target.closest(".dropdown:not(.is-hoverable)")&&(e=t.target.closest(".dropdown:not(.is-hoverable)"),t.stopPropagation(),e.classList.contains("is-active")?e.classList.remove("is-active"):e.classList.add("is-active"))})}();var module=function(t){"use strict";function n(t,e){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var n,a,r,o,s=[],l=!0,u=!1;try{if(r=(i=i.call(t)).next,0===e){if(Object(i)!==i)return;l=!1}else for(;!(l=(n=r.call(i)).done)&&(s.push(n.value),s.length!==e);l=!0);}catch(c){u=!0,a=c}finally{try{if(!l&&null!=i["return"]&&(o=i["return"](),Object(o)!==o))return}finally{if(u)throw a}}return s}}function r(e,t){var i,n=Object.keys(e);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(e),t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)),n}function R(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?r(Object(i),!0).forEach(function(t){_(e,t,i[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))})}return e}function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function d(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,U(n.key),n)}}function o(t,e,i){return e&&a(t.prototype,e),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function _(t,e,i){return(e=U(e))in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&F(t,e)}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function c(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function F(t,e){return(F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function F(t,e){return t.__proto__=e,t})(t,e)}function V(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h(a){var r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var t,e=c(a),i=(t=r?(t=c(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this),n=t;if(n&&("object"==typeof n||"function"==typeof n))return n;if(void 0!==n)throw new TypeError("Derived constructors may only return object or undefined");return V(i)}}function f(){return(f="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function f(t,e,i){var n=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=c(t)););return t}(t,e);if(n)return(n=Object.getOwnPropertyDescriptor(n,e)).get?n.get.call(arguments.length<3?t:i):n.value}).apply(this,arguments)}function B(t,e){return function(t){if(Array.isArray(t))return t}(t)||n(t,e)||W(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t){return function(t){if(Array.isArray(t))return X(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||W(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(t,e){var i;if(t)return"string"==typeof t?X(t,e):"Map"===(i="Object"===(i=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:i)||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?X(t,e):void 0}function X(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}function C(t,e){var i,n,a,r,o,s="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(s)return n=!(i=!0),{s:function(){s=s.call(t)},n:function(){var t=s.next();return i=t.done,t},e:function(t){n=!0,a=t},f:function(){try{i||null==s["return"]||s["return"]()}finally{if(n)throw a}}};if(Array.isArray(t)||(s=W(t))||e&&t&&"number"==typeof t.length)return s&&(t=s),r=0,{s:o=function(){},n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function U(t){var e=function(t,e){if("object"!=typeof t||null===t)return t;var i=t[Symbol.toPrimitive];if(i===undefined)return("string"===e?String:Number)(t);if("object"!=typeof(i=i.call(t,e||"default")))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}(t,"string");return"symbol"==typeof e?e:String(e)}function Y(t){return t+.5|0}var $=function $(t,e,i){return Math.max(Math.min(t,i),e)};function K(t){return $(Y(2.55*t),0,255)}function J(t){return $(Y(255*t),0,255)}function G(t){return $(Y(t/2.55)/100,0,1)}function Z(t){return $(Y(100*t),0,100)}var s={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Q=p("0123456789ABCDEF"),tt=function tt(t){return Q[15&t]},et=function et(t){return Q[(240&t)>>4]+Q[15&t]},it=function it(t){return(240&t)>>4==(15&t)},nt=function nt(t){return it(t.r)&&it(t.g)&&it(t.b)&&it(t.a)};var at=function at(t,e){return t<255?e(t):""};var rt=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function ot(i,t,n){var a,r=t*Math.min(n,1-n);return[(a=function a(t){var e=1<arguments.length&&arguments[1]!==undefined?arguments[1]:(t+i/30)%12;return n-r*Math.max(Math.min(e-3,9-e,1),-1)})(0),a(8),a(4)]}function st(i,n,a){var r;return[(r=function r(t){var e=1<arguments.length&&arguments[1]!==undefined?arguments[1]:(t+i/60)%6;return a-a*n*Math.max(Math.min(e,4-e,1),0)})(5),r(3),r(1)]}function lt(t,e,i){var n,a=ot(t,1,.5);for(1<e+i&&(e*=n=1/(e+i),i*=n),n=0;n<3;n++)a[n]*=1-e-i,a[n]+=e;return a}function ut(t){var e,i,n,a,r,o,s=t.r/255,l=t.g/255,u=t.b/255,c=Math.max(s,l,u),h=Math.min(s,l,u),d=(c+h)/2;return c!==h&&(i=c-h,e=.5<d?i/(2-c-h):i/(c+h),t=l,a=u,r=i,i=60*(i=(n=s)===(o=c)?(t-a)/r+(t<a?6:0):t===o?(a-n)/r+2:(n-t)/r+4)+.5),[0|i,e||0,d]}function ct(t,e,i,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,i,n)).map(J)}function ht(t,e,i){return ct(ot,t,e,i)}function dt(t){return(t%360+360)%360}function ft(t){var e,i,n,a,r=rt.exec(t),o=255;if(r)return r[5]!==a&&(o=(r[6]?K:J)(+r[5])),e=dt(+r[2]),i=+r[3]/100,n=+r[4]/100,{r:(a="hwb"===r[1]?ct(lt,e,i,n):"hsv"===r[1]?ct(st,e,i,n):ht(e,i,n))[0],g:a[1],b:a[2],a:o}}var pt,gt={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},vt={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function mt(t){pt||((pt=function(){for(var t,e,i,n,a={},r=Object.keys(vt),o=Object.keys(gt),s=0;s<r.length;s++){for(i=n=r[s],t=0;t<o.length;t++)e=o[t],n=n.replace(e,gt[e]);e=parseInt(vt[i],16),a[n]=[e>>16&255,e>>8&255,255&e]}return a}()).transparent=[0,0,0,0]);var e=pt[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:4===e.length?e[3]:255}}var yt=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;var bt=function bt(t){return t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055},xt=function xt(t){return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)};function _t(t,e,i){var n;t&&((n=ut(t))[e]=Math.max(0,Math.min(n[e]+n[e]*i,0===e?360:1)),n=ht(n),t.r=n[0],t.g=n[1],t.b=n[2])}function kt(t,e){return t&&Object.assign(e||{},t)}function wt(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?3<=t.length&&(e={r:t[0],g:t[1],b:t[2],a:255},3<t.length)&&(e.a=J(t[3])):(e=kt(t,{r:0,g:0,b:0,a:1})).a=J(e.a),e}function Mt(t){var e,i,n,a,r;return"r"===t.charAt(0)?(a=yt.exec(t),r=255,a?(void 0!==a[7]&&(n=+a[7],r=a[8]?K(n):$(255*n,0,255)),n=+a[1],e=+a[3],i=+a[5],{r:255&(a[2]?K(n):$(n,0,255)),g:255&(a[4]?K(e):$(e,0,255)),b:255&(a[6]?K(i):$(i,0,255)),a:r}):void 0):ft(t)}var St=function(){function r(t){if(d(this,r),t instanceof r)return t;var e,i,n,a=I(t);"object"===a?e=wt(t):"string"===a&&(a=(i=t).length,"#"===i[0]&&(4===a||5===a?n={r:255&17*s[i[1]],g:255&17*s[i[2]],b:255&17*s[i[3]],a:5===a?17*s[i[4]]:255}:7!==a&&9!==a||(n={r:s[i[1]]<<4|s[i[2]],g:s[i[3]]<<4|s[i[4]],b:s[i[5]]<<4|s[i[6]],a:9===a?s[i[7]]<<4|s[i[8]]:255})),e=n||mt(t)||Mt(t)),this._rgb=e,this._valid=!!e}return o(r,[{key:"valid",get:function(){return this._valid}},{key:"rgb",get:function(){var t=kt(this._rgb);return t&&(t.a=G(t.a)),t},set:function(t){this._rgb=wt(t)}},{key:"rgbString",value:function(){return this._valid?(t=this._rgb)&&(t.a<255?"rgba(".concat(t.r,", ").concat(t.g,", ").concat(t.b,", ").concat(G(t.a),")"):"rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")")):undefined;var t}},{key:"hexString",value:function(){return this._valid&&(t=this._rgb,e=nt(t)?tt:et,t)?"#"+e(t.r)+e(t.g)+e(t.b)+at(t.a,e):undefined;var t,e}},{key:"hslString",value:function(){{var t,e,i,n;if(this._valid)return(n=this._rgb)?(t=(i=ut(n))[0],e=Z(i[1]),i=Z(i[2]),n.a<255?"hsla(".concat(t,", ").concat(e,"%, ").concat(i,"%, ").concat(G(n.a),")"):"hsl(".concat(t,", ").concat(e,"%, ").concat(i,"%)")):void 0}return undefined}},{key:"mix",value:function(t,e){var i,n,a,r,o,s;return t&&(i=this.rgb,n=t.rgb,r=i.a-n.a,i.r=255&(o=(1+((o=2*(a=e===s?.5:e)-1)*r==-1?o:(o+r)/(1+o*r)))/2)*i.r+(s=1-o)*n.r+.5,i.g=255&o*i.g+s*n.g+.5,i.b=255&o*i.b+s*n.b+.5,i.a=a*i.a+(1-a)*n.a,this.rgb=i),this}},{key:"interpolate",value:function Uo(t,e){var i,n,a,r;return t&&(this._rgb=(i=this._rgb,t=t._rgb,e=e,n=xt(G(i.r)),a=xt(G(i.g)),r=xt(G(i.b)),{r:J(bt(n+e*(xt(G(t.r))-n))),g:J(bt(a+e*(xt(G(t.g))-a))),b:J(bt(r+e*(xt(G(t.b))-r))),a:i.a+e*(t.a-i.a)})),this}},{key:"clone",value:function Dt(){return new r(this.rgb)}},{key:"alpha",value:function at(t){return this._rgb.a=J(t),this}},{key:"clearer",value:function(t){return this._rgb.a*=1-t,this}},{key:"greyscale",value:function(){var t=this._rgb,e=Y(.3*t.r+.59*t.g+.11*t.b);return t.r=t.g=t.b=e,this}},{key:"opaquer",value:function(t){return this._rgb.a*=1+t,this}},{key:"negate",value:function(){var t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}},{key:"lighten",value:function(t){return _t(this._rgb,2,t),this}},{key:"darken",value:function(t){return _t(this._rgb,2,-t),this}},{key:"saturate",value:function(t){return _t(this._rgb,1,t),this}},{key:"desaturate",value:function(t){return _t(this._rgb,1,-t),this}},{key:"rotate",value:function(t){var e,i;return e=this._rgb,t=t,(i=ut(e))[0]=dt(i[0]+t),i=ht(i),e.r=i[0],e.g=i[1],e.b=i[2],this}}]),r}();function Lt(){}Et=0;var Et,At=function(){return Et++};function O(t){return null==t}function H(t){var e;return!(!Array.isArray||!Array.isArray(t))||"[object"===(e=Object.prototype.toString.call(t)).slice(0,7)&&"Array]"===e.slice(-6)}function q(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}function g(t){return("number"==typeof t||t instanceof Number)&&isFinite(+t)}function v(t,e){return g(t)?t:e}function z(t,e){return void 0===t?e:t}var Pt=function Pt(t,e){return"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100:+t/e},Ct=function Ct(t,e){return"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*e:+t};function m(t,e,i){if(t&&"function"==typeof t.call)return t.apply(i,e)}function S(t,e,i,n){var a,r,o;if(H(t))if(r=t.length,n)for(a=r-1;0<=a;a--)e.call(i,t[a],a);else for(a=0;a<r;a++)e.call(i,t[a],a);else if(q(t))for(r=(o=Object.keys(t)).length,a=0;a<r;a++)e.call(i,t[o[a]],o[a])}function Ot(t,e){var i,n,a,r;if(t&&e&&t.length===e.length){for(i=0,n=t.length;i<n;++i)if(a=t[i],r=e[i],a.datasetIndex!==r.datasetIndex||a.index!==r.index)return;return 1}}function Dt(t){if(H(t))return t.map(Dt);if(q(t)){for(var e=Object.create(null),i=Object.keys(t),n=i.length,a=0;a<n;++a)e[i[a]]=Dt(t[i[a]]);return e}return t}function Tt(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function Rt(t,e,i,n){var a,r;Tt(t)&&(a=e[t],r=i[t],q(a)&&q(r)?It(a,r,n):e[t]=Dt(r))}function It(t,e,i){var n=H(e)?e:[e],a=n.length;if(q(t))for(var r,o=(i=i||{}).merger||Rt,s=0;s<a;++s)if(q(r=n[s]))for(var l=Object.keys(r),u=0,c=l.length;u<c;++u)o(l[u],t,r,i);return t}function Ft(t,e){return It(t,e,{merger:zt})}function zt(t,e,i){var n,a;Tt(t)&&(n=e[t],a=i[t],q(n)&&q(a)?Ft(n,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=Dt(a)))}var Ht={"":function(t){return t},x:function(t){return t.x},y:function(t){return t.y}};function qt(t){var e,i=[],n="",a=C(t.split("."));try{for(a.s();!(e=a.n()).done;)n=(n+=e.value).endsWith("\\")?n.slice(0,-1)+".":(i.push(n),"")}catch(r){a.e(r)}finally{a.f()}return i}function jt(t){var r=qt(t);return function(t){var e,i=C(r);try{for(i.s();!(e=i.n()).done;){var n=e.value;if(""===n)break;t=t&&t[n]}}catch(a){i.e(a)}finally{i.f()}return t}}function Nt(t,e){return(Ht[e]||(Ht[e]=jt(e)))(t)}function Vt(t){return t.charAt(0).toUpperCase()+t.slice(1)}var y=function y(t){return void 0!==t},Bt=function Bt(t){return"function"==typeof t},Wt=function Wt(t,e){if(t.size!==e.size)return!1;var i,n=C(t);try{for(n.s();!(i=n.n()).done;){var a=i.value;if(!e.has(a))return!1}}catch(r){n.e(r)}finally{n.f()}return!0};var L=Math.PI,M=2*L,Xt=M+L,Ut=Number.POSITIVE_INFINITY,Yt=L/180,E=L/2,$t=L/4,Kt=2*L/3,Jt=Math.log10,Gt=Math.sign;function Zt(t,e,i){return Math.abs(t-e)<i}function Qt(t){var e=Math.round(t),e=(t=Zt(t,e,t/1e3)?e:t,Math.pow(10,Math.floor(Jt(t)))),i=t/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function te(t){return!isNaN(parseFloat(t))&&isFinite(t)}function ee(t,e,i){for(var n,a=0,r=t.length;a<r;a++)n=t[a][i],isNaN(n)||(e.min=Math.min(e.min,n),e.max=Math.max(e.max,n))}function j(t){return t*(L/180)}function ie(t){return t*(180/L)}function ne(t){if(g(t)){for(var e=1,i=0;Math.round(t*e)/e!==t;)e*=10,i++;return i}}function ae(t,e){var i=e.x-t.x,n=e.y-t.y,a=Math.sqrt(i*i+n*n),n=Math.atan2(n,i);return n<-.5*L&&(n+=M),{angle:n,distance:a}}function re(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function oe(t,e){return(t-e+Xt)%M-L}function k(t){return(t%M+M)%M}function se(t,e,i,n){var a=k(t),r=k(e),o=k(i),s=k(r-a),l=k(o-a),u=k(a-r),c=k(a-o);return a===r||a===o||n&&r===o||l<s&&u<c}function b(t,e,i){return Math.max(e,Math.min(i,t))}function le(t,e,i){var n=3<arguments.length&&arguments[3]!==undefined?arguments[3]:1e-6;return t>=Math.min(e,i)-n&&t<=Math.max(e,i)+n}function ue(e,i,t){t=t||function(t){return e[t]<i};for(var n,a=e.length-1,r=0;1<a-r;)t(n=r+a>>1)?r=n:a=n;return{lo:r,hi:a}}var ce=function ce(i,n,a,t){return ue(i,a,t?function(t){var e=i[t][n];return e<a||e===a&&i[t+1][n]===a}:function(t){return i[t][n]<a})},he=function he(e,i,n){return ue(e,n,function(t){return e[t][i]>=n})};var de=["push","pop","shift","splice","unshift"];function fe(e,t){var i,n=e._chartjs;n&&(-1!==(i=(n=n.listeners).indexOf(t))&&n.splice(i,1),0<n.length||(de.forEach(function(t){delete e[t]}),delete e._chartjs))}function pe(t){for(var e=new Set,i=0,n=t.length;i<n;++i)e.add(t[i]);return e.size===n?t:Array.from(e)}var ge="undefined"==typeof window?function(t){return t()}:window.requestAnimationFrame;function ve(n,a){var r,o=!1;return function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];r=e,o||(o=!0,ge.call(window,function(){o=!1,n.apply(a,r)}))}}var me=function me(t){return"start"===t?"left":"end"===t?"right":"center"},A=function A(t,e,i){return"start"===t?e:"end"===t?i:(e+i)/2},ye=function ye(t,e,i,n){return t===(n?"left":"right")?i:"center"===t?(e+i)/2:e};function be(t,e,i){var n,a,r,o,s,l,u,c=e.length,h=0,d=c;return t._sorted&&(n=t.iScale,a=t._parsed,r=n.axis,o=(u=n.getUserBounds()).min,s=u.max,l=u.minDefined,u=u.maxDefined,l&&(h=b(Math.min(ce(a,n.axis,o).lo,i?c:ce(e,r,n.getPixelForValue(o)).lo),0,c-1)),d=u?b(Math.max(ce(a,n.axis,s,!0).hi+1,i?0:ce(e,r,n.getPixelForValue(s),!0).hi+1),h,c)-h:c-h),{start:h,count:d}}function xe(t){var e=t.xScale,i=t.yScale,n=t._scaleRanges,a={xmin:e.min,xmax:e.max,ymin:i.min,ymax:i.max};return n?(e=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==i.min||n.ymax!==i.max,Object.assign(n,a),e):(t._scaleRanges=a,1)}var _e=function _e(t){return 0===t||1===t},ke=function ke(t,e,i){return-(Math.pow(2,10*--t)*Math.sin((t-e)*M/i))},we=function we(t,e,i){return Math.pow(2,-10*t)*Math.sin((t-e)*M/i)+1},Me={linear:function(t){return t},easeInQuad:function(t){return t*t},easeOutQuad:function(t){return-t*(t-2)},easeInOutQuad:function(t){return(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1)},easeInCubic:function(t){return t*t*t},easeOutCubic:function(t){return--t*t*t+1},easeInOutCubic:function(t){return(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},easeInQuart:function(t){return t*t*t*t},easeOutQuart:function(t){return-(--t*t*t*t-1)},easeInOutQuart:function(t){return(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},easeInQuint:function(t){return t*t*t*t*t},easeOutQuint:function(t){return--t*t*t*t*t+1},easeInOutQuint:function(t){return(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},easeInSine:function(t){return 1-Math.cos(t*E)},easeOutSine:function(t){return Math.sin(t*E)},easeInOutSine:function(t){return-.5*(Math.cos(L*t)-1)},easeInExpo:function(t){return 0===t?0:Math.pow(2,10*(t-1))},easeOutExpo:function(t){return 1===t?1:1-Math.pow(2,-10*t)},easeInOutExpo:function(t){return _e(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1)))},easeInCirc:function(t){return 1<=t?t:-(Math.sqrt(1-t*t)-1)},easeOutCirc:function(t){return Math.sqrt(1- --t*t)},easeInOutCirc:function(t){return(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},easeInElastic:function(t){return _e(t)?t:ke(t,.075,.3)},easeOutElastic:function(t){return _e(t)?t:we(t,.075,.3)},easeInOutElastic:function(t){return _e(t)?t:t<.5?.5*ke(2*t,.1125,.45):.5+.5*we(2*t-1,.1125,.45)},easeInBack:function(t){return t*t*(2.70158*t-1.70158)},easeOutBack:function(t){return--t*t*(2.70158*t+1.70158)+1},easeInOutBack:function(t){var e=1.70158;return(t/=.5)<1?t*t*((1+(e*=1.525))*t-e)*.5:.5*((t-=2)*t*((1+(e*=1.525))*t+e)+2)},easeInBounce:function(t){return 1-Me.easeOutBounce(1-t)},easeOutBounce:function(t){var e=7.5625,i=2.75;return t<1/i?e*t*t:t<2/i?e*(t-=1.5/i)*t+.75:t<2.5/i?e*(t-=2.25/i)*t+.9375:e*(t-=2.625/i)*t+.984375},easeInOutBounce:function(t){return t<.5?.5*Me.easeInBounce(2*t):.5*Me.easeOutBounce(2*t-1)+.5}};function Se(t){var e;if(t&&"object"===I(t))return"[object CanvasPattern]"===(e=t.toString())||"[object CanvasGradient]"===e}function Le(t){return Se(t)?t:new St(t)}function Ee(t){return Se(t)?t:new St(t).saturate(.5).darken(.1).hexString()}var Ae=["x","y","borderWidth","radius","tension"],Pe=["color","borderColor","backgroundColor"];var Ce=new Map;function Oe(t,e,i){return i=(i=i)||{},n=(e=e)+JSON.stringify(i),(a=Ce.get(n))||(a=new Intl.NumberFormat(e,i),Ce.set(n,a)),a.format(t);var n,a}var De={values:function(t){return H(t)?t:""+t},numeric:function(t,e,i){var n,a,r,o;return 0===t?"0":(n=this.chart.options.locale,r=t,1<i.length&&(((a=Math.max(Math.abs(i[0].value),Math.abs(i[i.length-1].value)))<1e-4||1e15<a)&&(o="scientific"),r=function(t,e){var i=3<e.length?e[2].value-e[1].value:e[1].value-e[0].value;1<=Math.abs(i)&&t!==Math.floor(t)&&(i=t-Math.floor(t));return i}(t,i)),a=Jt(Math.abs(r)),o={notation:o,minimumFractionDigits:r=Math.max(Math.min(-1*Math.floor(a),20),0),maximumFractionDigits:r},Object.assign(o,this.options.ticks.format),Oe(t,n,o))},logarithmic:function(t,e,i){var n;return 0===t?"0":(n=i[e].significand||t/Math.pow(10,Math.floor(Jt(t))),[1,2,3,5,10,15].includes(n)||e>.8*i.length?De.numeric.call(this,t,e,i):"")}};var Te={formatters:De};var Re=Object.create(null),Ie=Object.create(null);function Fe(t,e){if(e)for(var i=e.split("."),n=0,a=i.length;n<a;++n){var r=i[n];t=t[r]||(t[r]=Object.create(null))}return t}function ze(t,e,i){return"string"==typeof e?It(Fe(t,e),i):It(Fe(t,""),e)}var P=new(function(){function i(t,e){d(this,i),this.animation=undefined,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=function(t){return t.chart.platform.getDevicePixelRatio()},this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=function(t,e){return Ee(e.backgroundColor)},this.hoverBorderColor=function(t,e){return Ee(e.borderColor)},this.hoverColor=function(t,e){return Ee(e.color)},this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=undefined,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}return o(i,[{key:"set",value:function(t,e){return ze(this,t,e)}},{key:"get",value:function(t){return Fe(this,t)}},{key:"describe",value:function(t,e){return ze(Ie,t,e)}},{key:"override",value:function(t,e){return ze(Re,t,e)}},{key:"route",value:function(t,e,i,n){var a,r=Fe(this,t),o=Fe(this,i),s="_"+e;Object.defineProperties(r,(_(a={},s,{value:r[e],writable:!0}),_(a,e,{enumerable:!0,get:function(){var t=this[s],e=o[n];return q(t)?Object.assign({},e,t):z(t,e)},set:function(t){this[s]=t}}),a))}},{key:"apply",value:function(t){var e=this;t.forEach(function(t){return t(e)})}}]),i}())({_scriptable:function(t){return!t.startsWith("on")},_indexable:function(t){return"events"!==t},hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(t){t.set("animation",{delay:undefined,duration:1e3,easing:"easeOutQuart",fn:undefined,from:undefined,loop:undefined,to:undefined,type:undefined}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:function(t){return"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}}),t.set("animations",{colors:{type:"color",properties:Pe},numbers:{type:"number",properties:Ae}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:function(t){return 0|t}}}}})},function(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:function(t,e){return e.lineWidth},tickColor:function(t,e){return e.color},offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Te.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:function(t){return!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t},_indexable:function(t){return"borderDash"!==t&&"tickBorderDash"!==t&&"dash"!==t}}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:function(t){return"backdropPadding"!==t&&"callback"!==t},_indexable:function(t){return"backdropPadding"!==t}})}]);function He(t,e,i,n,a){var r=e[a];return r||(r=e[a]=t.measureText(a).width,i.push(a)),n=n<r?r:n}function qe(t,e,i){var n=t.currentDevicePixelRatio,a=0!==i?Math.max(i/2,.5):0;return Math.round((e-a)*n)/n+a}function je(t,e){(e=e||t.getContext("2d")).save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore()}function Ne(t,e,i,n){Ve(t,e,i,n,null)}function Ve(t,e,i,n,a){var r,o,s,l,u,c,h,d,f=e.pointStyle,p=e.rotation,g=e.radius,v=(p||0)*Yt;if(!f||"object"!==I(f)||"[object HTMLImageElement]"!==(r=f.toString())&&"[object HTMLCanvasElement]"!==r){if(!(isNaN(g)||g<=0)){switch(t.beginPath(),f){default:a?t.ellipse(i,n,a/2,g,0,0,M):t.arc(i,n,g,0,M),t.closePath();break;case"triangle":c=a?a/2:g,t.moveTo(i+Math.sin(v)*c,n-Math.cos(v)*g),v+=Kt,t.lineTo(i+Math.sin(v)*c,n-Math.cos(v)*g),v+=Kt,t.lineTo(i+Math.sin(v)*c,n-Math.cos(v)*g),t.closePath();break;case"rectRounded":l=g-(u=.516*g),o=Math.cos(v+$t)*l,h=Math.cos(v+$t)*(a?a/2-u:l),s=Math.sin(v+$t)*l,d=Math.sin(v+$t)*(a?a/2-u:l),t.arc(i-h,n-s,u,v-L,v-E),t.arc(i+d,n-o,u,v-E,v),t.arc(i+h,n+s,u,v,v+E),t.arc(i-d,n+o,u,v+E,v+L),t.closePath();break;case"rect":if(!p){l=Math.SQRT1_2*g,t.rect(i-(c=a?a/2:l),n-l,2*c,2*l);break}v+=$t;case"rectRot":h=Math.cos(v)*(a?a/2:g),o=Math.cos(v)*g,s=Math.sin(v)*g,d=Math.sin(v)*(a?a/2:g),t.moveTo(i-h,n-s),t.lineTo(i+d,n-o),t.lineTo(i+h,n+s),t.lineTo(i-d,n+o),t.closePath();break;case"crossRot":v+=$t;case"cross":h=Math.cos(v)*(a?a/2:g),o=Math.cos(v)*g,s=Math.sin(v)*g,d=Math.sin(v)*(a?a/2:g),t.moveTo(i-h,n-s),t.lineTo(i+h,n+s),t.moveTo(i+d,n-o),t.lineTo(i-d,n+o);break;case"star":h=Math.cos(v)*(a?a/2:g),o=Math.cos(v)*g,s=Math.sin(v)*g,d=Math.sin(v)*(a?a/2:g),t.moveTo(i-h,n-s),t.lineTo(i+h,n+s),t.moveTo(i+d,n-o),t.lineTo(i-d,n+o),v+=$t,h=Math.cos(v)*(a?a/2:g),o=Math.cos(v)*g,s=Math.sin(v)*g,d=Math.sin(v)*(a?a/2:g),t.moveTo(i-h,n-s),t.lineTo(i+h,n+s),t.moveTo(i+d,n-o),t.lineTo(i-d,n+o);break;case"line":o=a?a/2:Math.cos(v)*g,s=Math.sin(v)*g,t.moveTo(i-o,n-s),t.lineTo(i+o,n+s);break;case"dash":t.moveTo(i,n),t.lineTo(i+Math.cos(v)*(a?a/2:g),n+Math.sin(v)*g);break;case!1:t.closePath()}t.fill(),0<e.borderWidth&&t.stroke()}}else t.save(),t.translate(i,n),t.rotate(v),t.drawImage(f,-f.width/2,-f.height/2,f.width,f.height),t.restore()}function Be(t,e,i){return i=i||.5,!e||t&&t.x>e.left-i&&t.x<e.right+i&&t.y>e.top-i&&t.y<e.bottom+i}function We(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function Xe(t){t.restore()}function Ue(t,e,i,n,a){if(!e)return t.lineTo(i.x,i.y);var r;"middle"===a?(r=(e.x+i.x)/2,t.lineTo(r,e.y),t.lineTo(r,i.y)):"after"===a!=!!n?t.lineTo(e.x,i.y):t.lineTo(i.x,e.y),t.lineTo(i.x,i.y)}function Ye(t,e,i,n){if(!e)return t.lineTo(i.x,i.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?i.cp2x:i.cp1x,n?i.cp2y:i.cp1y,i.x,i.y)}function $e(t,e,i,n,a,r){var o,s,l=5<arguments.length&&r!==undefined?r:{},u=H(e)?e:[e],c=0<l.strokeWidth&&""!==l.strokeColor,r=(t.save(),t.font=a.string,t),e=l;for(e.translation&&r.translate(e.translation[0],e.translation[1]),O(e.rotation)||r.rotate(e.rotation),e.color&&(r.fillStyle=e.color),e.textAlign&&(r.textAlign=e.textAlign),e.textBaseline&&(r.textBaseline=e.textBaseline),o=0;o<u.length;++o){s=u[o],l.backdrop&&(v=t,g=l.backdrop,f=void 0,f=v.fillStyle,v.fillStyle=g.color,v.fillRect(g.left,g.top,g.width,g.height),v.fillStyle=f),c&&(l.strokeColor&&(t.strokeStyle=l.strokeColor),O(l.strokeWidth)||(t.lineWidth=l.strokeWidth),t.strokeText(s,i,n,l.maxWidth)),t.fillText(s,i,n,l.maxWidth),p=d=h=f=b=y=m=v=g=void 0;var h,d,f,p,g=t,v=i,m=n,y=s,b=l;(b.strikethrough||b.underline)&&(f=g.measureText(y),h=v-f.actualBoundingBoxLeft,d=v+f.actualBoundingBoxRight,p=m-f.actualBoundingBoxAscent,f=m+f.actualBoundingBoxDescent,p=b.strikethrough?(p+f)/2:f,g.strokeStyle=g.fillStyle,g.beginPath(),g.lineWidth=b.decorationWidth||2,g.moveTo(h,p),g.lineTo(d,p),g.stroke()),n+=a.lineHeight}t.restore()}function Ke(t,e){var i=e.x,n=e.y,a=e.w,r=e.h,o=e.radius;t.arc(i+o.topLeft,n+o.topLeft,o.topLeft,-E,L,!0),t.lineTo(i,n+r-o.bottomLeft),t.arc(i+o.bottomLeft,n+r-o.bottomLeft,o.bottomLeft,L,E,!0),t.lineTo(i+a-o.bottomRight,n+r),t.arc(i+a-o.bottomRight,n+r-o.bottomRight,o.bottomRight,E,0,!0),t.lineTo(i+a,n+o.topRight),t.arc(i+a-o.topRight,n+o.topRight,o.topRight,0,-E,!0),t.lineTo(i+o.topLeft,n)}var Je=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Ge=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;var Ze=function Ze(t){return+t||0};function Qe(e,i){var t,n={},a=q(i),r=a?Object.keys(i):i,o=q(e)?a?function(t){return z(e[t],e[i[t]])}:function(t){return e[t]}:function(){return e},s=C(r);try{for(s.s();!(t=s.n()).done;){var l=t.value;n[l]=Ze(o(l))}}catch(u){s.e(u)}finally{s.f()}return n}function ti(t){return Qe(t,{top:"y",right:"x",bottom:"y",left:"x"})}function ei(t){return Qe(t,["topLeft","topRight","bottomLeft","bottomRight"])}function N(t){var e=ti(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function D(t,e){e=e||P.font;var i=z((t=t||{}).size,e.size),n=("string"==typeof i&&(i=parseInt(i,10)),z(t.style,e.style)),i=(n&&!(""+n).match(Ge)&&(console.warn('Invalid font style specified: "'+n+'"'),n=undefined),{family:z(t.family,e.family),lineHeight:function(t,e){var i=(""+t).match(Je);if(!i||"normal"===i[1])return 1.2*e;switch(t=+i[2],i[3]){case"px":return t;case"%":t/=100}return e*t}(z(t.lineHeight,e.lineHeight),i),size:i,style:n,weight:z(t.weight,e.weight),string:""});return i.string=!(t=i)||O(t.size)||O(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family,i}function ii(t,e,i,n){for(var a,r=!0,o=0,s=t.length;o<s;++o)if((a=t[o])!==undefined&&(e!==undefined&&"function"==typeof a&&(a=a(e),r=!1),i!==undefined&&H(a)&&(a=a[i%a.length],r=!1),a!==undefined))return n&&!r&&(n.cacheable=!1),a}function ni(t,e){return Object.assign(Object.create(t),e)}function ai(i,t,e,n,a){var r,o=1<arguments.length&&t!==undefined?t:[""],s=2<arguments.length&&e!==undefined?e:i,l=3<arguments.length?n:undefined,u=4<arguments.length&&a!==undefined?a:function(){return i[0]};return y(l)||(l=mi("_fallback",i)),_(r={},Symbol.toStringTag,"Object"),_(r,"_cacheable",!0),_(r,"_scopes",i),_(r,"_rootScopes",s),_(r,"_fallback",l),_(r,"_getTarget",u),_(r,"override",function(t){return ai([t].concat(p(i)),o,s,l)}),new Proxy(r,{deleteProperty:function(t,e){return delete t[e],delete t._keys,delete i[0][e],!0},get:function(t,e){return ui(t,e,function(){return vi(e,o,i,t)})},getOwnPropertyDescriptor:function(t,e){return Reflect.getOwnPropertyDescriptor(t._scopes[0],e)},getPrototypeOf:function(){return Reflect.getPrototypeOf(i[0])},has:function(t,e){return yi(t).includes(e)},ownKeys:yi,set:function(t,e,i){var n=t._storage||(t._storage=u());return t[e]=n[e]=i,delete t._keys,!0}})}function ri(n,e,i,a){var t={_cacheable:!1,_proxy:n,_context:e,_subProxy:i,_stack:new Set,_descriptors:oi(n,a),setContext:function(t){return ri(n,t,i,a)},override:function(t){return ri(n.override(t),e,i,a)}};return new Proxy(t,{deleteProperty:function(t,e){return delete t[e],delete n[e],!0},get:function(s,l,u){return ui(s,l,function(){var t=s,e=l,i=u,n=t._proxy,a=t._context,r=t._subProxy,o=t._descriptors,n=n[e];return H(n=Bt(n)&&o.isScriptable(e)?function(t,e,i,n){var a=i._proxy,r=i._context,o=i._subProxy,s=i._stack;if(s.has(t))throw new Error("Recursion detected: "+Array.from(s).join("->")+"->"+t);s.add(t),e=e(r,o||n),s["delete"](t),li(t,e)&&(e=pi(a._scopes,a,t,e));return e}(e,n,t,i):n)&&n.length&&(n=ci(e,n,t,o.isIndexable)),n=li(e,n)?ri(n,a,r&&r[e],o):n})},getOwnPropertyDescriptor:function(t,e){return t._descriptors.allKeys?Reflect.has(n,e)?{enumerable:!0,configurable:!0}:undefined:Reflect.getOwnPropertyDescriptor(n,e)},getPrototypeOf:function(){return Reflect.getPrototypeOf(n)},has:function(t,e){return Reflect.has(n,e)},ownKeys:function r(){return Reflect.ownKeys(n)},set:function(t,e,i){return n[e]=i,delete t[e],!0}})}function oi(t){var e=1<arguments.length&&arguments[1]!==undefined?arguments[1]:{scriptable:!0,indexable:!0},i=t._scriptable,n=void 0===i?e.scriptable:i,i=t._indexable,a=void 0===i?e.indexable:i,i=t._allKeys;return{allKeys:void 0===i?e.allKeys:i,scriptable:n,indexable:a,isScriptable:Bt(n)?n:function(){return n},isIndexable:Bt(a)?a:function(){return a}}}var si=function si(t,e){return t?t+Vt(e):e},li=function li(t,e){return q(e)&&"adapters"!==t&&(null===Object.getPrototypeOf(e)||e.constructor===Object)};function ui(t,e,i){var n;return Object.prototype.hasOwnProperty.call(t,e)?t[e]:(n=i(),t[e]=n)}function ci(t,e,i,n){var a=i._proxy,r=i._context,o=i._subProxy,s=i._descriptors;if(y(r.index)&&n(t))e=e[r.index%e.length];else if(q(e[0])){var l,u=e,c=a._scopes.filter(function(t){return t!==u}),h=(e=[],C(u));try{for(h.s();!(l=h.n()).done;){var d=pi(c,a,t,l.value);e.push(ri(d,r,o&&o[t],s))}}catch(f){h.e(f)}finally{h.f()}}return e}function hi(t,e,i){return Bt(t)?t(e,i):t}var di=function di(t,e){return!0===t?e:"string"==typeof t?Nt(e,t):undefined};function fi(t,e,i,n,a){var r,o=C(e);try{for(o.s();!(r=o.n()).done;){var s=r.value,l=di(i,s);if(l){t.add(l);var u=hi(l._fallback,i,a);if(y(u)&&u!==i&&u!==n)return u}else if(!1===l&&y(n)&&i!==n)return null}}catch(c){o.e(c)}finally{o.f()}return!1}function pi(t,n,a,r){var e=n._rootScopes,i=hi(n._fallback,a,r),o=[].concat(p(t),p(e)),s=new Set,l=(s.add(r),gi(s,o,a,i||a,r));return null!==l&&(!y(i)||i===a||null!==gi(s,o,i,l,r))&&ai(Array.from(s),[""],e,i,function(){var t=a,e=r,i=n._getTarget();return t in i||(i[t]={}),H(i=i[t])&&q(e)?e:i||{}})}function gi(t,e,i,n,a){for(;i;)i=fi(t,e,i,n,a);return i}function vi(t,e,i,n){var a,r=C(e);try{for(r.s();!(a=r.n()).done;){var o=a.value,s=mi(si(o,t),i);if(y(s))return li(t,s)?pi(i,n,t,s):s}}catch(l){r.e(l)}finally{r.f()}}function mi(t,e){var i,n=C(e);try{for(n.s();!(i=n.n()).done;){var a=i.value;if(a){var r=a[t];if(y(r))return r}}}catch(o){n.e(o)}finally{n.f()}}function yi(t){return t._keys||(t._keys=bi(t._scopes))}function bi(t){var e,i=new Set,n=C(t);try{for(n.s();!(e=n.n()).done;){var a,r=e.value,o=C(Object.keys(r).filter(function(t){return!t.startsWith("_")}));try{for(o.s();!(a=o.n()).done;){var s=a.value;i.add(s)}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}return Array.from(i)}function xi(t,e,i,n){for(var a,r,o=t.iScale,s=this._parsing.key,l=void 0===s?"r":s,u=new Array(n),c=0,h=n;c<h;++c)r=e[a=c+i],u[c]={r:o.parse(Nt(r,l),a)};return u}var _i=Number.EPSILON||1e-14,ki=function ki(t,e){return e<t.length&&!t[e].skip&&t[e]},wi=function wi(t){return"x"===t?"y":"x"};function Mi(t,e){for(var i=1<arguments.length&&e!==undefined?e:"x",n=wi(i),a=t.length,r=Array(a).fill(0),o=Array(a),s=ki(t,0),l=0;l<a;++l){var u,c=h,h=s,s=ki(t,l+1);h&&(s&&(u=s[i]-h[i],r[l]=0!=u?(s[n]-h[n])/u:0),o[l]=c?s?Gt(r[l-1])!==Gt(r[l])?0:(r[l-1]+r[l])/2:r[l-1]:r[l])}for(var d,f,p,g=t,v=r,m=o,y=g.length,b=ki(g,0),x=0;x<y-1;++x)p=b,b=ki(g,x+1),p&&b&&(Zt(v[x],0,_i)?m[x]=m[x+1]=0:(p=m[x]/v[x],d=m[x+1]/v[x],(f=Math.pow(p,2)+Math.pow(d,2))<=9||(f=3/Math.sqrt(f),m[x]=p*f*v[x],m[x+1]=d*f*v[x])));!function(t,e,i){for(var n,a=2<arguments.length&&i!==undefined?i:"x",r=wi(a),o=t.length,s=ki(t,0),l=0;l<o;++l){var u,c,h=d,d=s,s=ki(t,l+1);d&&(u=d[a],c=d[r],h&&(n=(u-h[a])/3,d["cp1".concat(a)]=u-n,d["cp1".concat(r)]=c-n*e[l]),s)&&(n=(s[a]-u)/3,d["cp2".concat(a)]=u+n,d["cp2".concat(r)]=c+n*e[l])}}(t,o,i)}function Si(t,e,i){return Math.max(Math.min(t,i),e)}function Li(t,e,i,n,a){var r,o,s,l,u,c,h,d,f,p,g;if(e.spanGaps&&(t=t.filter(function(t){return!t.skip})),"monotone"===e.cubicInterpolationMode)Mi(t,a);else for(var v=n?t[t.length-1]:t[0],m=0,y=t.length;m<y;++m)r=t[m],o=v,s=r,l=t[Math.min(m+1,y-(n?0:1))%y],u=e.tension,g=p=f=g=p=f=d=h=c=void 0,c=o.skip?s:o,h=s,d=l.skip?s:l,f=re(h,c),p=re(d,h),g=f/(f+p),f=p/(f+p),p=u*(isNaN(g)?0:g),g=u*(isNaN(f)?0:f),f={previous:{x:h.x-p*(d.x-c.x),y:h.y-p*(d.y-c.y)},next:{x:h.x+g*(d.x-c.x),y:h.y+g*(d.y-c.y)}},r.cp1x=f.previous.x,r.cp1y=f.previous.y,r.cp2x=f.next.x,r.cp2y=f.next.y,v=r;if(e.capBezierPoints)for(var b,x,_,k=t,w=i,M=Be(k[0],w),S=0,L=k.length;S<L;++S)_=x,x=M,M=S<L-1&&Be(k[S+1],w),x&&(b=k[S],_&&(b.cp1x=Si(b.cp1x,w.left,w.right),b.cp1y=Si(b.cp1y,w.top,w.bottom)),M)&&(b.cp2x=Si(b.cp2x,w.left,w.right),b.cp2y=Si(b.cp2y,w.top,w.bottom))}function Ei(){return"undefined"!=typeof window&&"undefined"!=typeof document}function Ai(t){var e=t.parentNode;return e=e&&"[object ShadowRoot]"===e.toString()?e.host:e}function Pi(t,e,i){var n;return"string"==typeof t?(n=parseInt(t,10),-1!==t.indexOf("%")&&(n=n/100*e.parentNode[i])):n=t,n}var Ci=function Ci(t){return t.ownerDocument.defaultView.getComputedStyle(t,null)};function Oi(t,e){return Ci(t).getPropertyValue(e)}var Di=["top","right","bottom","left"];function Ti(t,e,i){var n={};i=i?"-"+i:"";for(var a=0;a<4;a++){var r=Di[a];n[r]=parseFloat(t[e+"-"+r+i])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}var Ri=function Ri(t,e,i){return(0<t||0<e)&&(!i||!i.shadowRoot)};function Ii(t,e){var i,n,a,r,o,s,l,u,c,h,d,f,p,g;return"native"in t?t:(i=e.canvas,n=e.currentDevicePixelRatio,a="border-box"===(o=Ci(i)).boxSizing,r=Ti(o,"padding"),o=Ti(o,"border","width"),s=i,c=(t=t).touches,f=(c=c&&c.length?c[0]:t).offsetX,h=c.offsetY,d=!1,Ri(f,h,t.target)?(l=f,u=h):(f=s.getBoundingClientRect(),l=c.clientX-f.left,u=c.clientY-f.top,d=!0),c=(h={x:l,y:u,box:d}).y,d=r.left+((f=h.box)&&o.left),f=r.top+(f&&o.top),p=e.width,g=e.height,a&&(p-=r.width+o.width,g-=r.height+o.height),{x:Math.round((h.x-d)/p*i.width/n),y:Math.round((c-f)/g*i.height/n)})}var Fi=function Fi(t){return Math.round(10*t)/10};function zi(t,e,i,n){var a,r,o,s,l=Ci(t),u=Ti(l,"margin"),c=Pi(l.maxWidth,t,"clientWidth")||Ut,h=Pi(l.maxHeight,t,"clientHeight")||Ut,d=(t=t,r=i,(a=e)!==undefined&&r!==undefined||((p=Ai(t))?(o=p.getBoundingClientRect(),d=Ti(f=Ci(p),"border","width"),s=Ti(f,"padding"),a=o.width-s.width-d.width,r=o.height-s.height-d.height,o=Pi(f.maxWidth,p,"clientWidth"),s=Pi(f.maxHeight,p,"clientHeight")):(a=t.clientWidth,r=t.clientHeight)),{width:a,height:r,maxWidth:o||Ut,maxHeight:s||Ut}),f=d.width,p=d.height;return"content-box"===l.boxSizing&&(o=Ti(l,"border","width"),f-=(s=Ti(l,"padding")).width+o.width,p-=s.height+o.height),f=Math.max(0,f-u.width),p=Math.max(0,n?f/n:p-u.height),f=Fi(Math.min(f,c,d.maxWidth)),p=Fi(Math.min(p,h,d.maxHeight)),f&&!p&&(p=Fi(f/2)),(e!==undefined||i!==undefined)&&n&&d.height&&d.height<p&&(p=d.height,f=Fi(Math.floor(p*n))),{width:f,height:p}}function Hi(t,e,i){var n=e||1,a=Math.floor(t.height*n),r=Math.floor(t.width*n),o=(t.height=Math.floor(t.height),t.width=Math.floor(t.width),t.canvas);return o.style&&(i||!o.style.height&&!o.style.width)&&(o.style.height="".concat(t.height,"px"),o.style.width="".concat(t.width,"px")),(t.currentDevicePixelRatio!==n||o.height!==a||o.width!==r)&&(t.currentDevicePixelRatio=n,o.height=a,o.width=r,t.ctx.setTransform(n,0,0,n,0,0),1)}var qi=function(){var t=!1;try{var e={get passive(){return!(t=!0)}};window.addEventListener("test",null,e),window.removeEventListener("test",null,e)}catch(i){}return t}();function ji(t,e){var i=Oi(t,e),i=i&&i.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:undefined}function Ni(t,e,i,n){return{x:t.x+i*(e.x-t.x),y:t.y+i*(e.y-t.y)}}function Vi(t,e,i,n){return{x:t.x+i*(e.x-t.x),y:("middle"===n?i<.5?t:e:"after"===n?i<1?t:e:0<i?e:t).y}}function Bi(t,e,i,n){var a={x:t.cp2x,y:t.cp2y},r={x:e.cp1x,y:e.cp1y},o=Ni(t,a,i),a=Ni(a,r,i),r=Ni(r,e,i),o=Ni(o,a,i),a=Ni(a,r,i);return Ni(o,a,i)}var Wi=function Wi(e,i){return{x:function(t){return e+e+i-t},setWidth:function(t){i=t},textAlign:function(t){return"center"===t?t:"right"===t?"left":"right"},xPlus:function(t,e){return t-e},leftForLtr:function(t,e){return t-e}}},Xi=function Xi(){return{x:function(t){return t},setWidth:function(t){},textAlign:function(t){return t},xPlus:function(t,e){return t+e},leftForLtr:function(t,e){return t}}};function Ui(t,e,i){return t?Wi(e,i):Xi()}function Yi(t,e){var i,n;"ltr"!==e&&"rtl"!==e||(n=[(i=t.canvas.style).getPropertyValue("direction"),i.getPropertyPriority("direction")],i.setProperty("direction",e,"important"),t.prevTextDirection=n)}function $i(t,e){e!==undefined&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function Ki(t){return"angle"===t?{between:se,compare:oe,normalize:k}:{between:le,compare:function(t,e){return t-e},normalize:function(t){return t}}}function Ji(t){var e=t.start,i=t.end,n=t.count;return{start:e%n,end:i%n,loop:t.loop&&(i-e+1)%n==0,style:t.style}}function Gi(t,e,i){if(!i)return[t];for(var n,a,r,o=i.property,s=i.start,l=i.end,u=e.length,c=Ki(o),h=c.compare,d=c.between,f=c.normalize,c=function(t,e,i){var n,a,r=i.property,o=i.start,s=i.end,l=Ki(r),u=l.between,c=l.normalize,h=e.length,d=t.start,f=t.end;if(l=t.loop){for(d+=h,f+=h,n=0,a=h;n<a&&u(c(e[d%h][r]),o,s);++n)d--,f--;d%=h,f%=h}return f<d&&(f+=h),{start:d,end:f,loop:l,style:t.style}}(t,e,i),p=c.start,g=c.end,v=c.loop,m=c.style,y=[],b=!1,x=null,_=function _(){return d(s,r,n)&&0!==h(s,r)},k=function k(){return 0===h(l,n)||d(l,r,n)},w=function w(){return b||_()},M=function M(){return!b||k()},S=p,L=p;S<=g;++S)(a=e[S%u]).skip||(n=f(a[o]))!==r&&(b=d(n,s,l),null!==(x=null===x&&w()?0===h(n,s)?S:L:x)&&M()&&(y.push(Ji({start:x,end:S,loop:v,count:u,style:m})),x=null),L=S,r=n);return null!==x&&y.push(Ji({start:x,end:g,loop:v,count:u,style:m})),y}function Zi(t,e){for(var i=[],n=t.segments,a=0;a<n.length;a++){var r=Gi(n[a],t.points,e);r.length&&i.push.apply(i,p(r))}return i}function Qi(t,e){var i,n,a,r=t.points,o=t.options.spanGaps,s=r.length;return s?(n=(a=function(t,e,i,n){var a=0,r=e-1;if(i&&!n)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,i&&(r+=a);a<r&&t[r%e].skip;)r--;return{start:a,end:r%=e}}(r,s,i=!!t._loop,o)).start,a=a.end,tn(t,!0===o?[{start:n,end:a,loop:i}]:function(t,e,i,n){for(var a=t.length,r=[],o=e,s=t[e],l=e+1;l<=i;++l){var u=t[l%a];u.skip||u.stop?s.skip||(r.push({start:e%a,end:(l-1)%a,loop:n=!1}),e=o=u.stop?l:null):(o=l,s.skip&&(e=l)),s=u}return null!==o&&r.push({start:e%a,end:o%a,loop:n}),r}(r,n,a<n?a+s:a,!!t._fullLoop&&0===n&&a===s-1),r,e)):[]}function tn(t,e,i,n){return n&&n.setContext&&i?en(t,e,i,n):e}function en(t,e,r,i){var n=t._chart.getContext(),a=nn(t.options),o=t._datasetIndex,s=t.options.spanGaps,l=r.length,u=[],c=a,h=y=e[0].start;function d(t,e,i,n){var a=s?-1:1;if(t!==e){for(t+=l;r[t%l].skip;)t-=a;for(;r[e%l].skip;)e+=a;t%l!=e%l&&(u.push({start:t%l,end:e%l,loop:i,style:n}),c=n,y=e%l)}}var f,p,g,v=C(e);try{for(v.s();!(f=v.n()).done;){for(var m=f.value,y=s?y:m.start,b=r[y%l],h=y+1;h<=m.end;h++){var x=r[h%l],_=nn(i.setContext(ni(n,{type:"segment",p0:b,p1:x,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:o})));p=_,(g=c)&&JSON.stringify(p)!==JSON.stringify(g)&&d(y,h-1,m.loop,c),b=x,c=_}y<h-1&&d(y,h-1,m.loop,c)}}catch(k){v.e(k)}finally{v.f()}return u}function nn(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}var an=new(function(){function t(){d(this,t),this._request=null,this._charts=new Map,this._running=!1,this._lastDate=undefined}return o(t,[{key:"_notify",value:function(e,i,n,t){var a=i.listeners[t],r=i.duration;a.forEach(function(t){return t({chart:e,initial:i.initial,numSteps:r,currentStep:Math.min(n-i.start,r)})})}},{key:"_refresh",value:function(){var t=this;this._request||(this._running=!0,this._request=ge.call(window,function(){t._update(),t._request=null,t._running&&t._refresh()}))}},{key:"_update",value:function(){var o=this,s=0<arguments.length&&arguments[0]!==undefined?arguments[0]:Date.now(),l=0;this._charts.forEach(function(t,e){if(t.running&&t.items.length){for(var i,n=t.items,a=n.length-1,r=!1;0<=a;--a)(i=n[a])._active?(i._total>t.duration&&(t.duration=i._total),i.tick(s),r=!0):(n[a]=n[n.length-1],n.pop());r&&(e.draw(),o._notify(e,t,s,"progress")),n.length||(t.running=!1,o._notify(e,t,s,"complete"),t.initial=!1),l+=n.length}}),this._lastDate=s,0===l&&(this._running=!1)}},{key:"_getAnims",value:function(t){var e=this._charts,i=e.get(t);return i||e.set(t,i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}}),i}},{key:"listen",value:function(t,e,i){this._getAnims(t).listeners[e].push(i)}},{key:"add",value:function(t,e){var i;e&&e.length&&(i=this._getAnims(t).items).push.apply(i,p(e))}},{key:"has",value:function(t){return 0<this._getAnims(t).items.length}},{key:"start",value:function(t){var e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce(function(t,e){return Math.max(t,e._duration)},0),this._refresh())}},{key:"running",value:function(t){var e;return!!this._running&&!!((e=this._charts.get(t))&&e.running&&e.items.length)}},{key:"stop",value:function(t){var e=this._charts.get(t);if(e&&e.items.length){for(var i=e.items,n=i.length-1;0<=n;--n)i[n].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}}},{key:"remove",value:function(t){return this._charts["delete"](t)}}]),t}()),rn="transparent",on={"boolean":function(t,e,i){return.5<i?e:t},color:function(t,e,i){var n=Le(t||rn),a=n.valid&&Le(e||rn);return a&&a.valid?a.mix(n,i).hexString():e},number:function(t,e,i){return t+(e-t)*i}},sn=function(){function r(t,e,i,n){d(this,r);var a=e[i],a=(n=ii([t.to,n,a,t.from]),ii([t.from,a,n]));this._active=!0,this._fn=t.fn||on[t.type||I(a)],this._easing=Me[t.easing]||Me.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=a,this._to=n,this._promises=undefined}return o(r,[{key:"active",value:function(){return this._active}},{key:"update",value:function(t,e,i){var n,a,r;this._active&&(this._notify(!1),n=this._target[this._prop],a=i-this._start,r=this._duration-a,this._start=i,this._duration=Math.floor(Math.max(r,t.duration)),this._total+=a,this._loop=!!t.loop,this._to=ii([t.to,e,n,t.from]),this._from=ii([t.from,n,e]))}},{key:"cancel",value:function(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}},{key:"tick",value:function(t){var e=t-this._start,i=this._duration,n=this._prop,a=this._from,r=this._loop,o=this._to;this._active=a!==o&&(r||e<i),this._active?e<0?this._target[n]=a:(e=e/i%2,e=this._easing(Math.min(1,Math.max(0,r&&1<e?2-e:e))),this._target[n]=this._fn(a,o,e)):(this._target[n]=o,this._notify(!0))}},{key:"wait",value:function(){var i=this._promises||(this._promises=[]);return new Promise(function(t,e){i.push({res:t,rej:e})})}},{key:"_notify",value:function(t){for(var e=t?"res":"rej",i=this._promises||[],n=0;n<i.length;n++)i[n][e]()}}]),r}(),ln=function(){function i(t,e){d(this,i),this._chart=t,this._properties=new Map,this.configure(e)}return o(i,[{key:"configure",value:function(o){var s,l;q(o)&&(s=Object.keys(P.animation),l=this._properties,Object.getOwnPropertyNames(o).forEach(function(e){var t=o[e];if(q(t)){for(var i={},n=0,a=s;n<a.length;n++){var r=a[n];i[r]=t[r]}(H(t.properties)&&t.properties||[e]).forEach(function(t){t!==e&&l.has(t)||l.set(t,i)})}}))}},{key:"_animateOptions",value:function(t,e){var i=e.options,n=function(t,e){if(e){var i=t.options;if(i)return i.$shared&&(t.options=i=Object.assign({},i,{$shared:!1,$animations:{}})),i;t.options=e}}(t,i);return n?(n=this._createAnimations(n,i),i.$shared&&function(t,e){for(var i=[],n=Object.keys(e),a=0;a<n.length;a++){var r=t[n[a]];r&&r.active()&&i.push(r.wait())}return Promise.all(i)}(t.options.$animations,i).then(function(){t.options=i},function(){}),n):[]}},{key:"_createAnimations",value:function(t,e){for(var i=this._properties,n=[],a=t.$animations||(t.$animations={}),r=Object.keys(e),o=Date.now(),s=r.length-1;0<=s;--s){var l=r[s];if("$"!==l.charAt(0))if("options"===l)n.push.apply(n,p(this._animateOptions(t,e)));else{var u=e[l],c=a[l],h=i.get(l);if(c){if(h&&c.active()){c.update(h,u,o);continue}c.cancel()}h&&h.duration?(a[l]=c=new sn(h,t,l,u),n.push(c)):t[l]=u}}return n}},{key:"update",value:function(t,e){var i;if(0!==this._properties.size)return(i=this._createAnimations(t,e)).length?(an.add(this._chart,i),!0):void 0;Object.assign(t,e)}}]),i}();function un(t,e){var i=t&&t.options||{},n=i.reverse,a=i.min===undefined?e:0,i=i.max===undefined?e:0;return{start:n?i:a,end:n?a:i}}function cn(t,e){for(var i=[],n=t._getSortedDatasetMetas(e),a=0,r=n.length;a<r;++a)i.push(n[a].index);return i}function hn(t,e,i,n){var a,r,o,s=3<arguments.length&&n!==undefined?n:{},l=t.keys,u="single"===s.mode;if(null!==e){for(a=0,r=l.length;a<r;++a){if((o=+l[a])===i){if(s.all)continue;break}g(o=t.values[o])&&(u||0===e||Gt(e)===Gt(o))&&(e+=o)}return e}}function dn(t,e){var i=t&&t.options.stacked;return i||i===undefined&&e.stack!==undefined}function fn(t){var e=t.getUserBounds(),i=e.min,n=e.max,a=e.minDefined,e=e.maxDefined;return{min:a?i:Number.NEGATIVE_INFINITY,max:e?n:Number.POSITIVE_INFINITY}}function pn(t,e,i,n){var a,r=C(e.getMatchingVisibleMetas(n).reverse());try{for(r.s();!(a=r.n()).done;){var o=a.value,s=t[o.index];if(i&&0<s||!i&&s<0)return o.index}}catch(l){r.e(l)}finally{r.f()}return null}function gn(t,e){for(var i,n,a,r,o=t.chart,s=t._cachedMeta,l=o._stacks||(o._stacks={}),o=s.iScale,u=s.vScale,c=s.index,h=o.axis,d=u.axis,f=(t=u,i=s,"".concat(o.id,".").concat(t.id,".").concat(i.stack||i.type)),p=e.length,g=0;g<p;++g){var v=e[g],m=v[h],y=v[d];(m=(v._stacks||(v._stacks={}))[d]=(r=m,v=void 0,(v=(n=l)[a=f]||(n[a]={}))[r]||(v[r]={})))[c]=y,m._top=pn(m,u,!0,s.type),m._bottom=pn(m,u,!1,s.type),(m._visualValues||(m._visualValues={}))[c]=y}}function vn(t,e){var i=t.scales;return Object.keys(i).filter(function(t){return i[t].axis===e}).shift()}function mn(t,e){var i=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){var a,r=C(e=e||t._parsed);try{for(r.s();!(a=r.n()).done;){var o=a.value._stacks;if(!o||o[n]===undefined||o[n][i]===undefined)return;delete o[n][i],o[n]._visualValues!==undefined&&o[n]._visualValues[i]!==undefined&&delete o[n]._visualValues[i]}}catch(s){r.e(s)}finally{r.f()}}}var yn=function yn(t){return"reset"===t||"none"===t},bn=function bn(t,e){return e?t:Object.assign({},t)},xn=function xn(t,e,i){return t&&!e.hidden&&e._stacked&&{keys:cn(i,!0),values:null}},i=function(){function i(t,e){d(this,i),this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=undefined,this._parsing=!1,this._data=undefined,this._objectData=undefined,this._sharedOptions=undefined,this._drawStart=undefined,this._drawCount=undefined,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=undefined,this._syncList=[],this.datasetElementType=(this instanceof i?this.constructor:void 0).datasetElementType,this.dataElementType=(this instanceof i?this.constructor:void 0).dataElementType,this.initialize()}return o(i,[{key:"initialize",value:function(){var t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=dn(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}},{key:"updateIndex",value:function(t){this.index!==t&&mn(this._cachedMeta),this.index=t}},{key:"linkScales",value:function(){var t=this.chart,e=this._cachedMeta,i=this.getDataset(),a=function a(t,e,i,n){return"x"===t?e:"r"===t?n:i},n=e.xAxisID=z(i.xAxisID,vn(t,"x")),r=e.yAxisID=z(i.yAxisID,vn(t,"y")),i=e.rAxisID=z(i.rAxisID,vn(t,"r")),t=e.indexAxis,o=e.iAxisID=a(t,n,r,i),t=e.vAxisID=a(t,r,n,i);e.xScale=this.getScaleForId(n),e.yScale=this.getScaleForId(r),e.rScale=this.getScaleForId(i),e.iScale=this.getScaleForId(o),e.vScale=this.getScaleForId(t)}},{key:"getDataset",value:function(){return this.chart.data.datasets[this.index]}},{key:"getMeta",value:function(){return this.chart.getDatasetMeta(this.index)}},{key:"getScaleForId",value:function(t){return this.chart.scales[t]}},{key:"_getOtherScale",value:function(t){var e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}},{key:"reset",value:function(){this._update("reset")}},{key:"_destroy",value:function(){var t=this._cachedMeta;this._data&&fe(this._data,this),t._stacked&&mn(t)}},{key:"_dataCheck",value:function(){var o,t,e=this.getDataset(),e=e.data||(e.data=[]),i=this._data;q(e)?this._data=function(t){for(var e,i=Object.keys(t),n=new Array(i.length),a=0,r=i.length;a<r;++a)e=i[a],n[a]={x:e,y:t[e]};return n}(e):i!==e&&(i&&(fe(i,this),mn(i=this._cachedMeta),i._parsed=[]),e&&Object.isExtensible(e)&&(t=this,(o=e)._chartjs?o._chartjs.listeners.push(t):(Object.defineProperty(o,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),de.forEach(function(t){var a="_onData"+Vt(t),r=o[t];Object.defineProperty(o,t,{configurable:!0,enumerable:!1,value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];var n=r.apply(this,e);return o._chartjs.listeners.forEach(function(t){"function"==typeof t[a]&&t[a].apply(t,e)}),n}})}))),this._syncList=[],this._data=e)}},{key:"addElements",value:function(){var t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}},{key:"buildOrUpdateElements",value:function(t){var e=this._cachedMeta,i=this.getDataset(),n=!1,a=(this._dataCheck(),e._stacked);e._stacked=dn(e.vScale,e),e.stack!==i.stack&&(n=!0,mn(e),e.stack=i.stack),this._resyncElements(t),!n&&a===e._stacked||gn(this,e._parsed)}},{key:"configure",value:function(){var t=this.chart.config,e=t.datasetScopeKeys(this._type),e=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(e,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}},{key:"parse",value:function(t,e){var i,n=this._cachedMeta,a=this._data,r=n.iScale,o=n._stacked,s=r.axis,l=0===t&&e===a.length||n._sorted,u=0<t&&n._parsed[t-1];if(!1===this._parsing)n._parsed=a,n._sorted=!0,c=a;else{for(var c=H(a[t])?this.parseArrayData(n,a,t,e):q(a[t])?this.parseObjectData(n,a,t,e):this.parsePrimitiveData(n,a,t,e),h=function h(){return null===i[s]||u&&i[s]<u[s]},d=0;d<e;++d)n._parsed[d+t]=i=c[d],l&&(h()&&(l=!1),u=i);n._sorted=l}o&&gn(this,c)}},{key:"parsePrimitiveData",value:function(t,e,i,n){for(var a=t.iScale,r=t.vScale,o=a.axis,s=r.axis,l=a.getLabels(),u=a===r,c=new Array(n),h=0,d=n;h<d;++h){var f,p=h+i;c[h]=(_(f={},o,u||a.parse(l[p],p)),_(f,s,r.parse(e[p],p)),f)}return c}},{key:"parseArrayData",value:function(t,e,i,n){for(var a,r,o=t.xScale,s=t.yScale,l=new Array(n),u=0,c=n;u<c;++u)r=e[a=u+i],l[u]={x:o.parse(r[0],a),y:s.parse(r[1],a)};return l}},{key:"parseObjectData",value:function(t,e,i,n){for(var a,r,o=t.xScale,s=t.yScale,l=this._parsing,u=l.xAxisKey,c=void 0===u?"x":u,u=l.yAxisKey,h=void 0===u?"y":u,d=new Array(n),f=0,p=n;f<p;++f)r=e[a=f+i],d[f]={x:o.parse(Nt(r,c),a),y:s.parse(Nt(r,h),a)};return d}},{key:"getParsed",value:function(t){return this._cachedMeta._parsed[t]}},{key:"getDataElement",value:function(t){return this._cachedMeta.data[t]}},{key:"applyStack",value:function(t,e,i){var n=this.chart,a=this._cachedMeta,r=e[t.axis];return hn({keys:cn(n,!0),values:e._stacks[t.axis]._visualValues},r,a.index,{mode:i})}},{key:"updateRangeFromParsed",value:function(t,e,i,n){var a=i[e.axis],r=null===a?NaN:a,o=n&&i._stacks[e.axis];n&&o&&(n.values=o,r=hn(n,a,this._cachedMeta.index)),t.min=Math.min(t.min,r),t.max=Math.max(t.max,r)}},{key:"getMinMax",value:function(e,t){var i,n,a=this._cachedMeta,r=a._parsed,o=a._sorted&&e===a.iScale,s=r.length,l=this._getOtherScale(e),u=xn(t,a,this.chart),c={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},a=fn(l),h=a.min,d=a.max;function f(){var t=(n=r[i])[l.axis];return!g(n[e.axis])||t<h||d<t}for(i=0;i<s&&(f()||(this.updateRangeFromParsed(c,e,n,u),!o));++i);if(o)for(i=s-1;0<=i;--i)if(!f()){this.updateRangeFromParsed(c,e,n,u);break}return c}},{key:"getAllParsedValues",value:function(t){for(var e,i=this._cachedMeta._parsed,n=[],a=0,r=i.length;a<r;++a)g(e=i[a][t.axis])&&n.push(e);return n}},{key:"getMaxOverflow",value:function(){return!1}},{key:"getLabelAndValue",value:function(t){var e=this._cachedMeta,i=e.iScale,e=e.vScale,n=this.getParsed(t);return{label:i?""+i.getLabelForValue(n[i.axis]):"",value:e?""+e.getLabelForValue(n[e.axis]):""}}},{key:"_update",value:function(t){var e,i,n,a,r,o,s,l=this._cachedMeta;this.update(t||"default"),l._clip=(q(t=z(this.options.clip,(t=l.xScale,r=l.yScale,!1!==(o=this.getMaxOverflow())&&(l=un(t,o),{top:(s=un(r,o)).end,right:l.end,bottom:s.start,left:l.start}))))?(e=t.top,i=t.right,n=t.bottom,a=t.left):e=i=n=a=t,{top:e,right:i,bottom:n,left:a,disabled:!1===t})}},{key:"update",value:function(t){}},{key:"draw",value:function(){var t,e=this._ctx,i=this.chart,n=this._cachedMeta,a=n.data||[],r=i.chartArea,o=[],s=this._drawStart||0,l=this._drawCount||a.length-s,u=this.options.drawActiveElementsOnTop;for(n.dataset&&n.dataset.draw(e,r,s,l),t=s;t<s+l;++t){var c=a[t];c.hidden||(c.active&&u?o.push(c):c.draw(e,r))}for(t=0;t<o.length;++t)o[t].draw(e,r)}},{key:"getStyle",value:function Oi(t,e){var i=e?"active":"default";return t===undefined&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}},{key:"getContext",value:function(t,e,i){var n,a,r=this.getDataset();return 0<=t&&t<this._cachedMeta.data.length?((n=(n=this._cachedMeta.data[t]).$context||(n.$context=ni(this.getContext(),{active:!1,dataIndex:t,parsed:undefined,raw:undefined,element:n,index:t,mode:"default",type:"data"}))).parsed=this.getParsed(t),n.raw=r.data[t],n.index=n.dataIndex=t):((n=this.$context||(this.$context=(t=this.chart.getContext(),a=this.index,ni(t,{active:!1,dataset:undefined,datasetIndex:a,index:a,mode:"default",type:"dataset"})))).dataset=r,n.index=n.datasetIndex=this.index),n.active=!!e,n.mode=i,n}},{key:"resolveDatasetElementOptions",value:function(t){return this._resolveElementOptions(this.datasetElementType.id,t)}},{key:"resolveDataElementOptions",value:function(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}},{key:"_resolveElementOptions",value:function(t){var e,i,n,a=this,r=1<arguments.length&&arguments[1]!==undefined?arguments[1]:"default",o=2<arguments.length?arguments[2]:undefined,s="active"===r,l=this._cachedDataOpts,u=t+"-"+r,c=l[u],h=this.enableOptionSharing&&y(o);return c?bn(c,h):(n=(c=this.chart.config).datasetElementScopeKeys(this._type,t),e=s?["".concat(t,"Hover"),"hover",t,""]:[t,""],n=c.getOptionScopes(this.getDataset(),n),i=Object.keys(P.elements[t]),(n=c.resolveNamedOptions(n,i,function d(){return a.getContext(o,s,r)},e)).$shared&&(n.$shared=h,l[u]=Object.freeze(bn(n,h))),n)}},{key:"_resolveAnimations",value:function(t,e,i){var n,a=this.chart,r=this._cachedDataOpts,o="animation-".concat(e),s=r[o];if(s)return s;!1!==a.options.animation&&(n=(s=this.chart.config).datasetAnimationScopeKeys(this._type,e),n=s.getOptionScopes(this.getDataset(),n),n=s.createResolver(n,this.getContext(t,i,e)));s=new ln(a,n&&n.animations);return n&&n._cacheable&&(r[o]=Object.freeze(s)),s}},{key:"getSharedOptions",value:function(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}},{key:"includeOptions",value:function(t,e){return!e||yn(t)||this.chart._animationsDisabled}},{key:"_getSharedOptions",value:function(t,e){var i=this.resolveDataElementOptions(t,e),n=this._sharedOptions,a=this.getSharedOptions(i),n=this.includeOptions(e,a)||a!==n;return this.updateSharedOptions(a,e,i),{sharedOptions:a,includeOptions:n}}},{key:"updateElement",value:function(t,e,i,n){yn(n)?Object.assign(t,i):this._resolveAnimations(e,n).update(t,i)}},{key:"updateSharedOptions",value:function(t,e,i){t&&!yn(e)&&this._resolveAnimations(undefined,e).update(t,i)}},{key:"_setStyle",value:function(t,e,i,n){t.active=n;var a=this.getStyle(e,n);this._resolveAnimations(e,i,n).update(t,{options:!n&&this.getSharedOptions(a)||a})}},{key:"removeHoverStyle",value:function(t,e,i){this._setStyle(t,i,"active",!1)}},{key:"setHoverStyle",value:function(t,e,i){this._setStyle(t,i,"active",!0)}},{key:"_removeDatasetHoverStyle",value:function(){var t=this._cachedMeta.dataset;t&&this._setStyle(t,undefined,"active",!1)}},{key:"_setDatasetHoverStyle",value:function(){var t=this._cachedMeta.dataset;t&&this._setStyle(t,undefined,"active",!0)}},{key:"_resyncElements",value:function(t){var e,i=this._data,n=this._cachedMeta.data,a=C(this._syncList);try{for(a.s();!(e=a.n()).done;){var r=B(e.value,3),o=r[0],s=r[1],l=r[2];this[o](s,l)}}catch(c){a.e(c)}finally{a.f()}this._syncList=[];var n=n.length,i=i.length,u=Math.min(i,n);u&&this.parse(0,u),n<i?this._insertElements(n,i-n,t):i<n&&this._removeElements(i,n-i)}},{key:"_insertElements",value:function(t,e){var i,n,a=!(2<arguments.length&&arguments[2]!==undefined)||arguments[2],r=this._cachedMeta,o=r.data,s=t+e;for((n=function n(t){for(t.length+=e,i=t.length-1;s<=i;i--)t[i]=t[i-e]})(o),i=t;i<s;++i)o[i]=new this.dataElementType;this._parsing&&n(r._parsed),this.parse(t,e),a&&this.updateElements(o,t,e,"reset")}},{key:"updateElements",value:function(t,e,i,n){}},{key:"_removeElements",value:function(t,e){var i,n=this._cachedMeta;this._parsing&&(i=n._parsed.splice(t,e),n._stacked)&&mn(n,i),n.data.splice(t,e)}},{key:"_sync",value:function(t){var e,i,n;this._parsing?this._syncList.push(t):(e=(n=B(t,3))[0],i=n[1],n=n[2],this[e](i,n)),this.chart._dataChanges.push([this.index].concat(p(t)))}},{key:"_onDataPush",value:function(){var t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}},{key:"_onDataPop",value:function(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}},{key:"_onDataShift",value:function(){this._sync(["_removeElements",0,1])}},{key:"_onDataSplice",value:function(t,e){e&&this._sync(["_removeElements",t,e]);var i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}},{key:"_onDataUnshift",value:function(){this._sync(["_insertElements",0,arguments.length])}}]),i}();function _n(t){for(var e,i,n=t.iScale,a=function(t,e){if(!t._cache.$bar){for(var i=t.getMatchingVisibleMetas(e),n=[],a=0,r=i.length;a<r;a++)n=n.concat(i[a].controller.getAllParsedValues(t));t._cache.$bar=pe(n.sort(function(t,e){return t-e}))}return t._cache.$bar}(n,t.type),r=n._length,o=function o(){32767!==e&&-32768!==e&&(y(i)&&(r=Math.min(r,Math.abs(e-i)||r)),i=e)},s=0,l=a.length;s<l;++s)e=n.getPixelForValue(a[s]),o();for(i=undefined,s=0,l=n.ticks.length;s<l;++s)e=n.getPixelForTick(s),o();return r}function kn(t,e,i,n){var a,r,o,s,l,u,c,h,d,f;return H(t)?(a=t,r=e,s=n,l=(o=i).parse(a[0],s),u=o.parse(a[1],s),c=Math.min(l,u),h=Math.max(l,u),d=c,f=h,Math.abs(c)>Math.abs(h)&&(d=h,f=c),r[o.axis]=f,r._custom={barStart:d,barEnd:f,start:l,end:u,min:c,max:h}):e[i.axis]=i.parse(t,n),e}function wn(t,e,i,n){for(var a,r,o=t.iScale,s=t.vScale,l=o.getLabels(),u=o===s,c=[],h=i,d=i+n;h<d;++h)r=e[h],(a={})[o.axis]=u||o.parse(l[h],h),c.push(kn(r,a,s,h));return c}function Mn(t){return t&&t.barStart!==undefined&&t.barEnd!==undefined}function Sn(t,e,i,n){var a,r;return t=n?(n=i,Ln(t=(a=t)===(r=e)?n:a===n?r:a,i,e)):Ln(t,e,i)}function Ln(t,e,i){return"start"===t?e:"end"===t?i:t}_(i,"defaults",{}),_(i,"datasetElementType",null),_(i,"dataElementType",null);var En=function(){l(r,i);var t=h(r);function r(){return d(this,r),t.apply(this,arguments)}return o(r,[{key:"parsePrimitiveData",value:wn},{key:"parseArrayData",value:wn},{key:"parseObjectData",value:function(t,e,i,n){for(var a,r,o=t.iScale,s=t.vScale,l=this._parsing,u=l.xAxisKey,u=void 0===u?"x":u,l=l.yAxisKey,l=void 0===l?"y":l,c="x"===o.axis?u:l,h="x"===s.axis?u:l,d=[],f=i,p=i+n;f<p;++f)r=e[f],(a={})[o.axis]=o.parse(Nt(r,c),f),d.push(kn(Nt(r,h),a,s,f));return d}},{key:"updateRangeFromParsed",value:function(t,e,i,n){f(c(r.prototype),"updateRangeFromParsed",this).call(this,t,e,i,n);var a=i._custom;a&&e===this._cachedMeta.vScale&&(t.min=Math.min(t.min,a.min),t.max=Math.max(t.max,a.max))}},{key:"getMaxOverflow",value:function(){return 0}},{key:"getLabelAndValue",value:function(t){var e=this._cachedMeta,i=e.iScale,e=e.vScale,n=this.getParsed(t),a=n._custom,a=Mn(a)?"["+a.start+", "+a.end+"]":""+e.getLabelForValue(n[e.axis]);return{label:""+i.getLabelForValue(n[i.axis]),value:a}}},{key:"initialize",value:function(){this.enableOptionSharing=!0,f(c(r.prototype),"initialize",this).call(this),this._cachedMeta.stack=this.getDataset().stack}},{key:"update",value:function(t){var e=this._cachedMeta;this.updateElements(e.data,0,e.data.length,t)}},{key:"updateElements",value:function(t,e,i,n){for(var a,r,o,s,l,u,c,h,d,f,p,g,v="reset"===n,m=this.index,y=this._cachedMeta.vScale,b=y.getBasePixel(),x=y.isHorizontal(),_=this._getRuler(),k=this._getSharedOptions(e,n),w=k.sharedOptions,M=k.includeOptions,S=e;S<e+i;S++){var L=this.getParsed(S),E=v||O(L[y.axis])?{base:b,head:b}:this._calculateBarValuePixels(S),A=this._calculateBarIndexPixels(S,_),P=(L._stacks||{})[y.axis],L={horizontal:x,base:E.base,enableBorderRadius:!P||Mn(L._custom)||m===P._top||m===P._bottom,x:x?E.head:A.center,y:x?A.center:E.head,height:x?A.size:Math.abs(E.size),width:x?Math.abs(E.size):A.size},E=(M&&(L.options=w||this.resolveDataElementOptions(S,t[S].active?"active":n)),L.options||t[S].options);a=L,o=P,s=m,g=p=f=d=h=c=u=l=P=A=void 0,p=(r=E).borderSkipped,g={},p?!0===p?a.borderSkipped={top:!0,right:!0,bottom:!0,left:!0}:(d=(r=a).horizontal?(u=r.base>r.x,c="left","right"):(u=r.base<r.y,c="bottom","top"),f=u?(h="end","start"):(h="start","end"),f=(d={start:c,end:d,reverse:u,top:h,bottom:f}).start,A=d.end,P=d.reverse,l=d.top,d=d.bottom,"middle"===p&&o&&(a.enableBorderRadius=!0,p=(o._top||0)===s?l:(o._bottom||0)===s?d:(g[Sn(d,f,A,P)]=!0,l)),g[Sn(p,f,A,P)]=!0,a.borderSkipped=g):a.borderSkipped=g,r=_.ratio,c=void 0,c=E.inflateAmount,L.inflateAmount="auto"===c?1===r?.33:0:c,this.updateElement(t[S],S,L,n)}}},{key:"_getStacks",value:function(t,i){var e,n=this._cachedMeta.iScale,a=n.getMatchingVisibleMetas(this._type).filter(function(t){return t.controller.options.grouped}),r=n.options.stacked,o=[],s=function s(t){var e=t.controller.getParsed(i),e=e&&e[t.vScale.axis];if(O(e)||isNaN(e))return!0},l=C(a);try{for(l.s();!(e=l.n()).done;){var u=e.value;if((i===undefined||!s(u))&&((!1===r||-1===o.indexOf(u.stack)||r===undefined&&u.stack===undefined)&&o.push(u.stack),u.index===t))break}}catch(c){l.e(c)}finally{l.f()}return o.length||o.push(undefined),o}},{key:"_getStackCount",value:function(t){return this._getStacks(undefined,t).length}},{key:"_getStackIndex",value:function(t,e,i){var n=this._getStacks(t,i),a=e!==undefined?n.indexOf(e):-1;return-1===a?n.length-1:a}},{key:"_getRuler",value:function(){for(var t=this.options,e=this._cachedMeta,i=e.iScale,n=[],a=0,r=e.data.length;a<r;++a)n.push(i.getPixelForValue(this.getParsed(a)[i.axis],a));var o=t.barThickness;return{min:o||_n(e),pixels:n,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:t.grouped,ratio:o?1:t.categoryPercentage*t.barPercentage}}},{key:"_calculateBarValuePixels",value:function(t){var e,i,n=this._cachedMeta,a=n.vScale,r=n._stacked,n=n.index,o=this.options,s=o.base,o=o.minBarLength,l=s||0,u=this.getParsed(t),c=u._custom,h=Mn(c),d=u[a.axis],f=0,p=r?this.applyStack(a,u,r):d,c=(p!==d&&(f=p-d,p=d),h&&(d=c.barStart,p=c.barEnd-c.barStart,0!==d&&Gt(d)!==Gt(c.barEnd)&&(f=0),f+=d),O(s)||h?f:s),s=a.getPixelForValue(c);return c=this.chart.getDataVisibility(t)?a.getPixelForValue(f+p):s,f=c-s,Math.abs(f)<o&&(t=a,i=l,f=(0!==(e=f)?Gt(e):(t.isHorizontal()?1:-1)*(t.min>=i?1:-1))*o,d===l&&(s-=f/2),p=a.getPixelForDecimal(0),o=a.getPixelForDecimal(1),d=Math.min(p,o),p=Math.max(p,o),c=(s=Math.max(Math.min(s,p),d))+f,r)&&!h&&(u._stacks[a.axis]._visualValues[n]=a.getValueForPixel(c)-a.getValueForPixel(s)),s===a.getPixelForValue(l)&&(s+=o=Gt(f)*a.getLineWidthForValue(l)/2,f-=o),{size:f,base:s,head:c,center:c+f/2}}},{key:"_calculateBarIndexPixels",value:function(t,e){var i,n,a,r,o,s,l,u,c,h,d=e.scale,f=this.options,p=f.skipNull,g=z(f.maxBarThickness,Infinity);return i=e.grouped?(i=p?this._getStackCount(t):e.stackCount,u="flex"===f.barThickness?(a=t,o=f,s=i,l=(c=(r=e).pixels)[a],u=0<a?c[a-1]:null,c=a<c.length-1?c[a+1]:null,h=o.categoryPercentage,null===u&&(u=l-(null===c?r.end-r.start:c-l)),null===c&&(c=l+l-u),l-=(l-Math.min(u,c))/2*h,{chunk:Math.abs(c-u)/2*h/s,ratio:o.barPercentage,start:l}):(a=e,r=i,c=O(c=(s=f).barThickness)?(n=a.min*s.categoryPercentage,s.barPercentage):(n=c*r,1),{chunk:n/r,ratio:c,start:a.pixels[t]-n/2}),h=this._getStackIndex(this.index,this._cachedMeta.stack,p?t:undefined),l=u.start+u.chunk*h+u.chunk/2,Math.min(g,u.chunk*u.ratio)):(l=d.getPixelForValue(this.getParsed(t)[d.axis],t),Math.min(g,e.min*e.ratio)),{base:l-i/2,head:l+i/2,center:l,size:i}}},{key:"draw",value:function(){for(var t=this._cachedMeta,e=t.vScale,i=t.data,n=i.length,a=0;a<n;++a)null!==this.getParsed(a)[e.axis]&&i[a].draw(this._ctx)}}]),r}(),An=(_(En,"id","bar"),_(En,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),_(En,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}}),function(){l(s,i);var t=h(s);function s(){return d(this,s),t.apply(this,arguments)}return o(s,[{key:"initialize",value:function(){this.enableOptionSharing=!0,f(c(s.prototype),"initialize",this).call(this)}},{key:"parsePrimitiveData",value:function(t,e,i,n){for(var a=f(c(s.prototype),"parsePrimitiveData",this).call(this,t,e,i,n),r=0;r<a.length;r++)a[r]._custom=this.resolveDataElementOptions(r+i).radius;return a}},{key:"parseArrayData",value:function(t,e,i,n){for(var a=f(c(s.prototype),"parseArrayData",this).call(this,t,e,i,n),r=0;r<a.length;r++){var o=e[i+r];a[r]._custom=z(o[2],this.resolveDataElementOptions(r+i).radius)}return a}},{key:"parseObjectData",value:function(t,e,i,n){for(var a=f(c(s.prototype),"parseObjectData",this).call(this,t,e,i,n),r=0;r<a.length;r++){var o=e[i+r];a[r]._custom=z(o&&o.r&&+o.r,this.resolveDataElementOptions(r+i).radius)}return a}},{key:"getMaxOverflow",value:function(){for(var t=this._cachedMeta.data,e=0,i=t.length-1;0<=i;--i)e=Math.max(e,t[i].size(this.resolveDataElementOptions(i))/2);return 0<e&&e}},{key:"getLabelAndValue",value:function(t){var e=this._cachedMeta,i=this.chart.data.labels||[],n=e.xScale,e=e.yScale,a=this.getParsed(t),n=n.getLabelForValue(a.x),e=e.getLabelForValue(a.y),a=a._custom;return{label:i[t]||"",value:"("+n+", "+e+(a?", "+a:"")+")"}}},{key:"update",value:function(t){var e=this._cachedMeta.data;this.updateElements(e,0,e.length,t)}},{key:"updateElements",value:function(t,e,i,n){for(var a="reset"===n,r=this._cachedMeta,o=r.iScale,s=r.vScale,r=this._getSharedOptions(e,n),l=r.sharedOptions,u=r.includeOptions,c=o.axis,h=s.axis,d=e;d<e+i;d++){var f=t[d],p=!a&&this.getParsed(d),g={},v=g[c]=a?o.getPixelForDecimal(.5):o.getPixelForValue(p[c]),p=g[h]=a?s.getBasePixel():s.getPixelForValue(p[h]);g.skip=isNaN(v)||isNaN(p),u&&(g.options=l||this.resolveDataElementOptions(d,f.active?"active":n),a)&&(g.options.radius=0),this.updateElement(f,d,g,n)}}},{key:"resolveDataElementOptions",value:function(t,e){var i=this.getParsed(t),n=f(c(s.prototype),"resolveDataElementOptions",this).call(this,t,e),a=(n=n.$shared?Object.assign({},n,{$shared:!1}):n).radius;return"active"!==e&&(n.radius=0),n.radius+=z(i&&i._custom,a),n}}]),s}());_(An,"id","bubble"),_(An,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),_(An,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});var Pn=function(){l(a,i);var n=h(a);function a(t,e){var i;return d(this,a),(i=n.call(this,t,e)).enableOptionSharing=!0,i.innerRadius=undefined,i.outerRadius=undefined,i.offsetX=undefined,i.offsetY=undefined,i}return o(a,[{key:"linkScales",value:function(){}},{key:"parse",value:function(t,e){var i=this.getDataset().data,n=this._cachedMeta;if(!1===this._parsing)n._parsed=i;else{var a,r,o,s,l=function l(t){return+i[t]};for(q(i[t])&&(a=this._parsing.key,r=void 0===a?"value":a,l=function l(t){return+Nt(i[t],r)}),s=(o=t)+e;o<s;++o)n._parsed[o]=l(o)}}},{key:"_getRotation",value:function(){return j(this.options.rotation-90)}},{key:"_getCircumference",value:function(){return j(this.options.circumference)}},{key:"_getRotationExtents",value:function(){for(var t,e,i=M,n=-M,a=0;a<this.chart.data.datasets.length;++a)this.chart.isDatasetVisible(a)&&this.chart.getDatasetMeta(a).type===this._type&&(t=(e=this.chart.getDatasetMeta(a).controller)._getRotation(),e=e._getCircumference(),i=Math.min(i,t),n=Math.max(n,t+e));return{rotation:i,circumference:n-i}}},{key:"update",value:function(t){var e,i,n,a,r,o,s,l,u,c=this.chart.chartArea,h=this._cachedMeta,d=h.data,f=this.getMaxBorderWidth()+this.getMaxOffset(d)+this.options.spacing,p=Math.max((Math.min(c.width,c.height)-f)/2,0),p=Math.min(Pt(this.options.cutout,p),1),g=this._getRingWeight(this.index),v=this._getRotationExtents(),m=v.circumference,v=v.rotation,y=(e=v,n=p,w=v=1,u=l=0,(i=m)<M&&(r=(a=e)+i,m=Math.cos(a),y=Math.sin(a),k=Math.cos(r),b=Math.sin(r),s=function s(t,e,i){return se(t,a,r,!0)?-1:Math.min(e,e*n,i,i*n)},x=(o=function o(t,e,i){return se(t,a,r,!0)?1:Math.max(e,e*n,i,i*n)})(0,m,k),_=o(E,y,b),v=(x-(m=s(L,m,k)))/2,w=(_-(k=s(L+E,y,b)))/2,l=-(x+m)/2,u=-(_+k)/2),{ratioX:v,ratioY:w,offsetX:l,offsetY:u}),b=y.offsetX,x=y.offsetY,m=(c.width-f)/y.ratioX,_=(c.height-f)/y.ratioY,k=Math.max(Math.min(m,_)/2,0),v=Ct(this.options.radius,k),w=(v-Math.max(v*p,0))/this._getVisibleDatasetWeightTotal();this.offsetX=b*v,this.offsetY=x*v,h.total=this.calculateTotal(),this.outerRadius=v-w*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-w*g,0),this.updateElements(d,0,d.length,t)}},{key:"_circumference",value:function(t,e){var i=this.options,n=this._cachedMeta,a=this._getCircumference();return e&&i.animation.animateRotate||!this.chart.getDataVisibility(t)||null===n._parsed[t]||n.data[t].hidden?0:this.calculateCircumference(n._parsed[t]*a/M)}},{key:"updateElements",value:function(t,e,i,n){for(var a="reset"===n,r=this.chart,o=r.chartArea,r=r.options.animation,s=(o.left+o.right)/2,l=(o.top+o.bottom)/2,o=a&&r.animateScale,u=o?0:this.innerRadius,c=o?0:this.outerRadius,r=this._getSharedOptions(e,n),h=r.sharedOptions,d=r.includeOptions,f=this._getRotation(),p=0;p<e;++p)f+=this._circumference(p,a);for(p=e;p<e+i;++p){var g=this._circumference(p,a),v=t[p],m={x:s+this.offsetX,y:l+this.offsetY,startAngle:f,endAngle:f+g,circumference:g,outerRadius:c,innerRadius:u};d&&(m.options=h||this.resolveDataElementOptions(p,v.active?"active":n)),f+=g,this.updateElement(v,p,m,n)}}},{key:"calculateTotal",value:function(){for(var t=this._cachedMeta,e=t.data,i=0,n=0;n<e.length;n++){var a=t._parsed[n];null===a||isNaN(a)||!this.chart.getDataVisibility(n)||e[n].hidden||(i+=Math.abs(a))}return i}},{key:"calculateCircumference",value:function(t){var e=this._cachedMeta.total;return 0<e&&!isNaN(t)?M*(Math.abs(t)/e):0}},{key:"getLabelAndValue",value:function(t){var e=this._cachedMeta,i=this.chart,n=i.data.labels||[],e=Oe(e._parsed[t],i.options.locale);return{label:n[t]||"",value:e}}},{key:"getMaxBorderWidth",value:function(t){var e,i,n,a,r,o=0,s=this.chart;if(!t)for(e=0,i=s.data.datasets.length;e<i;++e)if(s.isDatasetVisible(e)){t=(n=s.getDatasetMeta(e)).data,a=n.controller;break}if(!t)return 0;for(e=0,i=t.length;e<i;++e)"inner"!==(r=a.resolveDataElementOptions(e)).borderAlign&&(o=Math.max(o,r.borderWidth||0,r.hoverBorderWidth||0));return o}},{key:"getMaxOffset",value:function(t){for(var e=0,i=0,n=t.length;i<n;++i)var a=this.resolveDataElementOptions(i),e=Math.max(e,a.offset||0,a.hoverOffset||0);return e}},{key:"_getRingWeightOffset",value:function(t){for(var e=0,i=0;i<t;++i)this.chart.isDatasetVisible(i)&&(e+=this._getRingWeight(i));return e}},{key:"_getRingWeight",value:function(t){return Math.max(z(this.chart.data.datasets[t].weight,1),0)}},{key:"_getVisibleDatasetWeightTotal",value:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}]),a}(),Cn=(_(Pn,"id","doughnut"),_(Pn,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),_(Pn,"descriptors",{_scriptable:function(t){return"spacing"!==t},_indexable:function(t){return"spacing"!==t}}),_(Pn,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels:function(n){var t,a,r,e=n.data;return e.labels.length&&e.datasets.length?(t=n.legend.options.labels,a=t.pointStyle,r=t.color,e.labels.map(function(t,e){var i=n.getDatasetMeta(0).controller.getStyle(e);return{text:t,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,fontColor:r,lineWidth:i.borderWidth,pointStyle:a,hidden:!n.getDataVisibility(e),index:e}})):[]}},onClick:function(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}}}),function(){l(e,i);var t=h(e);function e(){return d(this,e),t.apply(this,arguments)}return o(e,[{key:"initialize",value:function(){this.enableOptionSharing=!0,this.supportsDecimation=!0,f(c(e.prototype),"initialize",this).call(this)}},{key:"update",value:function(t){var e=this._cachedMeta,i=e.dataset,n=e.data,n=void 0===n?[]:n,a=e._dataset,r=this.chart._animationsDisabled,o=be(e,n,r),s=o.start,o=o.count,e=(this._drawStart=s,this._drawCount=o,xe(e)&&(s=0,o=n.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!a._decimated,i.points=n,this.resolveDatasetElementOptions(t));this.options.showLine||(e.borderWidth=0),e.segment=this.options.segment,this.updateElement(i,undefined,{animated:!r,options:e},t),this.updateElements(n,s,o,t)}},{key:"updateElements",value:function(t,e,i,n){for(var a="reset"===n,r=this._cachedMeta,o=r.iScale,s=r.vScale,l=r._stacked,u=r._dataset,r=this._getSharedOptions(e,n),c=r.sharedOptions,h=r.includeOptions,d=o.axis,f=s.axis,r=this.options,p=r.spanGaps,g=r.segment,v=te(p)?p:Number.POSITIVE_INFINITY,m=this.chart._animationsDisabled||a||"none"===n,y=e+i,b=t.length,x=0<e&&this.getParsed(e-1),_=0;_<b;++_){var k,w,M,S,L=t[_],E=m?L:{};_<e||y<=_?E.skip=!0:(w=O((k=this.getParsed(_))[f]),M=E[d]=o.getPixelForValue(k[d],_),S=E[f]=a||w?s.getBasePixel():s.getPixelForValue(l?this.applyStack(s,k,l):k[f],_),E.skip=isNaN(M)||isNaN(S)||w,E.stop=0<_&&Math.abs(k[d]-x[d])>v,g&&(E.parsed=k,E.raw=u.data[_]),h&&(E.options=c||this.resolveDataElementOptions(_,L.active?"active":n)),m||this.updateElement(L,_,E,n),x=k)}}},{key:"getMaxOverflow",value:function(){var t,e=this._cachedMeta,i=e.dataset,i=i.options&&i.options.borderWidth||0,e=e.data||[];return e.length?(t=e[0].size(this.resolveDataElementOptions(0)),e=e[e.length-1].size(this.resolveDataElementOptions(e.length-1)),Math.max(i,t,e)/2):i}},{key:"draw",value:function(){var t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),f(c(e.prototype),"draw",this).call(this)}}]),e}()),On=(_(Cn,"id","line"),_(Cn,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),_(Cn,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}}),function(){l(a,i);var n=h(a);function a(t,e){var i;return d(this,a),(i=n.call(this,t,e)).innerRadius=undefined,i.outerRadius=undefined,i}return o(a,[{key:"getLabelAndValue",value:function(t){var e=this._cachedMeta,i=this.chart,n=i.data.labels||[],e=Oe(e._parsed[t].r,i.options.locale);return{label:n[t]||"",value:e}}},{key:"parseObjectData",value:function(t,e,i,n){return xi.bind(this)(t,e,i,n)}},{key:"update",value:function(t){var e=this._cachedMeta.data;this._updateRadius(),this.updateElements(e,0,e.length,t)}},{key:"getMinMax",value:function(){var n=this,t=this._cachedMeta,a={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return t.data.forEach(function(t,e){var i=n.getParsed(e).r;!isNaN(i)&&n.chart.getDataVisibility(e)&&(i<a.min&&(a.min=i),a.max<i)&&(a.max=i)}),a}},{key:"_updateRadius",value:function(){var t=this.chart,e=t.chartArea,i=t.options,e=Math.min(e.right-e.left,e.bottom-e.top),e=Math.max(e/2,0),i=(e-Math.max(i.cutoutPercentage?e/100*i.cutoutPercentage:1,0))/t.getVisibleDatasetCount();this.outerRadius=e-i*this.index,this.innerRadius=this.outerRadius-i}},{key:"updateElements",value:function(t,e,i,n){for(var a="reset"===n,r=this.chart,o=r.options.animation,s=this._cachedMeta.rScale,l=s.xCenter,u=s.yCenter,c=s.getIndexAngle(0)-.5*L,h=c,d=360/this.countVisibleElements(),f=0;f<e;++f)h+=this._computeAngle(f,n,d);for(f=e;f<e+i;f++){var p=t[f],g=h,v=h+this._computeAngle(f,n,d),m=r.getDataVisibility(f)?s.getDistanceFromCenterForValue(this.getParsed(f).r):0,h=v,m=(a&&(o.animateScale&&(m=0),o.animateRotate)&&(g=v=c),{x:l,y:u,innerRadius:0,outerRadius:m,startAngle:g,endAngle:v,options:this.resolveDataElementOptions(f,p.active?"active":n)});this.updateElement(p,f,m,n)}}},{key:"countVisibleElements",value:function(){var i=this,t=this._cachedMeta,n=0;return t.data.forEach(function(t,e){!isNaN(i.getParsed(e).r)&&i.chart.getDataVisibility(e)&&n++}),n}},{key:"_computeAngle",value:function(t,e,i){return this.chart.getDataVisibility(t)?j(this.resolveDataElementOptions(t,e).angle||i):0}}]),a}()),Dn=(_(On,"id","polarArea"),_(On,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),_(On,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels:function(n){var t,a,r,e=n.data;return e.labels.length&&e.datasets.length?(t=n.legend.options.labels,a=t.pointStyle,r=t.color,e.labels.map(function(t,e){var i=n.getDatasetMeta(0).controller.getStyle(e);return{text:t,fillStyle:i.backgroundColor,strokeStyle:i.borderColor,fontColor:r,lineWidth:i.borderWidth,pointStyle:a,hidden:!n.getDataVisibility(e),index:e}})):[]}},onClick:function(t,e,i){i.chart.toggleDataVisibility(e.index),i.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}}),function(){l(e,Pn);var t=h(e);function e(){return d(this,e),t.apply(this,arguments)}return o(e)}()),Tn=(_(Dn,"id","pie"),_(Dn,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"}),function(){l(e,i);var t=h(e);function e(){return d(this,e),t.apply(this,arguments)}return o(e,[{key:"getLabelAndValue",value:function(t){var e=this._cachedMeta.vScale,i=this.getParsed(t);return{label:e.getLabels()[t],value:""+e.getLabelForValue(i[e.axis])}}},{key:"parseObjectData",value:function(t,e,i,n){return xi.bind(this)(t,e,i,n)}},{key:"update",value:function(t){var e,i=this._cachedMeta,n=i.dataset,a=i.data||[],i=i.iScale.getLabels();n.points=a,"resize"!==t&&(e=this.resolveDatasetElementOptions(t),this.options.showLine||(e.borderWidth=0),i={_loop:!0,_fullLoop:i.length===a.length,options:e},this.updateElement(n,undefined,i,t)),this.updateElements(a,0,a.length,t)}},{key:"updateElements",value:function(t,e,i,n){for(var a=this._cachedMeta.rScale,r="reset"===n,o=e;o<e+i;o++){var s=t[o],l=this.resolveDataElementOptions(o,s.active?"active":n),u=a.getPointPositionForValue(o,this.getParsed(o).r),c=r?a.xCenter:u.x,h=r?a.yCenter:u.y,u={x:c,y:h,angle:u.angle,skip:isNaN(c)||isNaN(h),options:l};this.updateElement(s,o,u,n)}}}]),e}()),Rn=(_(Tn,"id","radar"),_(Tn,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),_(Tn,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}}),function(){l(e,i);var t=h(e);function e(){return d(this,e),t.apply(this,arguments)}return o(e,[{key:"getLabelAndValue",value:function(t){var e=this._cachedMeta,i=this.chart.data.labels||[],n=e.xScale,e=e.yScale,a=this.getParsed(t),n=n.getLabelForValue(a.x),a=e.getLabelForValue(a.y);return{label:i[t]||"",value:"("+n+", "+a+")"}}},{key:"update",value:function(t){var e,i=this._cachedMeta,n=i.data,n=void 0===n?[]:n,a=this.chart._animationsDisabled,r=be(i,n,a),o=r.start,r=r.count;this._drawStart=o,this._drawCount=r,xe(i)&&(o=0,r=n.length),this.options.showLine&&(e=i.dataset,i=i._dataset,e._chart=this.chart,e._datasetIndex=this.index,e._decimated=!!i._decimated,e.points=n,(i=this.resolveDatasetElementOptions(t)).segment=this.options.segment,this.updateElement(e,undefined,{animated:!a,options:i},t)),this.updateElements(n,o,r,t)}},{key:"addElements",value:function(){var t=this.options.showLine;!this.datasetElementType&&t&&(this.datasetElementType=this.chart.registry.getElement("line")),f(c(e.prototype),"addElements",this).call(this)}},{key:"updateElements",value:function(t,e,i,n){for(var a="reset"===n,r=this._cachedMeta,o=r.iScale,s=r.vScale,l=r._stacked,u=r._dataset,r=this.resolveDataElementOptions(e,n),c=this.getSharedOptions(r),h=this.includeOptions(n,c),d=o.axis,f=s.axis,p=this.options,g=p.spanGaps,v=p.segment,m=te(g)?g:Number.POSITIVE_INFINITY,y=this.chart._animationsDisabled||a||"none"===n,b=0<e&&this.getParsed(e-1),x=e;x<e+i;++x){var _=t[x],k=this.getParsed(x),w=y?_:{},M=O(k[f]),S=w[d]=o.getPixelForValue(k[d],x),L=w[f]=a||M?s.getBasePixel():s.getPixelForValue(l?this.applyStack(s,k,l):k[f],x);w.skip=isNaN(S)||isNaN(L)||M,w.stop=0<x&&Math.abs(k[d]-b[d])>m,v&&(w.parsed=k,w.raw=u.data[x]),h&&(w.options=c||this.resolveDataElementOptions(x,_.active?"active":n)),y||this.updateElement(_,x,w,n),b=k}this.updateSharedOptions(c,n,r)}},{key:"getMaxOverflow",value:function(){var t,e,i=this._cachedMeta,n=i.data||[];if(this.options.showLine)return i=(i=i.dataset).options&&i.options.borderWidth||0,n.length?(t=n[0].size(this.resolveDataElementOptions(0)),e=n[n.length-1].size(this.resolveDataElementOptions(n.length-1)),Math.max(i,t,e)/2):i;for(var a=0,r=n.length-1;0<=r;--r)a=Math.max(a,n[r].size(this.resolveDataElementOptions(r))/2);return 0<a&&a}}]),e}()),In=(_(Rn,"id","scatter"),_(Rn,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),_(Rn,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}}),Object.freeze({__proto__:null,BarController:En,BubbleController:An,DoughnutController:Pn,LineController:Cn,PolarAreaController:On,PieController:Dn,RadarController:Tn,ScatterController:Rn}));function Fn(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var zn={_date:function(){function e(t){d(this,e),this.options=t||{}}return o(e,[{key:"init",value:function(){}},{key:"formats",value:Fn},{key:"parse",value:Fn},{key:"format",value:Fn},{key:"add",value:Fn},{key:"diff",value:Fn},{key:"startOf",value:Fn},{key:"endOf",value:Fn}],[{key:"override",value:function(t){Object.assign(e.prototype,t)}}]),e}()};function Hn(t,e,i,n,a){for(var r=t.getSortedVisibleDatasetMetas(),o=i[e],s=0,l=r.length;s<l;++s)for(var u=r[s],c=u.index,h=u.data,u=function(t,e,i,n){var a=t.controller,r=t.data,o=t._sorted;if((s=a._cachedMeta.iScale)&&e===s.axis&&"r"!==e&&o&&r.length){o=s._reversePixels?he:ce;if(!n)return o(r,e,i);if(a._sharedOptions){var s=r[0],a="function"==typeof s.getRange&&s.getRange(e);if(a)return s=o(r,e,i-a),a=o(r,e,i+a),{lo:s.lo,hi:a.hi}}}return{lo:0,hi:r.length-1}}(r[s],e,o,a),d=u.lo,f=u.hi,p=d;p<=f;++p){var g=h[p];g.skip||n(g,c,p)}}function qn(n,a,t,r,o){var s=[];return(o||n.isPointInArea(a))&&Hn(n,t,a,function(t,e,i){(o||Be(t,n.chartArea,0))&&t.inRange(a.x,a.y,r)&&s.push({element:t,datasetIndex:e,index:i})},!0),s}function jn(t,r,e,o){var s=[];return Hn(t,e,r,function(t,e,i){var n=(a=t.getProps(["startAngle","endAngle"],o)).startAngle,a=a.endAngle;se(ae(t,{x:r.x,y:r.y}).angle,n,a)&&s.push({element:t,datasetIndex:e,index:i})}),s}function Nn(r,o,t,s,l,u){var e,a,c,h=[],d=(a=-1!==(e=t).indexOf("x"),c=-1!==e.indexOf("y"),function(t,e){var i=a?Math.abs(t.x-e.x):0,n=c?Math.abs(t.y-e.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(n,2))}),f=Number.POSITIVE_INFINITY;return Hn(r,t,o,function(t,e,i){var n,a=t.inRange(o.x,o.y,l);(!s||a)&&(n=t.getCenterPoint(l),u||r.isPointInArea(n)||a)&&((a=d(o,n))<f?(h=[{element:t,datasetIndex:e,index:i}],f=a):a===f&&h.push({element:t,datasetIndex:e,index:i}))}),h}function Vn(t,e,i,n,a,r){return r||t.isPointInArea(e)?"r"!==i||n?Nn(t,e,i,n,a,r):jn(t,e,i,a):[]}function Bn(t,n,a,e,r){var o=[],s="x"===a?"inXRange":"inYRange",l=!1;return Hn(t,a,n,function(t,e,i){t[s](n[a],r)&&(o.push({element:t,datasetIndex:e,index:i}),l=l||t.inRange(n.x,n.y,r))}),e&&!l?[]:o}var Wn={evaluateInteractionItems:Hn,modes:{index:function Kr(t,e,i,n){var a=Ii(e,t),r=i.axis||"x",o=i.includeInvisible||!1,s=i.intersect?qn(t,a,r,n,o):Vn(t,a,r,!1,n,o),l=[];return s.length?(t.getSortedVisibleDatasetMetas().forEach(function(t){var e=s[0].index,i=t.data[e];i&&!i.skip&&l.push({element:i,datasetIndex:t.index,index:e})}),l):[]},dataset:function(t,e,i,n){var a=Ii(e,t),r=i.axis||"xy",o=i.includeInvisible||!1;if(0<(u=i.intersect?qn(t,a,r,n,o):Vn(t,a,r,!1,n,o)).length)for(var s=u[0].datasetIndex,l=t.getDatasetMeta(s).data,u=[],c=0;c<l.length;++c)u.push({element:l[c],datasetIndex:s,index:c});return u},point:function(t,e,i,n){return qn(t,Ii(e,t),i.axis||"xy",n,i.includeInvisible||!1)},nearest:function(t,e,i,n){var a=Ii(e,t),r=i.axis||"xy",o=i.includeInvisible||!1;return Vn(t,a,r,i.intersect,n,o)},x:function(t,e,i,n){return Bn(t,Ii(e,t),"x",i.intersect,n)},y:function(t,e,i,n){return Bn(t,Ii(e,t),"y",i.intersect,n)}}},Xn=["left","top","right","bottom"];function Un(t,e){return t.filter(function(t){return t.pos===e})}function Yn(t,e){return t.filter(function(t){return-1===Xn.indexOf(t.pos)&&t.box.axis===e})}function $n(t,a){return t.sort(function(t,e){var i=a?e:t,n=a?t:e;return i.weight===n.weight?i.index-n.index:i.weight-n.weight})}function Kn(t){var e,i={},n=C(t);try{for(n.s();!(e=n.n()).done;){var a,r=e.value,o=r.stack,s=r.pos,l=r.stackWeight;o&&Xn.includes(s)&&((a=i[o]||(i[o]={count:0,placed:0,weight:0,size:0})).count++,a.weight+=l)}}catch(u){n.e(u)}finally{n.f()}return i}function Jn(t){var e=function(t){for(var e=[],i=0,n=(t||[]).length;i<n;++i){var a,r=a=t[i],o=r.position,r=r.options,s=r.stack,r=r.stackWeight,r=void 0===r?1:r;e.push({index:i,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:s&&o+s,stackWeight:r})}return e}(t),i=$n(e.filter(function(t){return t.box.fullSize}),!0),n=$n(Un(e,"left"),!0),a=$n(Un(e,"right")),r=$n(Un(e,"top"),!0),o=$n(Un(e,"bottom")),s=Yn(e,"x"),l=Yn(e,"y");return{fullSize:i,leftAndTop:n.concat(r),rightAndBottom:a.concat(l).concat(o).concat(s),chartArea:Un(e,"chartArea"),vertical:n.concat(a).concat(l),horizontal:r.concat(o).concat(s)}}function Gn(t,e,i,n){return Math.max(t[i],e[i])+Math.max(t[n],e[n])}function Zn(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Qn(t,e,i,n){for(var a,r,o,s,l,u,c,h,d,f,p=[],g=0,v=t.length,m=0;g<v;++g){(r=(a=t[g]).box).update(a.width||e.w,a.height||e.h,function(t,i){var n=i.maxPadding;function e(t){var e={left:0,top:0,right:0,bottom:0};return t.forEach(function(t){e[t]=Math.max(i[t],n[t])}),e}return e(t?["left","right"]:["top","bottom"])}(a.horizontal,e));s=e,l=i,c=n,f=d=h=y=f=d=h=void 0,h=(u=a).pos,d=u.box,f=s.maxPadding,q(h)||(u.size&&(s[h]-=u.size),(y=c[u.stack]||{size:0,count:1}).size=Math.max(y.size,u.horizontal?d.height:d.width),u.size=y.size/y.count,s[h]+=u.size),d.getPadding&&Zn(f,d.getPadding()),y=Math.max(0,l.outerWidth-Gn(f,s,"left","right")),h=Math.max(0,l.outerHeight-Gn(f,s,"top","bottom")),d=y!==s.w,f=h!==s.h,s.w=y,s.h=h;var y=u.horizontal?{same:d,other:f}:{same:f,other:d};m|=y.same&&p.length,o=o||y.other,r.fullSize||p.push(a)}return m&&Qn(p,e,i,n)||o}function ta(t,e,i,n,a){t.top=i,t.left=e,t.right=e+n,t.bottom=i+a,t.width=n,t.height=a}function ea(t,e,i,n){var a,r=i.padding,o=e.x,s=e.y,l=C(t);try{for(l.s();!(a=l.n()).done;){var u,c,h,d,f=a.value,p=f.box,g=n[f.stack]||{count:1,placed:0,weight:1},v=f.stackWeight/g.weight||1;f.horizontal?(u=e.w*v,c=g.size||p.height,y(g.start)&&(s=g.start),p.fullSize?ta(p,r.left,s,i.outerWidth-r.right-r.left,c):ta(p,e.left+g.placed,s,u,c),g.start=s,g.placed+=u,s=p.bottom):(h=e.h*v,d=g.size||p.width,y(g.start)&&(o=g.start),p.fullSize?ta(p,o,r.top,d,i.outerHeight-r.bottom-r.top):ta(p,o,e.top+g.placed,d,h),g.start=o,g.placed+=h,o=p.right)}}catch(m){l.e(m)}finally{l.f()}e.x=o,e.y=s}var u={addBox:function(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw:function(t){e.draw(t)}}]},t.boxes.push(e)},removeBox:function(t,e){var i=t.boxes?t.boxes.indexOf(e):-1;-1!==i&&t.boxes.splice(i,1)},configure:function(t,e,i){e.fullSize=i.fullSize,e.position=i.position,e.weight=i.weight},update:function(i,t,e,n){var a,r,o,s,l,u,c,h,d,f,p;function g(t){var e=Math.max(p[t]-f[t],0);return f[t]+=e,e}i&&(a=N(i.options.layout.padding),r=Math.max(t-a.width,0),o=Math.max(e-a.height,0),l=(s=Jn(i.boxes)).vertical,u=s.horizontal,S(i.boxes,function(t){"function"==typeof t.beforeLayout&&t.beforeLayout()}),c=l.reduce(function(t,e){return e.box.options&&!1===e.box.options.display?t:t+1},0)||1,c=Object.freeze({outerWidth:t,outerHeight:e,padding:a,availableWidth:r,availableHeight:o,vBoxMaxWidth:r/2/c,hBoxMaxHeight:o/2}),Zn(d=Object.assign({},a),N(n)),h=Object.assign({maxPadding:d,w:r,h:o,x:a.left,y:a.top},a),d=function(t,e){for(var i=Kn(t),n=e.vBoxMaxWidth,a=e.hBoxMaxHeight,r=0,o=t.length;r<o;++r){var s,l=(s=t[r]).box.fullSize,u=i[s.stack],u=u&&s.stackWeight/u.weight;s.horizontal?(s.width=u?u*n:l&&e.availableWidth,s.height=a):(s.width=n,s.height=u?u*a:l&&e.availableHeight)}return i}(l.concat(u),c),Qn(s.fullSize,h,c,d),Qn(l,h,c,d),Qn(u,h,c,d)&&Qn(l,h,c,d),p=(f=h).maxPadding,f.y+=g("top"),f.x+=g("left"),g("right"),g("bottom"),ea(s.leftAndTop,h,c,d),h.x+=h.w,h.y+=h.h,ea(s.rightAndBottom,h,c,d),i.chartArea={left:h.left,top:h.top,right:h.left+h.w,bottom:h.top+h.h,height:h.h,width:h.w},S(s.chartArea,function(t){var e=t.box;Object.assign(e,i.chartArea),e.update(h.w,h.h,{left:0,top:0,right:0,bottom:0})}))}},ia=function(){function t(){d(this,t)}return o(t,[{key:"acquireContext",value:function(t,e){}},{key:"releaseContext",value:function(t){return!1}},{key:"addEventListener",value:function(t,e,i){}},{key:"removeEventListener",value:function(t,e,i){}},{key:"getDevicePixelRatio",value:function(){return 1}},{key:"getMaximumSize",value:function zi(t,e,i,n){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,n?Math.floor(e/n):i)}}},{key:"isAttached",value:function(t){return!0}},{key:"updateConfig",value:function(t){}}]),t}(),na=function(){l(e,ia);var t=h(e);function e(){return d(this,e),t.apply(this,arguments)}return o(e,[{key:"acquireContext",value:function(t){return t&&t.getContext&&t.getContext("2d")||null}},{key:"updateConfig",value:function(t){t.options.animation=!1}}]),e}(),aa="$chartjs",ra={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},oa=function oa(t){return null===t||""===t};var sa=!!qi&&{passive:!0};function la(t,e,i){t.canvas.removeEventListener(e,i,sa)}function ua(t,e){var i,n=C(t);try{for(n.s();!(i=n.n()).done;){var a=i.value;if(a===e||a.contains(e))return!0}}catch(r){n.e(r)}finally{n.f()}}function ca(t,e,o){var s=t.canvas,i=new MutationObserver(function(t){var e,i=!1,n=C(t);try{for(n.s();!(e=n.n()).done;){var a=e.value;i=(i=i||ua(a.addedNodes,s))&&!ua(a.removedNodes,s)}}catch(r){n.e(r)}finally{n.f()}i&&o()});return i.observe(document,{childList:!0,subtree:!0}),i}function ha(t,e,o){var s=t.canvas,i=new MutationObserver(function(t){var e,i=!1,n=C(t);try{for(n.s();!(e=n.n()).done;){var a=e.value;i=(i=i||ua(a.removedNodes,s))&&!ua(a.addedNodes,s)}}catch(r){n.e(r)}finally{n.f()}i&&o()});return i.observe(document,{childList:!0,subtree:!0}),i}var da=new Map,fa=0;function pa(){var i=window.devicePixelRatio;i!==fa&&(fa=i,da.forEach(function(t,e){e.currentDevicePixelRatio!==i&&t()}))}function ga(t,e,n){var a,i,r=t.canvas,o=r&&Ai(r);if(o)return a=ve(function(t,e){var i=o.clientWidth;n(t,e),i<o.clientWidth&&n()},window),(r=new ResizeObserver(function(t){var e=t[0],i=e.contentRect.width,e=e.contentRect.height;0===i&&0===e||a(i,e)})).observe(o),t=t,i=a,da.size||window.addEventListener("resize",pa),da.set(t,i),r}function va(t,e,i){i&&i.disconnect(),"resize"===e&&(da["delete"](t),da.size||window.removeEventListener("resize",pa))}function ma(r,t,o){var e=r.canvas,i=ve(function(t){var e,i,n,a;null!==r.ctx&&o((e=r,i=ra[(t=t).type]||t.type,n=(a=Ii(t,e)).x,a=a.y,{type:i,chart:e,"native":t,x:n!==undefined?n:null,y:a!==undefined?a:null}))},r);return e.addEventListener(t,i,sa),i}var ya=function(){l(e,ia);var t=h(e);function e(){return d(this,e),t.apply(this,arguments)}return o(e,[{key:"acquireContext",value:function(t,e){var i,n,a,r=t&&t.getContext&&t.getContext("2d");return r&&r.canvas===t?(e=e,i=(t=t).style,n=t.getAttribute("height"),a=t.getAttribute("width"),t[aa]={initial:{height:n,width:a,style:{display:i.display,height:i.height,width:i.width}}},i.display=i.display||"block",i.boxSizing=i.boxSizing||"border-box",oa(a)&&(i=ji(t,"width"))!==undefined&&(t.width=i),oa(n)&&(""===t.style.height?t.height=t.width/(e||2):(a=ji(t,"height"))!==undefined&&(t.height=a)),r):null}},{key:"releaseContext",value:function(t){var i,e,n=t.canvas;return!!n[aa]&&(i=n[aa].initial,["height","width"].forEach(function(t){var e=i[t];O(e)?n.removeAttribute(t):n.setAttribute(t,e)}),e=i.style||{},Object.keys(e).forEach(function(t){n.style[t]=e[t]}),n.width=n.width,delete n[aa],!0)}},{key:"addEventListener",value:function(t,e,i){this.removeEventListener(t,e);var n=t.$proxies||(t.$proxies={}),a={attach:ca,detach:ha,resize:ga}[e]||ma;n[e]=a(t,e,i)}},{key:"removeEventListener",value:function(t,e){var i=t.$proxies||(t.$proxies={}),n=i[e];n&&(({attach:va,detach:va,resize:va}[e]||la)(t,e,n),i[e]=undefined)}},{key:"getDevicePixelRatio",value:function(){return window.devicePixelRatio}},{key:"getMaximumSize",value:function(t,e,i,n){return zi(t,e,i,n)}},{key:"isAttached",value:function(t){var e=Ai(t);return!(!e||!e.isConnected)}}]),e}();function ba(t){return!Ei()||"undefined"!=typeof OffscreenCanvas&&t instanceof OffscreenCanvas?na:ya}var e=function(){function t(){d(this,t),_(this,"active",!1)}return o(t,[{key:"tooltipPosition",value:function(t){var e=this.getProps(["x","y"],t);return{x:e.x,y:e.y}}},{key:"hasValue",value:function(){return te(this.x)&&te(this.y)}},{key:"getProps",value:function(t,e){var i,n=this,a=this.$animations;return e&&a?(i={},t.forEach(function(t){i[t]=a[t]&&a[t].active()?a[t]._to:n[t]}),i):this}}]),t}();function xa(t,e){var i=t.options.ticks,n=(n=(t=t).options.offset,a=t._tickSize(),n=t._length/a+(n?0:1),a=t._maxLength/a,Math.floor(Math.min(n,a))),a=Math.min(i.maxTicksLimit||n,n),r=i.major.enabled?function(t){var e,i,n=[];for(e=0,i=t.length;e<i;e++)t[e].major&&n.push(e);return n}(e):[],n=r.length,i=r[0],o=r[n-1],s=[];if(a<n){var l,u=e,c=s,h=r,d=n/a,f=0,p=h[0];for(d=Math.ceil(d),l=0;l<u.length;l++)l===p&&(c.push(u[l]),p=h[++f*d])}else{var g=function(t,e,i){var n=function(t){var e,i,n=t.length;if(n<2)return!1;for(i=t[0],e=1;e<n;++e)if(t[e]-t[e-1]!==i)return!1;return i}(t),a=e.length/i;if(n)for(var r=function(t){for(var e=[],i=Math.sqrt(t),n=1;n<i;n++)t%n==0&&(e.push(n),e.push(t/n));return i===(0|i)&&e.push(i),e.sort(function(t,e){return t-e}).pop(),e}(n),o=0,s=r.length-1;o<s;o++){var l=r[o];if(a<l)return l}return Math.max(a,1)}(r,e,a);if(0<n){var v,m,a=1<n?Math.round((o-i)/(n-1)):null;for(_a(e,s,g,O(a)?0:i-a,i),v=0,m=n-1;v<m;v++)_a(e,s,g,r[v],r[v+1]);_a(e,s,g,o,O(a)?e.length:o+a)}else _a(e,s,g)}return s}function _a(t,e,i,n,a){var r,o,s,l=z(n,0),u=Math.min(z(a,t.length),t.length),c=0;for(i=Math.ceil(i),a&&(i=(r=a-n)/Math.floor(r/i)),s=l;s<0;)c++,s=Math.round(l+c*i);for(o=Math.max(l,0);o<u;o++)o===s&&(e.push(t[o]),c++,s=Math.round(l+c*i))}_(e,"defaults",{}),_(e,"defaultRoutes",undefined);var ka=function ka(t){return"left"===t?"right":"right"===t?"left":t},wa=function wa(t,e,i){return"top"===e||"left"===e?t[e]+i:t[e]-i},Ma=function Ma(t,e){return Math.min(e||t,t)};function Sa(t,e){for(var i=[],n=t.length/e,a=t.length,r=0;r<a;r+=n)i.push(t[Math.floor(r)]);return i}function La(t){return t.drawTicks?t.tickLength:0}function Ea(t,e){var i,n;return t.display?(i=D(t.font,e),n=N(t.padding),(H(t.text)?t.text.length:1)*i.lineHeight+n.height):0}var Aa=function(){l(a,e);var i=h(a);function a(t){var e;return d(this,a),(e=i.call(this)).id=t.id,e.type=t.type,e.options=undefined,e.ctx=t.ctx,e.chart=t.chart,e.top=undefined,e.bottom=undefined,e.left=undefined,e.right=undefined,e.width=undefined,e.height=undefined,e._margins={left:0,right:0,top:0,bottom:0},e.maxWidth=undefined,e.maxHeight=undefined,e.paddingTop=undefined,e.paddingBottom=undefined,e.paddingLeft=undefined,e.paddingRight=undefined,e.axis=undefined,e.labelRotation=undefined,e.min=undefined,e.max=undefined,e._range=undefined,e.ticks=[],e._gridLineItems=null,e._labelItems=null,e._labelSizes=null,e._length=0,e._maxLength=0,e._longestTextCache={},e._startPixel=undefined,e._endPixel=undefined,e._reversePixels=!1,e._userMax=undefined,e._userMin=undefined,e._suggestedMax=undefined,e._suggestedMin=undefined,e._ticksLength=0,e._borderValue=0,e._cache={},e._dataLimitsCached=!1,e.$context=undefined,e}return o(a,[{key:"init",value:function(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}},{key:"parse",value:function(t,e){return t}},{key:"getUserBounds",value:function fn(){var t=this._userMin,e=this._userMax,i=this._suggestedMin,n=this._suggestedMax,t=v(t,Number.POSITIVE_INFINITY),e=v(e,Number.NEGATIVE_INFINITY),i=v(i,Number.POSITIVE_INFINITY),n=v(n,Number.NEGATIVE_INFINITY);return{min:v(t,i),max:v(e,n),minDefined:g(t),maxDefined:g(e)}}},{key:"getMinMax",value:function(t){var e,i=this.getUserBounds(),n=i.min,a=i.max,r=i.minDefined,o=i.maxDefined;if(r&&o)return{min:n,max:a};for(var s=this.getMatchingVisibleMetas(),l=0,u=s.length;l<u;++l)e=s[l].controller.getMinMax(this,t),r||(n=Math.min(n,e.min)),o||(a=Math.max(a,e.max));return{min:v(n=o&&a<n?a:n,v(a=r&&a<n?n:a,n)),max:v(a,v(n,a))}}},{key:"getPadding",value:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}},{key:"getTicks",value:function(){return this.ticks}},{key:"getLabels",value:function(){var t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}},{key:"getLabelItems",value:function(){var t=0<arguments.length&&arguments[0]!==undefined?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(t))}},{key:"beforeLayout",value:function(){this._cache={},this._dataLimitsCached=!1}},{key:"beforeUpdate",value:function(){m(this.options.beforeUpdate,[this])}},{key:"update",value:function(t,e,i){var n,a,r,o=this.options,s=o.beginAtZero,l=o.grace,o=o.ticks,u=o.sampleSize,s=(this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=(n=s,s=(t=this).min,r=t.max,l=Ct(l,(r-s)/2),{min:(a=function a(t,e){return n&&0===t?0:t+e})(s,-Math.abs(l)),max:a(r,l)}),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks(),u<this.ticks.length);this._convertTicksToLabels(s?Sa(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=xa(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),s&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}},{key:"configure",value:function(){var t,e,i=this.options.reverse;this.isHorizontal()?(t=this.left,e=this.right):(t=this.top,e=this.bottom,i=!i),this._startPixel=t,this._endPixel=e,this._reversePixels=i,this._length=e-t,this._alignToPixels=this.options.alignToPixels}},{key:"afterUpdate",value:function(){m(this.options.afterUpdate,[this])}},{key:"beforeSetDimensions",value:function(){m(this.options.beforeSetDimensions,[this])}},{key:"setDimensions",value:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}},{key:"afterSetDimensions",value:function(){m(this.options.afterSetDimensions,[this])}},{key:"_callHooks",value:function(t){this.chart.notifyPlugins(t,this.getContext()),m(this.options[t],[this])}},{key:"beforeDataLimits",value:function(){this._callHooks("beforeDataLimits")}},{key:"determineDataLimits",value:function(){}},{key:"afterDataLimits",value:function(){this._callHooks("afterDataLimits")}},{key:"beforeBuildTicks",value:function(){this._callHooks("beforeBuildTicks")}},{key:"buildTicks",value:function(){return[]}},{key:"afterBuildTicks",value:function(){this._callHooks("afterBuildTicks")}},{key:"beforeTickToLabelConversion",value:function(){m(this.options.beforeTickToLabelConversion,[this])}},{key:"generateTickLabels",value:function(t){for(var e,i=this.options.ticks,n=0,a=t.length;n<a;n++)(e=t[n]).label=m(i.callback,[e.value,n,t],this)}},{key:"afterTickToLabelConversion",value:function(){m(this.options.afterTickToLabelConversion,[this])}},{key:"beforeCalculateLabelRotation",value:function(){m(this.options.beforeCalculateLabelRotation,[this])}},{key:"calculateLabelRotation",value:function(){var t,e,i,n,a=this.options,r=a.ticks,o=Ma(this.ticks.length,a.ticks.maxTicksLimit),s=r.minRotation||0,l=r.maxRotation,u=s;!this._isVisible()||!r.display||l<=s||o<=1||!this.isHorizontal()?this.labelRotation=s:(e=(t=this._getLabelSizes()).widest.width,i=t.highest.height,n=b(this.chart.width-e,0,this.maxWidth),(a.offset?this.maxWidth/o:n/(o-1))<e+6&&(n=n/(o-(a.offset?.5:1)),o=this.maxHeight-La(a.grid)-r.padding-Ea(a.title,this.chart.options.font),r=Math.sqrt(e*e+i*i),u=ie(Math.min(Math.asin(b((t.highest.height+6)/n,-1,1)),Math.asin(b(o/r,-1,1))-Math.asin(b(i/r,-1,1)))),u=Math.max(s,Math.min(l,u))),this.labelRotation=u)}},{key:"afterCalculateLabelRotation",value:function(){m(this.options.afterCalculateLabelRotation,[this])}},{key:"afterAutoSkip",value:function(){}},{key:"beforeFit",value:function(){m(this.options.beforeFit,[this])}},{key:"fit",value:function(){var t,e,i,n,a,r={width:0,height:0},o=this.chart,s=this.options,l=s.ticks,u=s.title,s=s.grid,c=this._isVisible(),h=this.isHorizontal();c&&(c=Ea(u,o.options.font),h?(r.width=this.maxWidth,r.height=La(s)+c):(r.height=this.maxHeight,r.width=La(s)+c),l.display)&&this.ticks.length&&(s=(u=this._getLabelSizes()).first,c=u.last,t=u.widest,u=u.highest,e=2*l.padding,n=j(this.labelRotation),i=Math.cos(n),n=Math.sin(n),h?(a=l.mirror?0:n*t.width+i*u.height,r.height=Math.min(this.maxHeight,r.height+a+e)):(a=l.mirror?0:i*t.width+n*u.height,r.width=Math.min(this.maxWidth,r.width+a+e)),this._calculatePadding(s,c,n,i)),this._handleMargins(),h?(this.width=this._length=o.width-this._margins.left-this._margins.right,this.height=r.height):(this.width=r.width,this.height=this._length=o.height-this._margins.top-this._margins.bottom)}},{key:"_calculatePadding",value:function(t,e,i,n){var a,r,o,s,l=this.options,u=l.ticks,c=u.align,u=u.padding,l=l.position,h=0!==this.labelRotation,l="top"!==l&&"x"===this.axis;this.isHorizontal()?(a=this.getPixelForTick(0)-this.left,r=this.right-this.getPixelForTick(this.ticks.length-1),s=o=0,h?s=l?(o=n*t.width,i*e.height):(o=i*t.height,n*e.width):"start"===c?s=e.width:"end"===c?o=t.width:"inner"!==c&&(o=t.width/2,s=e.width/2),this.paddingLeft=Math.max((o-a+u)*this.width/(this.width-a),0),this.paddingRight=Math.max((s-r+u)*this.width/(this.width-r),0)):(h=e.height/2,l=t.height/2,"start"===c?(h=0,l=t.height):"end"===c&&(h=e.height,l=0),this.paddingTop=h+u,this.paddingBottom=l+u)}},{key:"_handleMargins",value:function(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}},{key:"afterFit",value:function(){m(this.options.afterFit,[this])}},{key:"isHorizontal",value:function(){var t=this.options,e=t.axis,t=t.position;return"top"===t||"bottom"===t||"x"===e}},{key:"isFullSize",value:function(){return this.options.fullSize}},{key:"_convertTicksToLabels",value:function(t){var e,i;for(this.beforeTickToLabelConversion(),this.generateTickLabels(t),e=0,i=t.length;e<i;e++)O(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}},{key:"_getLabelSizes",value:function(){var t,e,i=this._labelSizes;return i||((t=this.options.ticks.sampleSize)<(e=this.ticks).length&&(e=Sa(e,t)),this._labelSizes=i=this._computeLabelSizes(e,e.length,this.options.ticks.maxTicksLimit)),i}},{key:"_computeLabelSizes",value:function(t,e,i){for(var n,a,r,o,s,l,u,c,h,d,f,p=this.ctx,g=this._longestTextCache,v=[],m=[],y=Math.floor(e/Ma(e,i)),b=0,x=0,_=0;_<e;_+=y){if(r=t[_].label,o=this._resolveTickFontOptions(_),p.font=s=o.string,l=g[s]=g[s]||{data:{},gc:[]},u=o.lineHeight,c=h=0,O(r)||H(r)){if(H(r))for(n=0,a=r.length;n<a;++n)O(d=r[n])||H(d)||(c=He(p,l.data,l.gc,c,d),h+=u)}else c=He(p,l.data,l.gc,c,r),h=u;v.push(c),m.push(h),b=Math.max(c,b),x=Math.max(h,x)}f=e,S(g,function(t){var e,i=t.gc,n=i.length/2;if(f<n){for(e=0;e<n;++e)delete t.data[i[e]];i.splice(0,n)}});var k,w=v.indexOf(b),M=m.indexOf(x);return{first:(k=function k(t){return{width:v[t]||0,height:m[t]||0}})(0),last:k(e-1),widest:k(w),highest:k(M),widths:v,heights:m}}},{key:"getLabelForValue",value:function(t){return t}},{key:"getPixelForValue",value:function(t,e){return NaN}},{key:"getValueForPixel",value:function(t){}},{key:"getPixelForTick",value:function(t){var e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}},{key:"getPixelForDecimal",value:function(t){this._reversePixels&&(t=1-t);var e=this._startPixel+t*this._length;return b(this._alignToPixels?qe(this.chart,e,0):e,-32768,32767)}},{key:"getDecimalForPixel",value:function(t){var e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}},{key:"getBasePixel",value:function(){return this.getPixelForValue(this.getBaseValue())}},{key:"getBaseValue",value:function(){var t=this.min,e=this.max;return t<0&&e<0?e:0<t&&0<e?t:0}},{key:"getContext",value:function(t){var e=this.ticks||[];return 0<=t&&t<e.length?(e=e[t]).$context||(e.$context=ni(this.getContext(),{tick:e,index:t,type:"tick"})):this.$context||(this.$context=ni(this.chart.getContext(),{scale:this,type:"scale"}))}},{key:"_tickSize",value:function(){var t=this.options.ticks,e=j(this.labelRotation),i=Math.abs(Math.cos(e)),e=Math.abs(Math.sin(e)),n=this._getLabelSizes(),t=t.autoSkipPadding||0,a=n?n.widest.width+t:0,n=n?n.highest.height+t:0;return this.isHorizontal()?a*e<n*i?a/i:n/e:n*e<a*i?n/i:a/e}},{key:"_isVisible",value:function(){var t=this.options.display;return"auto"!==t?!!t:0<this.getMatchingVisibleMetas().length}},{key:"_computeGridLineItems",value:function(t){for(var e,i,n,a,r,o,s,l,u,c,h,d=this.axis,f=this.chart,p=this.options,g=p.grid,v=p.position,m=p.border,y=g.offset,b=this.isHorizontal(),x=this.ticks.length+(y?1:0),_=La(g),k=[],w=m.setContext(this.getContext()),M=w.display?w.width:0,w=M/2,S=function S(t){return qe(f,t,M)},d=("top"===v?(u=S(this.bottom),i=this.bottom-_,a=u-w,o=S(t.top)+w,l=t.bottom):"bottom"===v?(u=S(this.top),o=t.top,l=S(t.bottom)-w,i=u+w,a=this.top+_):"left"===v?(u=S(this.right),e=this.right-_,n=u-w,r=S(t.left)+w,s=t.right):"right"===v?(u=S(this.left),r=t.left,s=S(t.right)-w,e=u+w,n=this.left+_):"x"===d?("center"===v?u=S((t.top+t.bottom)/2+.5):q(v)&&(h=v[c=Object.keys(v)[0]],u=S(this.chart.scales[c].getPixelForValue(h))),o=t.top,l=t.bottom,a=(i=u+w)+_):"y"===d&&("center"===v?u=S((t.left+t.right)/2):q(v)&&(h=v[c=Object.keys(v)[0]],u=S(this.chart.scales[c].getPixelForValue(h))),n=(e=u-w)-_,r=t.left,s=t.right),z(p.ticks.maxTicksLimit,x)),L=Math.max(1,Math.ceil(x/d)),E=0;E<x;E+=L){var A,P=this.getContext(E),C=g.setContext(P),P=m.setContext(P),O=C.lineWidth,D=C.color,T=P.dash||[],P=P.dashOffset,R=C.tickWidth,I=C.tickColor,F=C.tickBorderDash||[],C=C.tickBorderDashOffset;(A=function(t,e,i){var n=t.ticks.length,a=Math.min(e,n-1),r=t._startPixel,o=t._endPixel,s=t.getPixelForTick(a);if(!(i&&(n=1===n?Math.max(s-r,o-s):0===e?(t.getPixelForTick(1)-s)/2:(s-t.getPixelForTick(a-1))/2,(s+=a<e?n:-n)<r-1e-6||o+1e-6<s)))return s}(this,E,y))!==undefined&&(A=qe(f,A,O),b?e=n=r=s=A:i=a=o=l=A,k.push({tx1:e,ty1:i,tx2:n,ty2:a,x1:r,y1:o,x2:s,y2:l,width:O,color:D,borderDash:T,borderDashOffset:P,tickWidth:R,tickColor:I,tickBorderDash:F,tickBorderDashOffset:C}))}return this._ticksLength=x,this._borderValue=u,k}},{key:"_computeLabelItems",value:function(t){for(var e,i,n,a,r,o=this.axis,s=this.options,l=s.position,u=s.ticks,c=this.isHorizontal(),h=this.ticks,d=u.align,f=u.crossAlign,p=u.padding,g=u.mirror,s=La(s.grid),v=s+p,p=g?-p:v,m=-j(this.labelRotation),y=[],b="middle",x=("top"===l?(a=this.bottom-p,i=this._getXAxisLabelAlignment()):"bottom"===l?(a=this.top+p,i=this._getXAxisLabelAlignment()):"left"===l?(i=(p=this._getYAxisLabelAlignment(s)).textAlign,n=p.x):"right"===l?(i=(p=this._getYAxisLabelAlignment(s)).textAlign,n=p.x):"x"===o?("center"===l?a=(t.top+t.bottom)/2+v:q(l)&&(r=l[p=Object.keys(l)[0]],a=this.chart.scales[p].getPixelForValue(r)+v),i=this._getXAxisLabelAlignment()):"y"===o&&("center"===l?n=(t.left+t.right)/2-v:q(l)&&(r=l[p=Object.keys(l)[0]],n=this.chart.scales[p].getPixelForValue(r)),i=this._getYAxisLabelAlignment(s).textAlign),"y"===o&&("start"===d?b="top":"end"===d&&(b="bottom")),this._getLabelSizes()),_=0,k=h.length;_<k;++_){var w,M,S=h[_].label,L=u.setContext(this.getContext(_)),E=this.getPixelForTick(_)+u.labelOffset,A=(w=this._resolveTickFontOptions(_)).lineHeight,P=(M=H(S)?S.length:1)/2,C=L.color,F=L.textStrokeColor,z=L.textStrokeWidth,O=i,P=(c?(n=E,"inner"===i&&(O=_===k-1?this.options.reverse?"left":"right":0===_?this.options.reverse?"right":"left":"center"),e="top"===l?"near"===f||0!=m?-M*A+A/2:"center"===f?-x.highest.height/2-P*A+A:-x.highest.height+A/2:"near"===f||0!=m?A/2:"center"===f?x.highest.height/2-P*A:x.highest.height-M*A,g&&(e*=-1),0==m||L.showLabelBackdrop||(n+=A/2*Math.sin(m))):(a=E,e=(1-M)*A/2),void 0);if(L.showLabelBackdrop){var E=N(L.backdropPadding),D=x.heights[_],T=x.widths[_],R=e-E.top,I=0-E.left;switch(b){case"middle":R-=D/2;break;case"bottom":R-=D}switch(i){case"center":I-=T/2;break;case"right":I-=T}P={left:I,top:R,width:T+E.width,height:D+E.height,color:L.backdropColor}}y.push({label:S,font:w,textOffset:e,options:{rotation:m,color:C,strokeColor:F,strokeWidth:z,textAlign:O,textBaseline:b,translation:[n,a],backdrop:P}})}return y}},{key:"_getXAxisLabelAlignment",value:function(){var t=this.options,e=t.position,t=t.ticks;return-j(this.labelRotation)?"top"===e?"left":"right":(e="center","start"===t.align?e="left":"end"===t.align?e="right":"inner"===t.align&&(e="inner"),e)}},{key:"_getYAxisLabelAlignment",value:function(t){var e,i,n=this.options,a=n.position,n=n.ticks,r=n.crossAlign,o=n.mirror,n=n.padding,s=t+n,l=this._getLabelSizes().widest.width;return"left"===a?o?(i=this.right+n,"near"===r?e="left":"center"===r?(e="center",i+=l/2):(e="right",i+=l)):(i=this.right-s,"near"===r?e="right":"center"===r?(e="center",i-=l/2):(e="left",i=this.left)):"right"===a?o?(i=this.left+n,"near"===r?e="right":"center"===r?(e="center",i-=l/2):(e="left",i-=l)):(i=this.left+s,"near"===r?e="left":"center"===r?(e="center",i+=l/2):(e="right",i=this.right)):e="right",{textAlign:e,x:i}}},{key:"_computeLabelArea",value:function(){var t,e;if(!this.options.ticks.mirror)return t=this.chart,"left"===(e=this.options.position)||"right"===e?{top:0,left:this.left,bottom:t.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:t.width}:void 0}},{key:"drawBackground",value:function(){var t=this.ctx,e=this.options.backgroundColor,i=this.left,n=this.top,a=this.width,r=this.height;e&&(t.save(),t.fillStyle=e,t.fillRect(i,n,a,r),t.restore())}},{key:"getLineWidthForValue",value:function(e){var t,i=this.options.grid;return this._isVisible()&&i.display&&0<=(t=this.ticks.findIndex(function(t){return t.value===e}))?i.setContext(this.getContext(t)).lineWidth:0}},{key:"drawGrid",value:function(t){var e,i,n=this.options.grid,a=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t)),o=function o(t,e,i){i.width&&i.color&&(a.save(),a.lineWidth=i.width,a.strokeStyle=i.color,a.setLineDash(i.borderDash||[]),a.lineDashOffset=i.borderDashOffset,a.beginPath(),a.moveTo(t.x,t.y),a.lineTo(e.x,e.y),a.stroke(),a.restore())};if(n.display)for(e=0,i=r.length;e<i;++e){var s=r[e];n.drawOnChartArea&&o({x:s.x1,y:s.y1},{x:s.x2,y:s.y2},s),n.drawTicks&&o({x:s.tx1,y:s.ty1},{x:s.tx2,y:s.ty2},{color:s.tickColor,width:s.tickWidth,borderDash:s.tickBorderDash,borderDashOffset:s.tickBorderDashOffset})}}},{key:"drawBorder",value:function ar(){var t,e,i,n,a,r=this.chart,o=this.ctx,s=this.options,l=s.border,s=s.grid,u=l.setContext(this.getContext()),l=l.display?u.width:0;l&&(s=s.setContext(this.getContext(0)).lineWidth,t=this._borderValue,this.isHorizontal()?(e=qe(r,this.left,l)-l/2,i=qe(r,this.right,s)+s/2,n=a=t):(n=qe(r,this.top,l)-l/2,a=qe(r,this.bottom,s)+s/2,e=i=t),o.save(),o.lineWidth=u.width,o.strokeStyle=u.color,o.beginPath(),o.moveTo(e,n),o.lineTo(i,a),o.stroke(),o.restore())}},{key:"drawLabels",value:function(t){if(this.options.ticks.display){var e=this.ctx,i=this._computeLabelArea();i&&We(e,i);var n,a=C(this.getLabelItems(t));try{for(a.s();!(n=a.n()).done;){var r=n.value,o=r.options,s=r.font;$e(e,r.label,0,r.textOffset,s,o)}}catch(l){a.e(l)}finally{a.f()}i&&Xe(e)}}},{key:"drawTitle",value:function(){var t,e,i,n,a,r,o,s,l,u,c,h,d,f,p,g,v,m,y=this.ctx,b=this.options,x=b.position,_=b.title,b=b.reverse;_.display&&(t=D(_.font),s=N(_.padding),e=_.align,l=t.lineHeight/2,"bottom"===x||"center"===x||q(x)?(l+=s.bottom,H(_.text)&&(l+=t.lineHeight*(_.text.length-1))):l+=s.top,v=l,i=x,n=e,s=(g=this).top,l=g.left,u=g.bottom,c=g.right,h=(m=g.chart).chartArea,m=m.scales,d=0,f=u-s,p=c-l,g.isHorizontal()?(o=A(n,l,c),r=q(i)?(a=i[r=Object.keys(i)[0]],m[r].getPixelForValue(a)+f-v):"center"===i?(h.bottom+h.top)/2+f-v:wa(g,i,v),a=c-l):(o=q(i)?(c=i[f=Object.keys(i)[0]],m[f].getPixelForValue(c)-p+v):"center"===i?(h.left+h.right)/2-p+v:wa(g,i,v),r=A(n,u,s),d="left"===i?-E:E),f=(l={titleX:o,titleY:r,maxWidth:a,rotation:d}).titleX,c=l.titleY,$e(y,_.text,0,0,t,{color:_.color,maxWidth:l.maxWidth,rotation:l.rotation,textAlign:(g=x,v=b,m=me(e),m=v&&"right"!==g||!v&&"right"===g?ka(m):m),textBaseline:"middle",translation:[f,c]}))}},{key:"draw",value:function(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}},{key:"_layers",value:function(){var e=this,t=this.options,i=t.ticks&&t.ticks.z||0,n=z(t.grid&&t.grid.z,-1),t=z(t.border&&t.border.z,0);return this._isVisible()&&this.draw===a.prototype.draw?[{z:n,draw:function(t){e.drawBackground(),e.drawGrid(t),e.drawTitle()}},{z:t,draw:function(){e.drawBorder()}},{z:i,draw:function(t){e.drawLabels(t)}}]:[{z:i,draw:function(t){e.draw(t)}}]}},{key:"getMatchingVisibleMetas",value:function(t){for(var e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",n=[],a=0,r=e.length;a<r;++a){var o=e[a];o[i]!==this.id||t&&o.type!==t||n.push(o)}return n}},{key:"_resolveTickFontOptions",value:function(t){return D(this.options.ticks.setContext(this.getContext(t)).font)}},{key:"_maxDigits",value:function(){var t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}]),a}(),Pa=function(){function n(t,e,i){d(this,n),this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}return o(n,[{key:"isForType",value:function(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}},{key:"register",value:function(t){var e,i=Object.getPrototypeOf(t),i=("id"in(r=i)&&"defaults"in r&&(e=this.register(i)),this.items),n=t.id,a=this.scope+"."+n;if(!n)throw new Error("class does not have id: "+t);if(!(n in i)){var r=i[n]=t,o=a,s=e,n=It(Object.create(null),[s?P.get(s):{},P.get(o),r.defaults]);if(P.set(o,n),r.defaultRoutes){var l=o;var u=r.defaultRoutes;Object.keys(u).forEach(function(t){var e=t.split("."),i=e.pop(),e=[l].concat(e).join("."),n=u[t].split("."),a=n.pop(),n=n.join(".");P.route(e,i,n,a)})}r.descriptors&&P.describe(o,r.descriptors),this.override&&P.override(t.id,t.overrides)}return a}},{key:"get",value:function(t){return this.items[t]}},{key:"unregister",value:function(t){var e=this.items,i=t.id,n=this.scope;i in e&&delete e[i],n&&i in P[n]&&(delete P[n][i],this.override)&&delete Re[i]}}]),n}();var x=new(function(){function t(){d(this,t),this.controllers=new Pa(i,"datasets",!0),this.elements=new Pa(e,"elements"),this.plugins=new Pa(Object,"plugins"),this.scales=new Pa(Aa,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}return o(t,[{key:"add",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this._each("register",e)}},{key:"remove",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this._each("unregister",e)}},{key:"addControllers",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this._each("register",e,this.controllers)}},{key:"addElements",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this._each("register",e,this.elements)}},{key:"addPlugins",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this._each("register",e,this.plugins)}},{key:"addScales",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this._each("register",e,this.scales)}},{key:"getController",value:function(t){return this._get(t,this.controllers,"controller")}},{key:"getElement",value:function(t){return this._get(t,this.elements,"element")}},{key:"getPlugin",value:function(t){return this._get(t,this.plugins,"plugin")}},{key:"getScale",value:function(t){return this._get(t,this.scales,"scale")}},{key:"removeControllers",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this._each("unregister",e,this.controllers)}},{key:"removeElements",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this._each("unregister",e,this.elements)}},{key:"removePlugins",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this._each("unregister",e,this.plugins)}},{key:"removeScales",value:function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];this._each("unregister",e,this.scales)}},{key:"_each",value:function(i,t,n){var a=this;p(t).forEach(function(t){var e=n||a._getRegistryForType(t);n||e.isForType(t)||e===a.plugins&&t.id?a._exec(i,e,t):S(t,function(t){var e=n||a._getRegistryForType(t);a._exec(i,e,t)})})}},{key:"_exec",value:function(t,e,i){var n=Vt(t);m(i["before"+n],[],i),e[t](i),m(i["after"+n],[],i)}},{key:"_getRegistryForType",value:function(t){for(var e=0;e<this._typedRegistries.length;e++){var i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}},{key:"_get",value:function f(t,e,i){var n=e.get(t);if(n===undefined)throw new Error('"'+t+'" is not a registered '+i+".");return n}}]),t}()),Ca=function(){function t(){d(this,t),this._init=[]}return o(t,[{key:"notify",value:function(t,e,i,n){"beforeInit"===e&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));var a=n?this._descriptors(t).filter(n):this._descriptors(t),r=this._notify(a,t,e,i);return"afterDestroy"===e&&(this._notify(a,t,"stop"),this._notify(this._init,t,"uninstall")),r}},{key:"_notify",value:function(t,e,i,n){n=n||{};var a,r=C(t);try{for(r.s();!(a=r.n()).done;){var o=a.value,s=o.plugin,l=s[i],u=[e,n,o.options];if(!1===m(l,u,s)&&n.cancelable)return!1}}catch(c){r.e(c)}finally{r.f()}return!0}},{key:"invalidate",value:function(){O(this._cache)||(this._oldCache=this._cache,this._cache=undefined)}},{key:"_descriptors",value:function oi(t){var e;return this._cache||(e=this._cache=this._createDescriptors(t),this._notifyStateChanges(t),e)}},{key:"_createDescriptors",value:function(t,e){var i=t&&t.config,n=z(i.options&&i.options.plugins,{}),i=function(t){for(var e={},i=[],n=Object.keys(x.plugins.items),a=0;a<n.length;a++)i.push(x.getPlugin(n[a]));for(var r=t.plugins||[],o=0;o<r.length;o++){var s=r[o];-1===i.indexOf(s)&&(i.push(s),e[s.id]=!0)}return{plugins:i,localIds:e}}(i);return!1!==n||e?Oa(t,i,n,e):[]}},{key:"_notifyStateChanges",value:function(t){var e=this._oldCache||[],i=this._cache,n=function n(t,i){return t.filter(function(e){return!i.some(function(t){return e.plugin.id===t.plugin.id})})};this._notify(n(e,i),t,"stop"),this._notify(n(i,e),t,"start")}}]),t}();function Oa(t,e,i,n){var a,r,o=e.plugins,s=e.localIds,l=[],u=t.getContext(),c=C(o);try{for(c.s();!(a=c.n()).done;){var h=a.value,d=h.id,f=(r=i[d],n||!1!==r?!0===r?{}:r:null);null!==f&&l.push({plugin:h,options:function(t,e,i,n){var a=e.plugin,r=e.local,o=t.pluginScopeKeys(a),o=t.getOptionScopes(i,o);r&&a.defaults&&o.push(a.defaults);return t.createResolver(o,n,[""],{scriptable:!1,indexable:!1,allKeys:!0})}(t.config,{plugin:h,local:s[d]},f,u)})}}catch(p){c.e(p)}finally{c.f()}return l}function Da(t,e){var i=P.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||i.indexAxis||"x"}function Ta(t,e){if("x"===t||"y"===t||"r"===t)return t;var i;if(t=e.axis||("top"===(i=e.position)||"bottom"===i?"x":"left"===i||"right"===i?"y":void 0)||1<t.length&&Ta(t[0].toLowerCase(),e))return t;throw new Error("Cannot determine type of '".concat(name,"' axis. Please provide 'axis' or 'position' option."))}function Ra(e,i){var r=Re[e.type]||{scales:{}},l=i.scales||{},o=Da(e.type,i),u=Object.create(null);return Object.keys(l).forEach(function(t){var e,i,n,a=l[t];return q(a)?a._proxy?console.warn("Ignoring resolver passed as options for scale: ".concat(t)):(i=(e=Ta(t,a))===o?"_index_":"_value_",n=r.scales||{},void(u[t]=Ft(Object.create(null),[{axis:e},a,n[e],n[i]]))):console.error("Invalid scale configuration for scale: ".concat(t))}),e.data.datasets.forEach(function(r){var t=r.type||e.type,o=r.indexAxis||Da(t,i),s=(Re[t]||{}).scales||{};Object.keys(s).forEach(function(t){i=o,"_index_"===(n=e=t)?n=i:"_value_"===e&&(n="x"===i?"y":"x");var e,i,n,a=r[n+"AxisID"]||n;u[a]=u[a]||Object.create(null),Ft(u[a],[{axis:n},l[a],s[t]])})}),Object.keys(u).forEach(function(t){var e=u[t];Ft(e,[P.scales[e.type],P.scale])}),u}function Ia(t){var e=t.options||(t.options={});e.plugins=z(e.plugins,{}),e.scales=Ra(t,e)}function Fa(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}var za=new Map,Ha=new Set;function qa(t,e){var i=za.get(t);return i||(i=e(),za.set(t,i),Ha.add(i)),i}var ja=function ja(t,e,i){var n=Nt(e,i);n!==undefined&&t.add(n)},Na=function(){function e(t){d(this,e),this._config=((t=(t=t)||{}).data=Fa(t.data),Ia(t),t),this._scopeCache=new Map,this._resolverCache=new Map}return o(e,[{key:"platform",get:function(){return this._config.platform}},{key:"type",get:function(){return this._config.type},set:function(t){this._config.type=t}},{key:"data",get:function(){return this._config.data},set:function(t){this._config.data=Fa(t)}},{key:"options",get:function(){return this._config.options},set:function(t){this._config.options=t}},{key:"plugins",get:function(){return this._config.plugins}},{key:"update",value:function(){var t=this._config;this.clearCache(),Ia(t)}},{key:"clearCache",value:function(){this._scopeCache.clear(),this._resolverCache.clear()}},{key:"datasetScopeKeys",value:function(t){return qa(t,function(){return[["datasets.".concat(t),""]]})}},{key:"datasetAnimationScopeKeys",value:function(t,e){return qa("".concat(t,".transition.").concat(e),function(){return[["datasets.".concat(t,".transitions.").concat(e),"transitions.".concat(e)],["datasets.".concat(t),""]]})}},{key:"datasetElementScopeKeys",value:function(t,e){return qa("".concat(t,"-").concat(e),function(){return[["datasets.".concat(t,".elements.").concat(e),"datasets.".concat(t),"elements.".concat(e),""]]})}},{key:"pluginScopeKeys",value:function(t){var e=t.id,i=this.type;return qa("".concat(i,"-plugin-").concat(e),function(){return[["plugins.".concat(e)].concat(p(t.additionalOptionScopes||[]))]})}},{key:"_cachedScopes",value:function(t,e){var i=this._scopeCache,n=i.get(t);return n&&!e||(n=new Map,i.set(t,n)),n}},{key:"getOptionScopes",value:function(e,t,i){var n,a=this.options,r=this.type,o=this._cachedScopes(e,i),s=o.get(t);return s||(n=new Set,t.forEach(function(t){e&&(n.add(e),t.forEach(function(t){return ja(n,e,t)})),t.forEach(function(t){return ja(n,a,t)}),t.forEach(function(t){return ja(n,Re[r]||{},t)}),t.forEach(function(t){return ja(n,P,t)}),t.forEach(function(t){return ja(n,Ie,t)})}),0===(s=Array.from(n)).length&&s.push(Object.create(null)),Ha.has(t)&&o.set(t,s),s)}},{key:"chartOptionScopes",value:function(){var t=this.options,e=this.type;return[t,Re[e]||{},P.datasets[e]||{},{type:e},P,Ie]}},{key:"resolveNamedOptions",value:function(t,e,i){var n,a=3<arguments.length&&arguments[3]!==undefined?arguments[3]:[""],r={$shared:!0},a=Va(this._resolverCache,t,a),o=a.resolver,a=a.subPrefixes,s=o,l=(Wa(o,e)&&(r.$shared=!1,s=ri(o,i=Bt(i)?i():i,this.createResolver(t,i,a))),C(e));try{for(l.s();!(n=l.n()).done;){var u=n.value;r[u]=s[u]}}catch(c){l.e(c)}finally{l.f()}return r}},{key:"createResolver",value:function(t,e){var i=2<arguments.length&&arguments[2]!==undefined?arguments[2]:[""],n=3<arguments.length?arguments[3]:undefined,i=Va(this._resolverCache,t,i).resolver;return q(e)?ri(i,e,undefined,n):i}}]),e}();function Va(t,e,i){var n=t.get(e),a=(n||(n=new Map,t.set(e,n)),i.join()),r=n.get(a);return r||(r={resolver:ai(e,i),subPrefixes:i.filter(function(t){return!t.toLowerCase().includes("hover")})},n.set(a,r)),r}var Ba=function Ba(i){return q(i)&&Object.getOwnPropertyNames(i).reduce(function(t,e){return t||Bt(i[e])},!1)};function Wa(t,e){var i,n=oi(t),a=n.isScriptable,r=n.isIndexable,o=C(e);try{for(o.s();!(i=o.n()).done;){var s=i.value,l=a(s),u=r(s),c=(u||l)&&t[s];if(l&&(Bt(c)||Ba(c))||u&&H(c))return 1}}catch(h){o.e(h)}finally{o.f()}}var Xa=["top","bottom","left","right","chartArea"];function Ua(t,e){return"top"===t||"bottom"===t||-1===Xa.indexOf(t)&&"x"===e}function Ya(i,n){return function(t,e){return t[i]===e[i]?t[n]-e[n]:t[i]-e[i]}}function $a(t){var e=t.chart,i=e.options.animation;e.notifyPlugins("afterRender"),m(i&&i.onComplete,[t],e)}function Ka(t){var e=t.chart,i=e.options.animation;m(i&&i.onProgress,[t],e)}function Ja(t){return Ei()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t=t&&t.canvas?t.canvas:t}var Ga={},Za=function Za(t){var e=Ja(t);return Object.values(Ga).filter(function(t){return t.canvas===e}).pop()};var Qa=function(){function h(t,e){var i=this,n=(d(this,h),this.config=new Na(e)),a=Ja(t),r=Za(a);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");var o,s,l,r=n.createResolver(n.chartOptionScopes(),this.getContext()),n=(this.platform=new(n.platform||ba(a)),this.platform.updateConfig(n),this.platform.acquireContext(a,r.aspectRatio)),a=n&&n.canvas,u=a&&a.height,c=a&&a.width;this.id=At(),this.ctx=n,this.canvas=a,this.width=c,this.height=u,this._options=r,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=undefined,this.boxes=[],this.currentDevicePixelRatio=undefined,this.chartArea=undefined,this._active=[],this._lastEvent=undefined,this._listeners={},this._responsiveListeners=undefined,this._sortedMetasets=[],this.scales={},this._plugins=new Ca,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=undefined,this.$context=undefined,this._doResize=(o=function(t){return i.update(t)},s=r.resizeDelay||0,function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return s?(clearTimeout(l),l=setTimeout(o,s,e)):o.apply(this,e),s}),this._dataChanges=[],Ga[this.id]=this,n&&a?(an.listen(this,"complete",$a),an.listen(this,"progress",Ka),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}return o(h,[{key:"aspectRatio",get:function(){var t=this.options,e=t.aspectRatio,t=t.maintainAspectRatio,i=this.width,n=this.height,a=this._aspectRatio;return O(e)?t&&a?a:n?i/n:null:e}},{key:"data",get:function(){return this.config.data},set:function(t){this.config.data=t}},{key:"options",get:function(){return this._options},set:function(t){this.config.options=t}},{key:"registry",get:function(){return x}},{key:"_initialize",value:function(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Hi(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}},{key:"clear",value:function(){return je(this.canvas,this.ctx),this}},{key:"stop",value:function(){return an.stop(this),this}},{key:"resize",value:function(t,e){an.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}},{key:"_resize",value:function(t,e){var i=this.options,n=this.canvas,a=i.maintainAspectRatio&&this.aspectRatio,n=this.platform.getMaximumSize(n,t,e,a),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),r=this.width?"resize":"attach";this.width=n.width,this.height=n.height,this._aspectRatio=this.aspectRatio,Hi(this,a,!0)&&(this.notifyPlugins("resize",{size:n}),m(i.onResize,[this,n],this),this.attached)&&this._doResize(r)&&this.render()}},{key:"ensureScalesHaveIDs",value:function(){S(this.options.scales||{},function(t,e){t.id=e})}},{key:"buildOrUpdateScales",value:function(){var r=this,o=this.options,a=o.scales,s=this.scales,l=Object.keys(s).reduce(function(t,e){return t[e]=!1,t},{}),t=[];S(t=a?t.concat(Object.keys(a).map(function(t){var e=a[t],i=Ta(t,e),n="r"===i,i="x"===i;return{options:e,dposition:n?"chartArea":i?"bottom":"left",dtype:n?"radialLinear":i?"category":"linear"}})):t,function(t){var e=t.options,i=e.id,n=Ta(i,e),a=z(e.type,t.dtype),n=(e.position!==undefined&&Ua(e.position,n)===Ua(t.dposition)||(e.position=t.dposition),l[i]=!0,null);i in s&&s[i].type===a?n=s[i]:(n=new(x.getScale(a))({id:i,type:a,ctx:r.ctx,chart:r}),s[n.id]=n),n.init(e,o)}),S(l,function(t,e){t||delete s[e]}),S(s,function(t){u.configure(r,t,t.options),u.addBox(r,t)})}},{key:"_updateMetasets",value:function(){var t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort(function(t,e){return t.index-e.index}),e<i){for(var n=e;n<i;++n)this._destroyDatasetMeta(n);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(Ya("order","index"))}},{key:"_removeUnreferencedMetasets",value:function(){var i=this,t=this._metasets,n=this.data.datasets;t.length>n.length&&delete this._stacks,t.forEach(function(e,t){0===n.filter(function(t){return t===e._dataset}).length&&i._destroyDatasetMeta(t)})}},{key:"buildOrUpdateControllers",value:function(){var t,e,i=[],n=this.data.datasets;for(this._removeUnreferencedMetasets(),t=0,e=n.length;t<e;t++){var a,r=n[t],o=this.getDatasetMeta(t),s=r.type||this.config.type;o.type&&o.type!==s&&(this._destroyDatasetMeta(t),o=this.getDatasetMeta(t)),o.type=s,o.indexAxis=r.indexAxis||Da(s,this.options),o.order=r.order||0,o.index=t,o.label=""+r.label,o.visible=this.isDatasetVisible(t),o.controller?(o.controller.updateIndex(t),o.controller.linkScales()):(r=x.getController(s),a=(s=P.datasets[s]).datasetElementType,s=s.dataElementType,Object.assign(r,{dataElementType:x.getElement(s),datasetElementType:a&&x.getElement(a)}),o.controller=new r(this,t),i.push(o.controller))}return this._updateMetasets(),i}},{key:"_resetElements",value:function(){var i=this;S(this.data.datasets,function(t,e){i.getDatasetMeta(e).controller.reset()},this)}},{key:"reset",value:function(){this._resetElements(),this.notifyPlugins("reset")}},{key:"update",value:function(t){var e=this.config,e=(e.update(),this._options=e.createResolver(e.chartOptionScopes(),this.getContext())),i=this._animationsDisabled=!e.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1!==this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})){for(var n=this.buildOrUpdateControllers(),a=(this.notifyPlugins("beforeElementsUpdate"),0),r=0,o=this.data.datasets.length;r<o;r++){var s=this.getDatasetMeta(r).controller,l=!i&&-1===n.indexOf(s);s.buildOrUpdateElements(l),a=Math.max(+s.getMaxOverflow(),a)}a=this._minPadding=e.layout.autoPadding?a:0,this._updateLayout(a),i||S(n,function(t){t.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Ya("z","_idx"));var e=this._active,u=this._lastEvent;u?this._eventHandler(u,!0):e.length&&this._updateHoverStyles(e,e,!0),this.render()}}},{key:"_updateScales",value:function(){var e=this;S(this.scales,function(t){u.removeBox(e,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}},{key:"_checkEventBindings",value:function(){var t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);Wt(e,i)&&!!this._responsiveListeners===t.responsive||(this.unbindEvents(),this.bindEvents())}},{key:"_updateHiddenIndices",value:function(){var t,e=this._hiddenIndices,i=C(this._getUniformDataChanges()||[]);try{for(i.s();!(t=i.n()).done;)for(var n=t.value,a=n.method,r=n.start,o=n.count,s=(d=p=f=h=c=u=l=s=void 0,e),l=r,u="_removeElements"===a?-o:o,c=0,h=Object.keys(s);c<h.length;c++){var d,f=h[c],p=+f;l<=p&&(d=s[f],delete s[f],0<u||l<p)&&(s[p+u]=d)}}catch(g){i.e(g)}finally{i.f()}}},{key:"_getUniformDataChanges",value:function(){var t=this._dataChanges;if(t&&t.length){this._dataChanges=[];for(var i,e=this.data.datasets.length,n=(i=function i(e){return new Set(t.filter(function(t){return t[0]===e}).map(function(t,e){return e+","+t.splice(1).join(",")}))})(0),a=1;a<e;a++)if(!Wt(n,i(a)))return;return Array.from(n).map(function(t){return t.split(",")}).map(function(t){return{method:t[1],start:+t[2],count:+t[3]}})}}},{key:"_updateLayout",value:function(t){var e,i,n=this;!1!==this.notifyPlugins("beforeLayout",{cancelable:!0})&&(u.update(this,this.width,this.height,t),e=this.chartArea,i=e.width<=0||e.height<=0,this._layers=[],S(this.boxes,function(t){var e;i&&"chartArea"===t.position||(t.configure&&t.configure(),(e=n._layers).push.apply(e,p(t._layers())))},this),this._layers.forEach(function(t,e){t._idx=e}),this.notifyPlugins("afterLayout"))}},{key:"_updateDatasets",value:function(t){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})){for(var e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(var n=0,a=this.data.datasets.length;n<a;++n)this._updateDataset(n,Bt(t)?t({datasetIndex:n}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}},{key:"_updateDataset",value:function(t,e){var i=this.getDatasetMeta(t),n={meta:i,index:t,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",n)&&(i.controller._update(e),n.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",n))}},{key:"render",value:function(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(an.has(this)?this.attached&&!an.running(this)&&an.start(this):(this.draw(),$a({chart:this})))}},{key:"draw",value:function(){var t,e;if(this._resizeBeforeDraw&&(t=(e=this._resizeBeforeDraw).width,e=e.height,this._resize(t,e),this._resizeBeforeDraw=null),this.clear(),!(this.width<=0||this.height<=0)&&!1!==this.notifyPlugins("beforeDraw",{cancelable:!0})){for(var i=this._layers,n=0;n<i.length&&i[n].z<=0;++n)i[n].draw(this.chartArea);for(this._drawDatasets();n<i.length;++n)i[n].draw(this.chartArea);this.notifyPlugins("afterDraw")}}},{key:"_getSortedDatasetMetas",value:function(t){for(var e=this._sortedMetasets,i=[],n=0,a=e.length;n<a;++n){var r=e[n];t&&!r.visible||i.push(r)}return i}},{key:"getSortedVisibleDatasetMetas",value:function(){return this._getSortedDatasetMetas(!0)}},{key:"_drawDatasets",value:function(){if(!1!==this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})){for(var t=this.getSortedVisibleDatasetMetas(),e=t.length-1;0<=e;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}}},{key:"_drawDataset",value:function(t){var e=this.ctx,i=t._clip,n=!i.disabled,a=function(t){var e=t.xScale,i=t.yScale;if(e&&i)return{left:e.left,right:e.right,top:i.top,bottom:i.bottom}}(t)||this.chartArea,r={meta:t,index:t.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",r)&&(n&&We(e,{left:!1===i.left?0:a.left-i.left,right:!1===i.right?this.width:a.right+i.right,top:!1===i.top?0:a.top-i.top,bottom:!1===i.bottom?this.height:a.bottom+i.bottom}),t.controller.draw(),n&&Xe(e),r.cancelable=!1,this.notifyPlugins("afterDatasetDraw",r))}},{key:"isPointInArea",value:function(t){return Be(t,this.chartArea,this._minPadding)}},{key:"getElementsAtEventForMode",value:function(t,e,i,n){var a=Wn.modes[e];return"function"==typeof a?a(this,t,i,n):[]}},{key:"getDatasetMeta",value:function(t){var e=this.data.datasets[t],i=this._metasets,n=i.filter(function(t){return t&&t._dataset===e}).pop();return n||(n={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(n)),n}},{key:"getContext",value:function(){return this.$context||(this.$context=ni(null,{chart:this,type:"chart"}))}},{key:"getVisibleDatasetCount",value:function(){return this.getSortedVisibleDatasetMetas().length}},{key:"isDatasetVisible",value:function(t){var e,i=this.data.datasets[t];return!!i&&("boolean"==typeof(e=this.getDatasetMeta(t)).hidden?!e.hidden:!i.hidden)}},{key:"setDatasetVisibility",value:function(t,e){this.getDatasetMeta(t).hidden=!e}},{key:"toggleDataVisibility",value:function(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}},{key:"getDataVisibility",value:function(t){return!this._hiddenIndices[t]}},{key:"_updateVisibility",value:function(e,t,i){var n=i?"show":"hide",a=this.getDatasetMeta(e),r=a.controller._resolveAnimations(undefined,n);y(t)?(a.data[t].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),r.update(a,{visible:i}),this.update(function(t){return t.datasetIndex===e?n:undefined}))}},{key:"hide",value:function(t,e){this._updateVisibility(t,e,!1)}},{key:"show",value:function(t,e){this._updateVisibility(t,e,!0)}},{key:"_destroyDatasetMeta",value:function(t){var e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}},{key:"_stop",value:function(){var t,e;for(this.stop(),an.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}},{key:"destroy",value:function(){this.notifyPlugins("beforeDestroy");var t=this.canvas,e=this.ctx;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),je(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Ga[this.id],this.notifyPlugins("afterDestroy")}},{key:"toBase64Image",value:function(){var t;return(t=this.canvas).toDataURL.apply(t,arguments)}},{key:"bindEvents",value:function(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}},{key:"bindUserEvents",value:function(){var n=this,i=this._listeners,a=this.platform,r=function r(t,e){a.addEventListener(n,t,e),i[t]=e},o=function o(t,e,i){t.offsetX=e,t.offsetY=i,n._eventHandler(t)};S(this.options.events,function(t){return r(t,o)})}},{key:"bindResponsiveEvents",value:function(){var t,i=this,n=(this._responsiveListeners||(this._responsiveListeners={}),this._responsiveListeners),a=this.platform,r=function r(t,e){a.addEventListener(i,t,e),n[t]=e},o=function o(t,e){n[t]&&(a.removeEventListener(i,t,e),delete n[t])},s=function s(t,e){i.canvas&&i.resize(t,e)},e=function e(){o("attach",e),i.attached=!0,i.resize(),r("resize",s),r("detach",t)};t=function t(){i.attached=!1,o("resize",s),i._stop(),i._resize(0,0),r("attach",e)},(a.isAttached(this.canvas)?e:t)()}},{key:"unbindEvents",value:function(){var i=this;S(this._listeners,function(t,e){i.platform.removeEventListener(i,e,t)}),this._listeners={},S(this._responsiveListeners,function(t,e){i.platform.removeEventListener(i,e,t)}),this._responsiveListeners=undefined}},{key:"updateHoverStyle",value:function(t,e,i){var n,a,r=i?"set":"remove";for("dataset"===e&&this.getDatasetMeta(t[0].datasetIndex).controller["_"+r+"DatasetHoverStyle"](),n=0,a=t.length;n<a;++n){var o,s=(o=t[n])&&this.getDatasetMeta(o.datasetIndex).controller;s&&s[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}},{key:"getActiveElements",value:function(){return this._active||[]}},{key:"setActiveElements",value:function(t){var a=this,e=this._active||[],i=t.map(function(t){var e=t.datasetIndex,i=t.index,n=a.getDatasetMeta(e);if(n)return{datasetIndex:e,element:n.data[i],index:i};throw new Error("No dataset found at index "+e)});Ot(i,e)||(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}},{key:"notifyPlugins",value:function(t,e,i){return this._plugins.notify(this,t,e,i)}},{key:"isPluginEnabled",value:function(e){return 1===this._plugins._cache.filter(function(t){return t.plugin.id===e}).length}},{key:"_updateHoverStyles",value:function(t,e,i){var n,a=this.options.hover,r=(n=function n(t,i){return t.filter(function(e){return!i.some(function(t){return e.datasetIndex===t.datasetIndex&&e.index===t.index})})})(e,t),o=i?t:n(t,e);r.length&&this.updateHoverStyle(r,a.mode,!1),o.length&&a.mode&&this.updateHoverStyle(o,a.mode,!0)}},{key:"_eventHandler",value:function(e,t){var i,n=this,a={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=function r(t){return(t.options.events||n.options.events).includes(e["native"].type)};if(!1!==this.notifyPlugins("beforeEvent",a,r))return i=this._handleEvent(e,t,a.inChartArea),a.cancelable=!1,this.notifyPlugins("afterEvent",a,r),(i||a.changed)&&this.render(),this}},{key:"_handleEvent",value:function(t,e,i){var n,a,r,o=this._active,o=void 0===o?[]:o,s=this.options,l=this._getActiveElements(t,o,i,e),u="mouseup"===(n=t).type||"click"===n.type||"contextmenu"===n.type,c=(n=t,a=this._lastEvent,r=u,i&&"mouseout"!==n.type?r?a:n:null),u=(i&&(this._lastEvent=null,m(s.onHover,[t,l,this],this),u)&&m(s.onClick,[t,l,this],this),!Ot(l,o));return(u||e)&&(this._active=l,this._updateHoverStyles(l,o,e)),this._lastEvent=c,u}},{key:"_getActiveElements",value:function(t,e,i,n){var a;return"mouseout"===t.type?[]:i?(a=this.options.hover,this.getElementsAtEventForMode(t,a.mode,a,n)):e}}],[{key:"register",value:function(){x.add.apply(x,arguments),tr()}},{key:"unregister",value:function(){x.remove.apply(x,arguments),tr()}}]),h}();function tr(){S(Qa.instances,function(t){return t._plugins.invalidate()})}function er(t,e,i,n){var a,r=Qe(t.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]),o=(i-e)/2,s=Math.min(o,n*e/2);return{outerStart:(a=function a(t){var e=(i-Math.min(o,t))*n/2;return b(t,0,Math.min(o,e))})(r.outerStart),outerEnd:a(r.outerEnd),innerStart:b(r.innerStart,0,s),innerEnd:b(r.innerEnd,0,s)}}function ir(t,e,i,n){return{x:i+t*Math.cos(e),y:n+t*Math.sin(e)}}function nr(t,e,i,n,a,r){var o=e.x,s=e.y,l=e.startAngle,u=e.pixelMargin,c=e.innerRadius,h=Math.max(e.outerRadius+n+i-u,0),u=0<c?c+n+i+u:0,d=0,f=a-l;n&&(d=(f-(0!=(c=((0<c?c-n:0)+(0<h?h-n:0))/2)?f*c/(c+n):f))/2);var p,c=(f-Math.max(.001,f*h-i/L)/h)/2,f=l+c+d,l=a-c-d,c=er(e,u,h,l-f),d=c.outerStart,g=c.outerEnd,v=c.innerStart,c=c.innerEnd,m=h-d,y=h-g,b=f+d/m,x=l-g/y,_=u+v,k=u+c,w=f+v/_,M=l-c/k;t.beginPath(),r?(t.arc(o,s,h,b,p=(b+x)/2),t.arc(o,s,h,p,x),0<g&&(p=ir(y,x,o,s),t.arc(p.x,p.y,g,x,l+E)),y=ir(k,l,o,s),t.lineTo(y.x,y.y),0<c&&(p=ir(k,M,o,s),t.arc(p.x,p.y,c,l+E,M+Math.PI)),t.arc(o,s,u,l-c/u,g=(l-c/u+(f+v/u))/2,!0),t.arc(o,s,u,g,f+v/u,!0),0<v&&(y=ir(_,w,o,s),t.arc(y.x,y.y,v,w+Math.PI,f-E)),k=ir(m,f,o,s),t.lineTo(k.x,k.y),0<d&&(p=ir(m,b,o,s),t.arc(p.x,p.y,d,f-E,b))):(t.moveTo(o,s),M=Math.cos(b)*h+o,l=Math.sin(b)*h+s,t.lineTo(M,l),c=Math.cos(x)*h+o,g=Math.sin(x)*h+s,t.lineTo(c,g)),t.closePath()}function ar(t,e,i,n,a){var r=e.fullCircles,o=e.startAngle,s=e.circumference,l=e.options,u=l.borderWidth,c=l.borderJoinStyle,l="inner"===l.borderAlign;if(u){l?(t.lineWidth=2*u,t.lineJoin=c||"round"):(t.lineWidth=u,t.lineJoin=c||"bevel");var h,d,f,p,g,u=e.endAngle;if(r){nr(t,e,i,n,u,a);for(var v=0;v<r;++v)t.stroke();isNaN(s)||(u=o+(s%M||M))}l&&(h=t,d=u,c=e.startAngle,o=e.pixelMargin,s=e.x,l=e.y,f=e.outerRadius,p=e.innerRadius,g=o/f,h.beginPath(),h.arc(s,l,f,c-g,d+g),o<p?h.arc(s,l,p,d+(g=o/p),c-g,!0):h.arc(s,l,o,d+E,c-E),h.closePath(),h.clip()),r||(nr(t,e,i,n,u,a),t.stroke())}}_(Qa,"defaults",P),_(Qa,"instances",Ga),_(Qa,"overrides",Re),_(Qa,"registry",x),_(Qa,"version","4.2.1"),_(Qa,"getChart",Za);qi=function(){l(n,e);var i=h(n);function n(t){var e;return d(this,n),(e=i.call(this)).options=undefined,e.circumference=undefined,e.startAngle=undefined,e.endAngle=undefined,e.innerRadius=undefined,e.outerRadius=undefined,e.pixelMargin=0,e.fullCircles=0,t&&Object.assign(V(e),t),e}return o(n,[{key:"inRange",value:function(t,e,i){var n=ae(this.getProps(["x","y"],i),{x:t,y:e}),a=n.angle,n=n.distance,r=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],i),o=r.startAngle,s=r.endAngle,l=r.innerRadius,u=r.outerRadius,r=r.circumference,c=this.options.spacing/2,r=z(r,s-o),r=M<=r||se(a,o,s),a=le(n,l+c,u+c);return r&&a}},{key:"getCenterPoint",value:function(t){var e=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],t),i=e.x,n=e.y,a=e.startAngle,r=e.endAngle,o=e.innerRadius,e=e.outerRadius,s=this.options,l=s.offset,a=(a+r)/2,r=(o+e+s.spacing+l)/2;return{x:i+Math.cos(a)*r,y:n+Math.sin(a)*r}}},{key:"tooltipPosition",value:function(t){return this.getCenterPoint(t)}},{key:"draw",value:function(t){var e=this.options,i=this.circumference,n=(e.offset||0)/4,a=(e.spacing||0)/2,r=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=M<i?Math.floor(i/M):0,!(0===i||this.innerRadius<0||this.outerRadius<0)){t.save();var o=(this.startAngle+this.endAngle)/2;t.translate(Math.cos(o)*n,Math.sin(o)*n);var o=n*(1-Math.sin(Math.min(L,i||0))),s=(t.fillStyle=e.backgroundColor,t.strokeStyle=e.borderColor,t),l=this,u=o,c=a,h=r,d=l.fullCircles,n=l.startAngle,i=l.circumference,e=l.endAngle;if(d){nr(s,l,u,c,e,h);for(var f=0;f<d;++f)s.fill();isNaN(i)||(e=n+(i%M||M))}nr(s,l,u,c,e,h),s.fill(),ar(t,this,o,a,r),t.restore()}}}]),n}();function rr(t,e,i){var n=2<arguments.length&&i!==undefined?i:e;t.lineCap=z(n.borderCapStyle,e.borderCapStyle),t.setLineDash(z(n.borderDash,e.borderDash)),t.lineDashOffset=z(n.borderDashOffset,e.borderDashOffset),t.lineJoin=z(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=z(n.borderWidth,e.borderWidth),t.strokeStyle=z(n.borderColor,e.borderColor)}function or(t,e,i){t.lineTo(i.x,i.y)}function sr(t,e,i){var n=2<arguments.length&&i!==undefined?i:{},a=t.length,r=n.start,r=void 0===r?0:r,n=n.end,n=void 0===n?a-1:n,o=e.start,s=e.end,l=Math.max(r,o),u=Math.min(n,s);return{count:a,start:l,loop:e.loop,ilen:u<l&&!(r<o&&n<o||s<r&&s<n)?a+u-l:u-l}}function lr(t,e,i,n){for(var a,r,o=e.points,s=e.options,l=sr(o,i,n),u=l.count,c=l.start,h=l.loop,d=l.ilen,f=(e=s).stepped?Ue:e.tension||"monotone"===e.cubicInterpolationMode?Ye:or,l=n||{},p=l.move,g=void 0===p||p,v=l.reverse,m=0;m<=d;++m)(a=o[(c+(v?d-m:m))%u]).skip||(g?(t.moveTo(a.x,a.y),g=!1):f(t,r,a,v,s.stepped),r=a);return h&&f(t,r,a=o[(c+(v?d:0))%u],v,s.stepped),!!h}function ur(t,e,i,n){var a,r,o,s,l,u,c,h,d,f=e.points,p=sr(f,i,n),g=p.count,v=p.start,m=p.ilen,p=n||{},y=p.move,b=p.reverse,x=0,_=0,k=function k(t){return(v+(b?m-t:t))%g},w=function w(){o!==s&&(t.lineTo(x,s),t.lineTo(x,o),t.lineTo(x,l))};for((void 0===y||y)&&(d=f[k(0)],t.moveTo(d.x,d.y)),a=0;a<=m;++a)(d=f[k(a)]).skip||(u=d.x,c=d.y,(h=0|u)===r?(c<o?o=c:s<c&&(s=c),x=(_*x+u)/++_):(w(),t.lineTo(u,c),r=h,_=0,o=s=c),l=c);w()}function cr(t){var e=t.options,i=e.borderDash&&e.borderDash.length;return!(t._decimated||t._loop||e.tension||"monotone"===e.cubicInterpolationMode||e.stepped||i)?ur:lr}function hr(t,e,i,n){var a,r=e.segments,o=e.options,s=cr(e),l=C(r);try{for(l.s();!(a=l.n()).done;){var u=a.value;rr(t,o,u.style),t.beginPath(),s(t,e,u,{start:i,end:i+n-1})&&t.closePath(),t.stroke()}}catch(c){l.e(c)}finally{l.f()}}_(qi,"id","arc"),_(qi,"defaults",{borderAlign:"center",borderColor:"#fff",borderJoinStyle:undefined,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:undefined,circular:!0}),_(qi,"defaultRoutes",{backgroundColor:"backgroundColor"});var dr="function"==typeof Path2D;function fr(t,e,i,n){var a,r,o,s,l;dr&&!e.options.segment?(a=t,o=i,s=n,(l=(r=e)._path)||(l=r._path=new Path2D,r.path(l,o,s)&&l.closePath()),rr(a,r.options),a.stroke(l)):hr(t,e,i,n)}var pr=function(){l(n,e);var i=h(n);function n(t){var e;return d(this,n),(e=i.call(this)).animated=!0,e.options=undefined,e._chart=undefined,e._loop=undefined,e._fullLoop=undefined,e._path=undefined,e._points=undefined,e._segments=undefined,e._decimated=!1,e._pointsUpdated=!1,e._datasetIndex=undefined,t&&Object.assign(V(e),t),e}return o(n,[{key:"updateControlPoints",value:function(t,e){var i,n=this.options;!n.tension&&"monotone"!==n.cubicInterpolationMode||n.stepped||this._pointsUpdated||(i=n.spanGaps?this._loop:this._fullLoop,Li(this._points,n,t,i,e),this._pointsUpdated=!0)}},{key:"points",get:function(){return this._points},set:function(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}},{key:"segments",get:function(){return this._segments||(this._segments=Qi(this,this.options.segment))}},{key:"first",value:function(){var t=this.segments,e=this.points;return t.length&&e[t[0].start]}},{key:"last",value:function(){var t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}},{key:"interpolate",value:function Uo(t,e){var i=this.options,n=t[e],a=this.points,r=Zi(this,{property:e,start:n,end:n});if(r.length){for(var o,s=[],l=(o=i).stepped?Vi:o.tension||"monotone"===o.cubicInterpolationMode?Bi:Ni,u=0,c=r.length;u<c;++u){var h=r[u],d=h.start,h=h.end,d=a[d],h=a[h];d===h?s.push(d):((h=l(d,h,Math.abs((n-d[e])/(h[e]-d[e])),i.stepped))[e]=t[e],s.push(h))}return 1===s.length?s[0]:s}}},{key:"pathSegment",value:function lr(t,e,i){return cr(this)(t,this,e,i)}},{key:"path",value:function(t,e,i){var n,a=this.segments,r=cr(this),o=this._loop,s=(e=e||0,i=i||this.points.length-e,C(a));try{for(s.s();!(n=s.n()).done;)o&=r(t,this,n.value,{start:e,end:e+i-1})}catch(l){s.e(l)}finally{s.f()}return!!o}},{key:"draw",value:function(t,e,i,n){var a=this.options||{};(this.points||[]).length&&a.borderWidth&&(t.save(),fr(t,this,i,n),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=undefined)}}]),n}();function gr(t,e,i,n){var a=t.options,r=t.getProps([i],n)[i];return Math.abs(e-r)<a.radius+a.hitRadius}_(pr,"id","line"),_(pr,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),_(pr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),_(pr,"descriptors",{_scriptable:!0,_indexable:function(t){return"borderDash"!==t&&"fill"!==t}});var vr=function(){l(n,e);var i=h(n);function n(t){var e;return d(this,n),(e=i.call(this)).options=undefined,e.parsed=undefined,e.skip=undefined,e.stop=undefined,t&&Object.assign(V(e),t),e}return o(n,[{key:"inRange",value:function(t,e,i){var n=this.options,a=this.getProps(["x","y"],i),r=a.x,a=a.y;return Math.pow(t-r,2)+Math.pow(e-a,2)<Math.pow(n.hitRadius+n.radius,2)}},{key:"inXRange",value:function(t,e){return gr(this,t,"x",e)}},{key:"inYRange",value:function(t,e){return gr(this,t,"y",e)}},{key:"getCenterPoint",value:function(t){var e=this.getProps(["x","y"],t);return{x:e.x,y:e.y}}},{key:"size",value:function(t){var e=(t=t||this.options||{}).radius||0;return 2*((e=Math.max(e,e&&t.hoverRadius||0))+(e&&t.borderWidth||0))}},{key:"draw",value:function(t,e){var i=this.options;this.skip||i.radius<.1||!Be(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Ne(t,i,this.x,this.y))}},{key:"getRange",value:function(){var t=this.options||{};return t.radius+t.hitRadius}}]),n}();function mr(t,e){var i,n,a,r,o=t.getProps(["x","y","base","width","height"],e),s=o.x,l=o.y,u=o.base,c=o.width,o=o.height,o=t.horizontal?(r=o/2,i=Math.min(s,u),n=Math.max(s,u),a=l-r,l+r):(i=s-(r=c/2),n=s+r,a=Math.min(l,u),Math.max(l,u));return{left:i,top:a,right:n,bottom:o}}function yr(t,e,i,n){return t?0:b(e,i,n)}function br(t){var e,i,n,a,r,o,s=mr(t),l=s.right-s.left,u=s.bottom-s.top,c=(i=l/2,e=u/2,n=t.options.borderWidth,c=t.borderSkipped,n=ti(n),{t:yr(c.top,n.top,0,e),r:yr(c.right,n.right,0,i),b:yr(c.bottom,n.bottom,0,e),l:yr(c.left,n.left,0,i)}),h=(e=l/2,i=u/2,n=(t=t).getProps(["enableBorderRadius"]).enableBorderRadius,h=t.options.borderRadius,a=ei(h),r=Math.min(e,i),o=t.borderSkipped,{topLeft:yr(!(n=n||q(h))||o.top||o.left,a.topLeft,0,r),topRight:yr(!n||o.top||o.right,a.topRight,0,r),bottomLeft:yr(!n||o.bottom||o.left,a.bottomLeft,0,r),bottomRight:yr(!n||o.bottom||o.right,a.bottomRight,0,r)});return{outer:{x:s.left,y:s.top,w:l,h:u,radius:h},inner:{x:s.left+c.l,y:s.top+c.t,w:l-c.l-c.r,h:u-c.t-c.b,radius:{topLeft:Math.max(0,h.topLeft-Math.max(c.t,c.l)),topRight:Math.max(0,h.topRight-Math.max(c.t,c.r)),bottomLeft:Math.max(0,h.bottomLeft-Math.max(c.b,c.l)),bottomRight:Math.max(0,h.bottomRight-Math.max(c.b,c.r))}}}}function xr(t,e,i,n){var a=null===e,r=null===i,o=t&&!(a&&r)&&mr(t,n);return o&&(a||le(e,o.left,o.right))&&(r||le(i,o.top,o.bottom))}function _r(t,e){t.rect(e.x,e.y,e.w,e.h)}function kr(t,e,i){var n=2<arguments.length&&i!==undefined?i:{},a=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,o=(t.x+t.w!==n.x+n.w?e:0)-a,n=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+a,y:t.y+r,w:t.w+o,h:t.h+n,radius:t.radius}}_(vr,"id","point"),_(vr,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),_(vr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var wr=function(){l(n,e);var i=h(n);function n(t){var e;return d(this,n),(e=i.call(this)).options=undefined,e.horizontal=undefined,e.base=undefined,e.width=undefined,e.height=undefined,e.inflateAmount=undefined,t&&Object.assign(V(e),t),e}return o(n,[{key:"draw",value:function(t){var e,i=this.inflateAmount,n=this.options,a=n.borderColor,n=n.backgroundColor,r=br(this),o=r.inner,r=r.outer,s=(e=r.radius).topLeft||e.topRight||e.bottomLeft||e.bottomRight?Ke:_r;t.save(),r.w===o.w&&r.h===o.h||(t.beginPath(),s(t,kr(r,i,o)),t.clip(),s(t,kr(o,-i,r)),t.fillStyle=a,t.fill("evenodd")),t.beginPath(),s(t,kr(o,i)),t.fillStyle=n,t.fill(),t.restore()}},{key:"inRange",value:function(t,e,i){return xr(this,t,e,i)}},{key:"inXRange",value:function(t,e){return xr(this,t,null,e)}},{key:"inYRange",value:function(t,e){return xr(this,null,t,e)}},{key:"getCenterPoint",value:function(t){var e=this.getProps(["x","y","base","horizontal"],t),i=e.x,n=e.y,a=e.base,e=e.horizontal;return{x:e?(i+a)/2:i,y:e?n:(n+a)/2}}},{key:"getRange",value:function(t){return"x"===t?this.width/2:this.height/2}}]),n}(),Mr=(_(wr,"id","bar"),_(wr,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:undefined}),_(wr,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Object.freeze({__proto__:null,ArcElement:qi,LineElement:pr,PointElement:vr,BarElement:wr})),Sr=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Lr=Sr.map(function(t){return t.replace("rgb(","rgba(").replace(")",", 0.5)")});function Er(t){return Sr[t%Sr.length]}function Ar(t){return Lr[t%Lr.length]}function Pr(r){var o=0;return function(t,e){var i,n,a=r.getDatasetMeta(e).controller;a instanceof Pn?(n=o,t.backgroundColor=t.data.map(function(){return Er(n++)}),o=n):a instanceof On?(i=o,t.backgroundColor=t.data.map(function(){return Ar(i++)}),o=i):a&&(e=o,(t=t).borderColor=Er(e),t.backgroundColor=Ar(e),o=++e)}}function Cr(t){for(var e in t)if(t[e].borderColor||t[e].backgroundColor)return 1}var Or={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout:function(t,e,i){var n,a,r;i.enabled&&(n=(r=t.config).data.datasets,a=(r=r.options).elements,!i.forceOverride&&(Cr(n)||(i=r)&&(i.borderColor||i.backgroundColor)||a&&Cr(a))||(r=Pr(t),n.forEach(r)))}};function Dr(t){var e;t._decimated&&(e=t._data,delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e}))}function Tr(t){t.data.datasets.forEach(function(t){Dr(t)})}var Rr={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:function(p,t,g){var v;g.enabled?(v=p.width,p.data.datasets.forEach(function(t,e){var i=t._data,n=t.indexAxis,a=p.getDatasetMeta(e),r=i||t.data;if("y"!==ii([n,p.options.indexAxis])&&a.controller.supportsDecimation){n=p.scales[a.xAxisID];if(("linear"===n.type||"time"===n.type)&&!p.options.parsing){n=(e=r).length,o=0,a=a.iScale,s=(u=a.getUserBounds()).min,l=u.max,h=u.minDefined,u=u.maxDefined;var o,s,l,u,c,h={start:o=h?b(ce(e,a.axis,s).lo,0,n-1):o,count:u?b(ce(e,a.axis,l).hi+1,o,n)-o:n-o},d=h.start,f=h.count;if(f<=(g.threshold||4*v))Dr(t);else{switch(O(i)&&(t._data=r,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(t){this._data=t}})),g.algorithm){case"lttb":c=function(t,e,i,n,a){var r=a.samples||n;if(i<=r)return t.slice(e,e+i);var o,s,l,u,c=[],h=(i-2)/(r-2),d=0,f=e+i-1,p=e;for(c[d++]=t[p],o=0;o<r-2;o++){for(var g=0,v=0,m=void 0,y=Math.floor((o+1)*h)+1+e,b=Math.min(Math.floor((o+2)*h)+1,i)+e,x=b-y,m=y;m<b;m++)g+=t[m].x,v+=t[m].y;g/=x,v/=x;var y=Math.floor(o*h)+1+e,_=Math.min(Math.floor((o+1)*h)+1,i)+e,x=t[p],k=x.x,w=x.y,M=-1;for(m=y;m<_;m++)M<(l=.5*Math.abs((k-g)*(t[m].y-w)-(k-t[m].x)*(v-w)))&&(M=l,s=t[m],u=m);c[d++]=s,p=u}return c[d++]=t[f],c}(r,d,f,v,g);break;case"min-max":c=function(t,e,i,n){for(var a,r,o,s,l,u,c=0,h=0,d=[],f=t[e].x,p=t[e+i-1].x-f,g=e;g<e+i;++g){var v,m,y,b,x=((v=t[g]).x-f)/p*n,_=v.y,x=0|x;x===a?(_<l?(l=_,r=g):u<_&&(u=_,o=g),c=(h*c+v.x)/++h):(m=g-1,O(r)||O(o)||(y=Math.min(r,o),b=Math.max(r,o),y!==s&&y!==m&&d.push(R(R({},t[y]),{},{x:c})),b!==s&&b!==m&&d.push(R(R({},t[b]),{},{x:c}))),0<g&&m!==s&&d.push(t[m]),d.push(v),a=x,h=0,l=u=_,r=o=s=g)}return d}(r,d,f,v);break;default:throw new Error("Unsupported decimation algorithm '".concat(g.algorithm,"'"))}t._decimated=c}}}})):Tr(p)},destroy:function(t){Tr(t)}};function Ir(t,e,i){var n,a=t.segments,r=t.points,o=e.points,s=[],l=C(a);try{for(l.s();!(n=l.n()).done;){var u=n.value,c=u.start,h=zr(c,u.end,r),d=Fr(i,r[c],r[h],u.loop);if(e.segments){var f,p=C(Zi(e,d));try{for(p.s();!(f=p.n()).done;){var g,v=f.value,m=Fr(i,o[v.start],o[v.end],v.loop),y=C(Gi(u,r,m));try{for(y.s();!(g=y.n()).done;){var b=g.value;s.push({source:b,target:v,start:_({},i,Hr(d,m,"start",Math.max)),end:_({},i,Hr(d,m,"end",Math.min))})}}catch(x){y.e(x)}finally{y.f()}}}catch(x){p.e(x)}finally{p.f()}}else s.push({source:u,target:d,start:r[c],end:r[h]})}}catch(x){l.e(x)}finally{l.f()}return s}function Fr(t,e,i,n){var a,r;if(!n)return a=e[t],r=i[t],"angle"===t&&(a=k(a),r=k(r)),{property:t,start:a,end:r}}function zr(t,e,i){for(;t<e;e--){var n=i[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function Hr(t,e,i,n){return t&&e?n(t[i],e[i]):t?t[i]:e?e[i]:0}function qr(t,e){var i,n,a,r,o,s,l=[],u=!1;return(l=H(t)?(u=!0,t):(n=(i=t||{}).x,a=void 0===n?null:n,r=void 0===(n=i.y)?null:n,o=e.points,s=[],e.segments.forEach(function(t){var e=t.start,i=zr(e,t.end,o),e=o[e],i=o[i];null!==r?(s.push({x:e.x,y:r}),s.push({x:i.x,y:r})):null!==a&&(s.push({x:a,y:e.y}),s.push({x:a,y:i.y}))}),s)).length?new pr({points:l,options:{tension:0},_loop:u,_fullLoop:u}):null}function jr(t){return t&&!1!==t.fill}function Nr(t,e,i){var n,a,r=function(t){var e=t.options,i=e.fill,i=z(i&&i.target,i);i===undefined&&(i=!!e.backgroundColor);return!1!==i&&null!==i&&(!0!==i?i:"origin")}(t);return q(r)?!isNaN(r.value)&&r:g(n=parseFloat(r))&&Math.floor(n)===n?(t=r[0],e=e,a=n,i=i,!((a="-"!==t&&"+"!==t?a:e+a)===e||a<0||i<=a)&&a):0<=["origin","start","end","stack","shape"].indexOf(r)&&r}function Vr(t){var e=t.scale,i=t.index,n=t.line,a=[],r=n.segments,o=n.points,s=function(t,e){for(var i=[],n=t.getMatchingVisibleMetas("line"),a=0;a<n.length;a++){var r=n[a];if(r.index===e)break;r.hidden||i.unshift(r.dataset)}return i}(e,i);s.push(qr({x:null,y:e.bottom},n));for(var l=0;l<r.length;l++)for(var u=r[l],c=u.start;c<=u.end;c++){y=m=v=g=p=f=d=h=void 0;for(var h=a,d=o[c],f=s,p=[],g=0;g<f.length;g++){var v=function(t,e,i){var n=t.interpolate(e,i);if(!n)return{};for(var a=n[i],r=t.segments,o=t.points,s=!1,l=!1,u=0;u<r.length;u++){var c=r[u],h=o[c.start][i],c=o[c.end][i];if(le(a,h,c)){s=a===h,l=a===c;break}}return{first:s,last:l,point:n}}(f[g],d,"x"),m=v.first,y=v.last,v=v.point;if(!(!v||m&&y))if(m)p.unshift(v);else if(h.push(v),!y)break}h.push.apply(h,p)}return new pr({points:a,options:{}})}var Br=function(){function e(t){d(this,e),this.x=t.x,this.y=t.y,this.radius=t.radius}return o(e,[{key:"pathSegment",value:function lr(t,e,i){var n=this.x,a=this.y,r=this.radius;return e=e||{start:0,end:M},t.arc(n,a,r,e.end,e.start,!0),!i.bounds}},{key:"interpolate",value:function Uo(t){var e=this.x,i=this.y,n=this.radius,a=t.angle;return{x:e+Math.cos(a)*n,y:i+Math.sin(a)*n,angle:a}}}]),e}();function Wr(t){var e,i,n=t.chart,a=t.fill,r=t.line;return g(a)?(i=a,(n=(e=n).getDatasetMeta(i))&&e.isDatasetVisible(i)?n.dataset:null):"stack"===a?Vr(t):"shape"===a||((n=function(t){if((t.scale||{}).getPointPositionForValue)return function(t){var e=t.scale,i=t.fill,n=e.options,a=e.getLabels().length,r=n.reverse?e.max:e.min,o=function(t,e,i){var n="start"===t?i:"end"===t?e.options.reverse?e.min:e.max:q(t)?t.value:e.getBaseValue();return n}(i,e,r),s=[];if(n.grid.circular)return i=e.getPointPositionForValue(0,r),new Br({x:i.x,y:i.y,radius:e.getDistanceFromCenterForValue(o)});for(var l=0;l<a;++l)s.push(e.getPointPositionForValue(l,o));return s}(t);return function(t){var e=t.scale,e=void 0===e?{}:e,i=function(t,e){var i=null;return"start"===t?i=e.bottom:"end"===t?i=e.top:q(t)?i=e.getPixelForValue(t.value):e.getBasePixel&&(i=e.getBasePixel()),i}(t.fill,e);if(g(i))return{x:(e=e.isHorizontal())?i:null,y:e?null:i};return null}(t)}(t))instanceof Br?n:qr(n,r))}function Xr(t,e,i){var n=Wr(e),a=e.line,r=e.scale,o=e.axis,s=a.options,l=s.fill,s=s.backgroundColor,l=l||{},u=l.above,u=void 0===u?s:u,l=l.below,s=void 0===l?s:l;n&&a.points.length&&(We(t,i),e=t,l=(i={line:a,target:n,above:u,below:s,area:i,scale:r,axis:o}).line,a=i.target,n=i.above,u=i.below,s=i.area,r=i.scale,o=l._loop?"angle":i.axis,e.save(),"x"===o&&u!==n&&(Ur(e,a,s.top),Yr(e,{line:l,target:a,color:n,scale:r,property:o}),e.restore(),e.save(),Ur(e,a,s.bottom)),Yr(e,{line:l,target:a,color:u,scale:r,property:o}),e.restore(),Xe(t))}function Ur(t,e,i){var n,a=e.segments,r=e.points,o=!0,s=!1,l=(t.beginPath(),C(a));try{for(l.s();!(n=l.n()).done;){var u=n.value,c=u.start,h=u.end,d=r[c],f=r[zr(c,h,r)];o?(t.moveTo(d.x,d.y),o=!1):(t.lineTo(d.x,i),t.lineTo(d.x,d.y)),(s=!!e.pathSegment(t,u,{move:s}))?t.closePath():t.lineTo(f.x,i)}}catch(p){l.e(p)}finally{l.f()}t.lineTo(e.first().x,i),t.closePath(),t.clip()}function Yr(t,e){var i,n,a,r,o,s,l,u,c,h=e.line,d=e.target,f=e.property,p=e.color,g=e.scale,v=C(Ir(h,d,f));try{for(v.s();!(i=v.n()).done;){var m,y=i.value,b=y.source,x=y.target,_=y.start,k=y.end,w=b.style,M=(void 0===w?{}:w).backgroundColor,S=void 0===M?p:M,L=!0!==d,E=(t.save(),t.fillStyle=S,n=t,a=g,r=L&&Fr(f,_,k),l=c=u=l=o=s=o=void 0,o=a.chart.chartArea,s=o.top,o=o.bottom,u=(l=r||{}).property,c=l.start,l=l.end,"x"===u&&(n.beginPath(),n.rect(c,s,l-c,o-s),n.clip()),t.beginPath(),!!h.pathSegment(t,b)),A=void 0;!L||(E?t.closePath():$r(t,d,k,f),m=!!d.pathSegment(t,x,{move:E,reverse:!0}),A=E&&m)||$r(t,d,_,f),t.closePath(),t.fill(A?"evenodd":"nonzero"),t.restore()}}catch(P){v.e(P)}finally{v.f()}}function $r(t,e,i,n){var a=e.interpolate(i,n);a&&t.lineTo(a.x,a.y)}var Kr={id:"filler",afterDatasetsUpdate:function(t,e,i){for(var n,a,r,o=(t.data.datasets||[]).length,s=[],l=0;l<o;++l)r=null,(a=(n=t.getDatasetMeta(l)).dataset)&&a.options&&a instanceof pr&&(r={visible:t.isDatasetVisible(l),index:l,fill:Nr(a,l,o),chart:t,axis:n.controller.options.indexAxis,scale:n.vScale,line:a}),n.$filler=r,s.push(r);for(l=0;l<o;++l)(r=s[l])&&!1!==r.fill&&(r.fill=function(t,e,i){var n,a=t[e].fill,r=[e];if(!i)return a;for(;!1!==a&&-1===r.indexOf(a);){if(!g(a))return a;if(!(n=t[a]))return!1;if(n.visible)return a;r.push(a),a=n.fill}return!1}(s,l,i.propagate))},beforeDraw:function(t,e,i){for(var n="beforeDraw"===i.drawTime,a=t.getSortedVisibleDatasetMetas(),r=t.chartArea,o=a.length-1;0<=o;--o){var s=a[o].$filler;s&&(s.line.updateControlPoints(r,s.axis),n)&&s.fill&&Xr(t.ctx,s,r)}},beforeDatasetsDraw:function(t,e,i){if("beforeDatasetsDraw"===i.drawTime)for(var n=t.getSortedVisibleDatasetMetas(),a=n.length-1;0<=a;--a){var r=n[a].$filler;jr(r)&&Xr(t.ctx,r,t.chartArea)}},beforeDatasetDraw:function(t,e,i){var n=e.meta.$filler;jr(n)&&"beforeDatasetDraw"===i.drawTime&&Xr(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}},Jr=function Jr(t,e){var i=t.boxHeight,i=void 0===i?e:i,n=t.boxWidth,n=void 0===n?e:n;return t.usePointStyle&&(i=Math.min(i,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:i,itemHeight:Math.max(e,i)}},Gr=function Gr(t,e){return null!==t&&null!==e&&t.datasetIndex===e.datasetIndex&&t.index===e.index},Zr=function(){l(n,e);var i=h(n);function n(t){var e;return d(this,n),(e=i.call(this))._added=!1,e.legendHitBoxes=[],e._hoveredItem=null,e.doughnutMode=!1,e.chart=t.chart,e.options=t.options,e.ctx=t.ctx,e.legendItems=undefined,e.columnSizes=undefined,e.lineWidths=undefined,e.maxHeight=undefined,e.maxWidth=undefined,e.top=undefined,e.bottom=undefined,e.left=undefined,e.right=undefined,e.height=undefined,e.width=undefined,e._margins=undefined,e.position=undefined,e.weight=undefined,e.fullSize=undefined,e}return o(n,[{key:"update",value:function(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}},{key:"setDimensions",value:function(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}},{key:"buildLabels",value:function(){var i=this,n=this.options.labels||{},t=m(n.generateLabels,[this.chart],this)||[];n.filter&&(t=t.filter(function(t){return n.filter(t,i.chart.data)})),n.sort&&(t=t.sort(function(t,e){return n.sort(t,e,i.chart.data)})),this.options.reverse&&t.reverse(),this.legendItems=t}},{key:"fit",value:function(){var t,e,i,n,a,r,o,s=this.options,l=this.ctx;s.display?(e=(t=D((a=s.labels).font)).size,i=this._computeTitleHeight(),n=(a=Jr(a,e)).boxWidth,a=a.itemHeight,l.font=t.string,this.isHorizontal()?(r=this.maxWidth,o=this._fitRows(i,e,n,a)+10):(o=this.maxHeight,r=this._fitCols(i,t,n,a)+10),this.width=Math.min(r,s.maxWidth||this.maxWidth),this.height=Math.min(o,s.maxHeight||this.maxHeight)):this.width=this.height=0}},{key:"_fitRows",value:function(t,n,a,r){var o=this.ctx,s=this.maxWidth,l=this.options.labels.padding,u=this.legendHitBoxes=[],c=this.lineWidths=[0],h=r+l,d=t,f=(o.textAlign="left",o.textBaseline="middle",-1),p=-h;return this.legendItems.forEach(function(t,e){var i=a+n/2+o.measureText(t.text).width;(0===e||c[c.length-1]+i+2*l>s)&&(d+=h,c[c.length-(0<e?0:1)]=0,p+=h,f++),u[e]={left:0,top:p,row:f,width:i,height:r},c[c.length-1]+=i+l}),d}},{key:"_fitCols",value:function(t,o,s,l){var u=this.ctx,e=this.maxHeight,c=this.options.labels.padding,h=this.legendHitBoxes=[],d=this.columnSizes=[],f=e-t,p=c,g=0,v=0,m=0,y=0;return this.legendItems.forEach(function(t,e){n=l,a=function(t,e,i,n){var a=t.text;a&&"string"!=typeof a&&(a=a.reduce(function(t,e){return t.length>e.length?t:e}));return e+i.size/2+n.measureText(a).width}(t=t,s,i=o,u),r=function(t,e,i){var n=t;"string"!=typeof e.text&&(n=Qr(e,i));return n}(n,t,i.lineHeight);var i,n,a={itemWidth:a,itemHeight:r},r=a.itemWidth,a=a.itemHeight;0<e&&f<v+a+2*c&&(p+=g+c,d.push({width:g,height:v}),m+=g+c,y++,g=v=0),h[e]={left:m,top:v,col:y,width:r,height:a},g=Math.max(g,r),v+=a+c}),p+=g,d.push({width:g,height:v}),p}},{key:"adjustHitBoxes",value:function(){if(this.options.display){var t=this._computeTitleHeight(),e=this.legendHitBoxes,i=this.options,n=i.align,a=i.labels.padding,r=Ui(i.rtl,this.left,this.width);if(this.isHorizontal()){var o,s=0,l=A(n,this.left+a,this.right-this.lineWidths[s]),u=C(e);try{for(u.s();!(o=u.n()).done;){var c=o.value;s!==c.row&&(s=c.row,l=A(n,this.left+a,this.right-this.lineWidths[s])),c.top+=this.top+t+a,c.left=r.leftForLtr(r.x(l),c.width),l+=c.width+a}}catch(v){u.e(v)}finally{u.f()}}else{var h,d=0,f=A(n,this.top+t+a,this.bottom-this.columnSizes[d].height),p=C(e);try{for(p.s();!(h=p.n()).done;){var g=h.value;g.col!==d&&(d=g.col,f=A(n,this.top+t+a,this.bottom-this.columnSizes[d].height)),g.top=f,g.left+=this.left+a,g.left=r.leftForLtr(r.x(g.left),g.width),f+=g.height+a}}catch(v){p.e(v)}finally{p.f()}}}}},{key:"isHorizontal",value:function(){return"top"===this.options.position||"bottom"===this.options.position}},{key:"draw",value:function(){var t;this.options.display&&(We(t=this.ctx,this),this._draw(),Xe(t))}},{key:"_draw",value:function fr(){var s=this,l=this.options,u=this.columnSizes,c=this.lineWidths,h=this.ctx,d=l.align,f=l.labels,p=P.color,g=Ui(l.rtl,this.left,this.width),v=D(f.font),m=f.padding,y=v.size,b=y/2,t=(this.drawTitle(),h.textAlign=g.textAlign("left"),h.textBaseline="middle",h.lineWidth=.5,h.font=v.string,Jr(f,y)),x=t.boxWidth,_=t.boxHeight,n=t.itemHeight,k=function k(t,e,i){var n,a,r,o;isNaN(x)||x<=0||isNaN(_)||_<0||(h.save(),n=z(i.lineWidth,1),h.fillStyle=z(i.fillStyle,p),h.lineCap=z(i.lineCap,"butt"),h.lineDashOffset=z(i.lineDashOffset,0),h.lineJoin=z(i.lineJoin,"miter"),h.lineWidth=n,h.strokeStyle=z(i.strokeStyle,p),h.setLineDash(z(i.lineDash,[])),f.usePointStyle?(a={radius:_*Math.SQRT2/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:n},r=g.xPlus(t,x/2),Ve(h,a,r,e+b,f.pointStyleWidth&&x)):(a=e+Math.max((y-_)/2,0),r=g.leftForLtr(t,x),o=ei(i.borderRadius),h.beginPath(),Object.values(o).some(function(t){return 0!==t})?Ke(h,{x:r,y:a,w:x,h:_,radius:o}):h.rect(r,a,x,_),h.fill(),0!==n&&h.stroke()),h.restore())},w=function w(t,e,i){$e(h,i.text,t,e+n/2,v,{strikethrough:i.hidden,textAlign:g.textAlign(i.textAlign)})},M=this.isHorizontal(),S=this._computeTitleHeight(),L=M?{x:A(d,this.left+m,this.right-c[0]),y:this.top+m+S,line:0}:{x:this.left+m,y:A(d,this.top+S+m,this.bottom-u[0].height),line:0},E=(Yi(this.ctx,l.textDirection),n+m);this.legendItems.forEach(function(t,e){h.strokeStyle=t.fontColor,h.fillStyle=t.fontColor;var i=h.measureText(t.text).width,n=g.textAlign(t.textAlign||(t.textAlign=f.textAlign)),i=x+b+i,a=L.x,r=L.y,o=(g.setWidth(s.width),M?0<e&&a+i+m>s.right&&(r=L.y+=E,L.line++,a=L.x=A(d,s.left+m,s.right-c[L.line])):0<e&&r+E>s.bottom&&(a=L.x=a+u[L.line].width+m,L.line++,r=L.y=A(d,s.top+S+m,s.bottom-u[L.line].height)),g.x(a));k(o,r,t),a=ye(n,a+x+b,M?a+i:s.right,l.rtl),w(g.x(a),r,t),M?L.x+=i+m:"string"!=typeof t.text?(o=v.lineHeight,L.y+=Qr(t,o)):L.y+=E}),$i(this.ctx,l.textDirection)}},{key:"drawTitle",value:function(){var t,e,i,n,a,r,o,s=this.options,l=s.title,u=D(l.font),c=N(l.padding);l.display&&(t=Ui(s.rtl,this.left,this.width),e=this.ctx,i=l.position,n=u.size/2,c=c.top+n,n=this.left,a=this.width,this.isHorizontal()?(a=Math.max.apply(Math,p(this.lineWidths)),o=this.top+c,n=A(s.align,n,this.right-a)):(r=this.columnSizes.reduce(function(t,e){return Math.max(t,e.height)},0),o=c+A(s.align,this.top,this.bottom-r-s.labels.padding-this._computeTitleHeight())),c=A(i,n,n+a),e.textAlign=t.textAlign(me(i)),e.textBaseline="middle",e.strokeStyle=l.color,e.fillStyle=l.color,e.font=u.string,$e(e,l.text,c,o,u))}},{key:"_computeTitleHeight",value:function(){var t=this.options.title,e=D(t.font),i=N(t.padding);return t.display?e.lineHeight+i.height:0}},{key:"_getLegendItemAt",value:function(t,e){var i,n,a;if(le(t,this.left,this.right)&&le(e,this.top,this.bottom))for(a=this.legendHitBoxes,i=0;i<a.length;++i)if(le(t,(n=a[i]).left,n.left+n.width)&&le(e,n.top,n.top+n.height))return this.legendItems[i];return null}},{key:"handleEvent",value:function(t){var e,i,n,a,r,o=this.options;e=t.type,i=o,("mousemove"!==e&&"mouseout"!==e||!i.onHover&&!i.onLeave)&&(!i.onClick||"click"!==e&&"mouseup"!==e)||(n=this._getLegendItemAt(t.x,t.y),"mousemove"===t.type||"mouseout"===t.type?(a=this._hoveredItem,r=Gr(a,n),a&&!r&&m(o.onLeave,[t,a,this],this),(this._hoveredItem=n)&&!r&&m(o.onHover,[t,n,this],this)):n&&m(o.onClick,[t,n,this],this))}}]),n}();function Qr(t,e){return e*(t.text?t.text.length+.5:0)}var to={id:"legend",_element:Zr,start:function(t,e,i){var n=t.legend=new Zr({ctx:t.ctx,options:i,chart:t});u.configure(t,n,i),u.addBox(t,n)},stop:function(t){u.removeBox(t,t.legend),delete t.legend},beforeUpdate:function(t,e,i){var n=t.legend;u.configure(t,n,i),n.options=i},afterUpdate:function(t){var e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent:function(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick:function(t,e,i){var n=e.datasetIndex,a=i.chart;a.isDatasetVisible(n)?(a.hide(n),e.hidden=!0):(a.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:function Le(t){return t.chart.options.color},boxWidth:40,padding:10,generateLabels:function(t){var n=t.data.datasets,e=t.legend.options.labels,a=e.usePointStyle,r=e.pointStyle,o=e.textAlign,s=e.color,l=e.useBorderRadius,u=e.borderRadius;return t._getSortedDatasetMetas().map(function(t){var e=t.controller.getStyle(a?0:undefined),i=N(e.borderWidth);return{text:n[t.index].label,fillStyle:e.backgroundColor,fontColor:s,hidden:!t.visible,lineCap:e.borderCapStyle,lineDash:e.borderDash,lineDashOffset:e.borderDashOffset,lineJoin:e.borderJoinStyle,lineWidth:(i.width+i.height)/4,strokeStyle:e.borderColor,pointStyle:r||e.pointStyle,rotation:e.rotation,textAlign:o||e.textAlign,borderRadius:l&&(u||e.borderRadius),datasetIndex:t.index}},this)}},title:{color:function Le(t){return t.chart.options.color},display:!1,position:"center",text:""}},descriptors:{_scriptable:function(t){return!t.startsWith("on")},labels:{_scriptable:function(t){return!["generateLabels","filter","sort"].includes(t)}}}},eo=function(){l(n,e);var i=h(n);function n(t){var e;return d(this,n),(e=i.call(this)).chart=t.chart,e.options=t.options,e.ctx=t.ctx,e._padding=undefined,e.top=undefined,e.bottom=undefined,e.left=undefined,e.right=undefined,e.width=undefined,e.height=undefined,e.position=undefined,e.weight=undefined,e.fullSize=undefined,e}return o(n,[{key:"update",value:function(t,e){var i,n=this.options;this.left=0,this.top=0,n.display?(this.width=this.right=t,this.height=this.bottom=e,i=H(n.text)?n.text.length:1,this._padding=N(n.padding),i=i*D(n.font).lineHeight+this._padding.height,this.isHorizontal()?this.height=i:this.width=i):this.width=this.height=this.right=this.bottom=0}},{key:"isHorizontal",value:function(){var t=this.options.position;return"top"===t||"bottom"===t}},{key:"_drawArgs",value:function(t){var e,i,n=this.top,a=this.left,r=this.bottom,o=this.right,s=this.options,l=s.align,u=0,s=this.isHorizontal()?(e=A(l,a,o),i=n+t,o-a):(u="left"===s.position?(e=a+t,i=A(l,r,n),-.5*L):(e=o-t,i=A(l,n,r),.5*L),r-n);return{titleX:e,titleY:i,maxWidth:s,rotation:u}}},{key:"draw",value:function(){var t,e,i,n,a,r=this.ctx,o=this.options;o.display&&(a=(t=D(o.font)).lineHeight/2+this._padding.top,e=(a=this._drawArgs(a)).titleX,i=a.titleY,n=a.maxWidth,a=a.rotation,$e(r,o.text,0,0,t,{color:o.color,maxWidth:n,rotation:a,textAlign:me(o.align),textBaseline:"middle",translation:[e,i]}))}}]),n}();var io={id:"title",_element:eo,start:function(t,e,i){var n;i=i,n=new eo({ctx:(t=t).ctx,options:i,chart:t}),u.configure(t,n,i),u.addBox(t,n),t.titleBlock=n},stop:function(t){var e=t.titleBlock;u.removeBox(t,e),delete t.titleBlock},beforeUpdate:function(t,e,i){var n=t.titleBlock;u.configure(t,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},no=new WeakMap,ao={id:"subtitle",start:function(t,e,i){var n=new eo({ctx:t.ctx,options:i,chart:t});u.configure(t,n,i),u.addBox(t,n),no.set(t,n)},stop:function(t){u.removeBox(t,no.get(t)),no["delete"](t)},beforeUpdate:function(t,e,i){var n=no.get(t);u.configure(t,n,i),n.options=i},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}},ro={average:function(t){if(!t.length)return!1;for(var e=0,i=0,n=0,a=0,r=t.length;a<r;++a){var o=t[a].element;o&&o.hasValue()&&(e+=(o=o.tooltipPosition()).x,i+=o.y,++n)}return{x:e/n,y:i/n}},nearest:function(t,e){if(!t.length)return!1;for(var i,n,a=e.x,r=e.y,o=Number.POSITIVE_INFINITY,s=0,l=t.length;s<l;++s){var u,c=t[s].element;c&&c.hasValue()&&(u=re(e,c.getCenterPoint()))<o&&(o=u,i=c)}return i&&(a=(n=i.tooltipPosition()).x,r=n.y),{x:a,y:r}}};function oo(t,e){return e&&(H(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function so(t){return("string"==typeof t||t instanceof String)&&-1<t.indexOf("\n")?t.split("\n"):t}function lo(t,e){var i=t.chart.ctx,n=t.body,a=t.footer,r=t.title,o=e.boxWidth,s=e.boxHeight,l=D(e.bodyFont),u=D(e.titleFont),c=D(e.footerFont),r=r.length,a=a.length,h=n.length,d=N(e.padding),f=d.height,p=0,g=n.reduce(function(t,e){return t+e.before.length+e.lines.length+e.after.length},0),v=(g+=t.beforeBody.length+t.afterBody.length,r&&(f+=r*u.lineHeight+(r-1)*e.titleSpacing+e.titleMarginBottom),g&&(f+=h*(e.displayColors?Math.max(s,l.lineHeight):l.lineHeight)+(g-h)*l.lineHeight+(g-1)*e.bodySpacing),a&&(f+=e.footerMarginTop+a*c.lineHeight+(a-1)*e.footerSpacing),0),m=function m(t){p=Math.max(p,i.measureText(t).width+v)};return i.save(),i.font=u.string,S(t.title,m),i.font=l.string,S(t.beforeBody.concat(t.afterBody),m),v=e.displayColors?o+2+e.boxPadding:0,S(n,function(t){S(t.before,m),S(t.lines,m),S(t.after,m)}),v=0,i.font=c.string,S(t.footer,m),i.restore(),{width:p+=d.width,height:f}}function uo(t,e,i){var n,a,r,o,s,l,u,c=i.yAlign||e.yAlign||(n=t,c=i.y,a=i.height,c<a/2?"top":c>n.height-a/2?"bottom":"center");return{xAlign:i.xAlign||e.xAlign||(n=t,t=e,e=c,a=(i=i).x,r=i.width,o=n.width,s=(l=n.chartArea).left,l=l.right,(u="center")===e?u=a<=(s+l)/2?"left":"right":a<=r/2?u="left":o-r/2<=a&&(u="right"),e=u,n=n,s=i.x,l=i.width,o=t.caretSize+t.caretPadding,u="left"===e&&s+l+o>n.width||"right"===e&&s-l-o<0?"center":u),yAlign:c}}function co(t,e,i,n){var a,r=t.caretSize,o=t.caretPadding,s=t.cornerRadius,l=i.xAlign,u=i.yAlign,o=r+o,s=ei(s),c=s.topLeft,h=s.topRight,d=s.bottomLeft,s=s.bottomRight,f=(t=l,a=e.x,f=e.width,"right"===t?a-=f:"center"===t&&(a-=f/2),a),p=(i=u,t=o,a=e.y,p=e.height,"top"===i?a+=t:a-="bottom"===i?p+t:p/2,a);return"center"===u?"left"===l?f+=o:"right"===l&&(f-=o):"left"===l?f-=Math.max(c,d)+r:"right"===l&&(f+=Math.max(h,s)+r),{x:b(f,0,n.width-e.width),y:b(p,0,n.height-e.height)}}function ho(t,e,i){var n=N(i.padding);return"center"===e?t.x+t.width/2:"right"===e?t.x+t.width-n.right:t.x+n.left}function fo(t){return oo([],so(t))}function po(t,e){var i=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return i?t.override(i):t}var go={beforeTitle:Lt,title:function(t){if(0<t.length){var e=t[0],i=e.chart.data.labels,n=i?i.length:0;if(this&&this.options&&"dataset"===this.options.mode)return e.dataset.label||"";if(e.label)return e.label;if(0<n&&e.dataIndex<n)return i[e.dataIndex]}return""},afterTitle:Lt,beforeBody:Lt,beforeLabel:Lt,label:function Jo(t){var Jo,e;return this&&this.options&&"dataset"===this.options.mode?t.label+": "+t.formattedValue||t.formattedValue:((Jo=t.dataset.label||"")&&(Jo+=": "),O(e=t.formattedValue)||(Jo+=e),Jo)},labelColor:function(t){var e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor:function(){return this.options.bodyColor},labelPointStyle:function(t){var e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Lt,afterBody:Lt,beforeFooter:Lt,footer:Lt,afterFooter:Lt};function w(t,e,i,n){var a=t[e].call(i,n);return void 0===a?go[e].call(i,n):a}var vo=function(){l(n,e);var i=h(n);function n(t){var e;return d(this,n),(e=i.call(this)).opacity=0,e._active=[],e._eventPosition=undefined,e._size=undefined,e._cachedAnimations=undefined,e._tooltipItems=[],e.$animations=undefined,e.$context=undefined,e.chart=t.chart,e.options=t.options,e.dataPoints=undefined,e.title=undefined,e.beforeBody=undefined,e.body=undefined,e.afterBody=undefined,e.footer=undefined,e.xAlign=undefined,e.yAlign=undefined,e.x=undefined,e.y=undefined,e.height=undefined,e.width=undefined,e.caretX=undefined,e.caretY=undefined,e.labelColors=undefined,e.labelPointStyles=undefined,e.labelTextColors=undefined,e}return o(n,[{key:"initialize",value:function(t){this.options=t,this._cachedAnimations=undefined,this.$context=undefined}},{key:"_resolveAnimations",value:function(){var t,e=this._cachedAnimations;return e||(e=this.chart,e=(t=this.options.setContext(this.getContext())).enabled&&e.options.animation&&t.animations,t=new ln(this.chart,e),e._cacheable&&(this._cachedAnimations=Object.freeze(t)),t)}},{key:"getContext",value:function(){return this.$context||(this.$context=(t=this.chart.getContext(),i=(e=this)._tooltipItems,ni(t,{tooltip:e,tooltipItems:i,type:"tooltip"})));var t,e,i}},{key:"getTitle",value:function(t,e){var i=e.callbacks,n=w(i,"beforeTitle",this,t),a=w(i,"title",this,t),i=w(i,"afterTitle",this,t),n=oo([],so(n));return n=oo(n,so(a)),oo(n,so(i))}},{key:"getBeforeBody",value:function(t,e){return fo(w(e.callbacks,"beforeBody",this,t))}},{key:"getBody",value:function(t,e){var n=this,a=e.callbacks,r=[];return S(t,function(t){var e={before:[],lines:[],after:[]},i=po(a,t);oo(e.before,so(w(i,"beforeLabel",n,t))),oo(e.lines,w(i,"label",n,t)),oo(e.after,so(w(i,"afterLabel",n,t))),r.push(e)}),r}},{key:"getAfterBody",value:function(t,e){return fo(w(e.callbacks,"afterBody",this,t))}},{key:"getFooter",value:function(t,e){var i=e.callbacks,n=w(i,"beforeFooter",this,t),a=w(i,"footer",this,t),i=w(i,"afterFooter",this,t),n=oo([],so(n));return n=oo(n,so(a)),oo(n,so(i))}},{key:"_createItems",value:function(n){for(var t,e,i,a,r,o,s,l,u=this,c=this._active,h=this.chart.data,d=[],f=[],p=[],g=[],v=0,m=c.length;v<m;++v)g.push((t=this.chart,e=c[v],l=s=o=r=a=i=void 0,i=e.element,a=e.datasetIndex,r=e.index,o=t.getDatasetMeta(a).controller,s=(l=o.getLabelAndValue(r)).label,l=l.value,{chart:t,label:s,parsed:o.getParsed(r),raw:t.data.datasets[a].data[r],formattedValue:l,dataset:o.getDataset(),dataIndex:r,datasetIndex:a,element:i}));return n.filter&&(g=g.filter(function(t,e,i){return n.filter(t,e,i,h)})),S(g=n.itemSort?g.sort(function(t,e){return n.itemSort(t,e,h)}):g,function(t){var e=po(n.callbacks,t);d.push(w(e,"labelColor",u,t)),f.push(w(e,"labelPointStyle",u,t)),p.push(w(e,"labelTextColor",u,t))}),this.labelColors=d,this.labelPointStyles=f,this.labelTextColors=p,this.dataPoints=g}},{key:"update",value:function(t,e){var i,n,a,r=this.options.setContext(this.getContext()),o=this._active,s=[];o.length?(o=ro[r.position].call(this,o,this._eventPosition),s=this._createItems(r),this.title=this.getTitle(s,r),this.beforeBody=this.getBeforeBody(s,r),this.body=this.getBody(s,r),this.afterBody=this.getAfterBody(s,r),this.footer=this.getFooter(s,r),i=this._size=lo(this,r),a=co(r,n=Object.assign({},o,i),n=uo(this.chart,r,n),this.chart),this.xAlign=n.xAlign,this.yAlign=n.yAlign,n={opacity:1,x:a.x,y:a.y,width:i.width,height:i.height,caretX:o.x,caretY:o.y}):0!==this.opacity&&(n={opacity:0}),this._tooltipItems=s,this.$context=undefined,n&&this._resolveAnimations().update(this,n),t&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:e})}},{key:"drawCaret",value:function(t,e,i,n){var a=this.getCaretPosition(t,i,n);e.lineTo(a.x1,a.y1),e.lineTo(a.x2,a.y2),e.lineTo(a.x3,a.y3)}},{key:"getCaretPosition",value:function(t,e,i){var n,a,r,o,s,l,u=this.xAlign,c=this.yAlign,h=i.caretSize,d=ei(i.cornerRadius),f=d.topLeft,p=d.topRight,g=d.bottomLeft,d=d.bottomRight,v=t.x,m=t.y,y=e.width,b=e.height;return"center"===c?(s=m+b/2,l="left"===u?(a=(n=v)-h,o=s+h,s-h):(a=(n=v+y)+h,o=s-h,s+h),r=n):(a="left"===u?v+Math.max(f,g)+h:"right"===u?v+y-Math.max(p,d)-h:this.caretX,r="top"===c?(s=(o=m)-h,n=a-h,a+h):(s=(o=m+b)+h,n=a+h,a-h),l=o),{x1:n,x2:a,x3:r,y1:o,y2:s,y3:l}}},{key:"drawTitle",value:function(t,e,i){var n,a,r,o=this.title,s=o.length;if(s){var l=Ui(i.rtl,this.x,this.width);for(t.x=ho(this,i.titleAlign,i),e.textAlign=l.textAlign(i.titleAlign),e.textBaseline="middle",n=D(i.titleFont),a=i.titleSpacing,e.fillStyle=i.titleColor,e.font=n.string,r=0;r<s;++r)e.fillText(o[r],l.x(t.x),t.y+n.lineHeight/2),t.y+=n.lineHeight+a,r+1===s&&(t.y+=i.titleMarginBottom-a)}}},{key:"_drawColorBox",value:function(t,e,i,n,a){var r,o,s=this.labelColors[i],l=this.labelPointStyles[i],u=a.boxHeight,c=a.boxWidth,h=a.boxPadding,d=D(a.bodyFont),f=ho(this,"left",a),f=n.x(f),d=u<d.lineHeight?(d.lineHeight-u)/2:0,d=e.y+d;a.usePointStyle?(l={radius:Math.min(c,u)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},r=n.leftForLtr(f,c)+c/2,o=d+u/2,t.strokeStyle=a.multiKeyBackground,t.fillStyle=a.multiKeyBackground,Ne(t,l,r,o),t.strokeStyle=s.borderColor,t.fillStyle=s.backgroundColor,Ne(t,l,r,o)):(t.lineWidth=q(s.borderWidth)?Math.max.apply(Math,p(Object.values(s.borderWidth))):s.borderWidth||1,t.strokeStyle=s.borderColor,t.setLineDash(s.borderDash||[]),t.lineDashOffset=s.borderDashOffset||0,l=n.leftForLtr(f,c-h),r=n.leftForLtr(n.xPlus(f,1),c-h-2),o=ei(s.borderRadius),Object.values(o).some(function(t){return 0!==t})?(t.beginPath(),t.fillStyle=a.multiKeyBackground,Ke(t,{x:l,y:d,w:c,h:u,radius:o}),t.fill(),t.stroke(),t.fillStyle=s.backgroundColor,t.beginPath(),Ke(t,{x:r,y:d+1,w:c-2,h:u-2,radius:o}),t.fill()):(t.fillStyle=a.multiKeyBackground,t.fillRect(l,d,c,u),t.strokeRect(l,d,c,u),t.fillStyle=s.backgroundColor,t.fillRect(r,d+1,c-2,u-2))),t.fillStyle=this.labelTextColors[i]}},{key:"drawBody",value:function(e,i,t){var n,a,r,o,s,l,u,c=this.body,h=t.bodySpacing,d=t.bodyAlign,f=t.displayColors,p=t.boxHeight,g=t.boxWidth,v=t.boxPadding,m=D(t.bodyFont),y=m.lineHeight,b=0,x=Ui(t.rtl,this.x,this.width),_=function _(t){i.fillText(t,x.x(e.x+b),e.y+y/2),e.y+=y+h},k=x.textAlign(d);for(i.textAlign=d,i.textBaseline="middle",i.font=m.string,e.x=ho(this,k,t),i.fillStyle=t.bodyColor,S(this.beforeBody,_),b=f&&"right"!==k?"center"===d?g/2+v:g+2+v:0,o=0,l=c.length;o<l;++o){for(n=c[o],a=this.labelTextColors[o],i.fillStyle=a,S(n.before,_),r=n.lines,f&&r.length&&(this._drawColorBox(i,e,o,x,t),y=Math.max(m.lineHeight,p)),s=0,u=r.length;s<u;++s)_(r[s]),y=m.lineHeight;S(n.after,_)}b=0,y=m.lineHeight,S(this.afterBody,_),e.y-=h}},{key:"drawFooter",value:function(t,e,i){var n,a,r=this.footer,o=r.length;if(o){var s=Ui(i.rtl,this.x,this.width);for(t.x=ho(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=s.textAlign(i.footerAlign),e.textBaseline="middle",n=D(i.footerFont),e.fillStyle=i.footerColor,e.font=n.string,a=0;a<o;++a)e.fillText(r[a],s.x(t.x),t.y+n.lineHeight/2),t.y+=n.lineHeight+i.footerSpacing}}},{key:"drawBackground",value:function(t,e,i,n){var a=this.xAlign,r=this.yAlign,o=t.x,s=t.y,l=i.width,u=i.height,c=ei(n.cornerRadius),h=c.topLeft,d=c.topRight,f=c.bottomLeft,c=c.bottomRight;e.fillStyle=n.backgroundColor,e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.beginPath(),e.moveTo(o+h,s),"top"===r&&this.drawCaret(t,e,i,n),e.lineTo(o+l-d,s),e.quadraticCurveTo(o+l,s,o+l,s+d),"center"===r&&"right"===a&&this.drawCaret(t,e,i,n),e.lineTo(o+l,s+u-c),e.quadraticCurveTo(o+l,s+u,o+l-c,s+u),"bottom"===r&&this.drawCaret(t,e,i,n),e.lineTo(o+f,s+u),e.quadraticCurveTo(o,s+u,o,s+u-f),"center"===r&&"left"===a&&this.drawCaret(t,e,i,n),e.lineTo(o,s+h),e.quadraticCurveTo(o,s,o+h,s),e.closePath(),e.fill(),0<n.borderWidth&&e.stroke()}},{key:"_updateAnimationTarget",value:function(t){var e,i,n,a=this.chart,r=this.$animations,o=r&&r.x,r=r&&r.y;(o||r)&&(e=ro[t.position].call(this,this._active,this._eventPosition))&&(i=this._size=lo(this,t),a=co(t,n=Object.assign({},e,this._size),n=uo(a,t,n),a),o._to===a.x&&r._to===a.y||(this.xAlign=n.xAlign,this.yAlign=n.yAlign,this.width=i.width,this.height=i.height,this.caretX=e.x,this.caretY=e.y,this._resolveAnimations().update(this,a)))}},{key:"_willRender",value:function(){return!!this.opacity}},{key:"draw",value:function(t){var e,i,n,a,r=this.options.setContext(this.getContext()),o=this.opacity;o&&(this._updateAnimationTarget(r),e={width:this.width,height:this.height},i={x:this.x,y:this.y},o=Math.abs(o)<.001?0:o,n=N(r.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length,r.enabled)&&a&&(t.save(),t.globalAlpha=o,this.drawBackground(i,t,e,r),Yi(t,r.textDirection),i.y+=n.top,this.drawTitle(i,t,r),this.drawBody(i,t,r),this.drawFooter(i,t,r),$i(t,r.textDirection),t.restore())}},{key:"getActiveElements",value:function(){return this._active||[]}},{key:"setActiveElements",value:function(t,e){var a=this,i=this._active,n=t.map(function(t){var e=t.datasetIndex,i=t.index,n=a.chart.getDatasetMeta(e);if(n)return{datasetIndex:e,element:n.data[i],index:i};throw new Error("Cannot find a dataset at index "+e)}),i=!Ot(i,n),r=this._positionChanged(n,e);(i||r)&&(this._active=n,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}},{key:"handleEvent",value:function(t,e){var i=!(2<arguments.length&&arguments[2]!==undefined)||arguments[2];if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;var n=this.options,a=this._active||[],i=this._getActiveElements(t,a,e,i),r=this._positionChanged(i,t),a=e||!Ot(i,a)||r;return a&&(this._active=i,n.enabled||n.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e)),a}},{key:"_getActiveElements",value:function(t,e,i,n){var a,r=this.options;return"mouseout"===t.type?[]:n?(a=this.chart.getElementsAtEventForMode(t,r.mode,r,i),r.reverse&&a.reverse(),a):e}},{key:"_positionChanged",value:function(t,e){var i=this.caretX,n=this.caretY,a=this.options,a=ro[a.position].call(this,t,e);return!1!==a&&(i!==a.x||n!==a.y)}}]),n}(),mo=(_(vo,"positioners",ro),{id:"tooltip",_element:vo,positioners:ro,afterInit:function(t,e,i){i&&(t.tooltip=new vo({chart:t,options:i}))},beforeUpdate:function(t,e,i){t.tooltip&&t.tooltip.initialize(i)},reset:function(t,e,i){t.tooltip&&t.tooltip.initialize(i)},afterDraw:function(t){var e,i=t.tooltip;i&&i._willRender()&&!(e={tooltip:i})!==t.notifyPlugins("beforeTooltipDraw",R(R({},e),{},{cancelable:!0}))&&(i.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",e))},afterEvent:function(t,e){var i;t.tooltip&&(i=e.replay,t.tooltip.handleEvent(e.event,i,e.inChartArea))&&(e.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:function(t,e){return e.bodyFont.size},boxWidth:function(t,e){return e.bodyFont.size},multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:go},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:function(t){return"filter"!==t&&"itemSort"!==t&&"external"!==t},_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}),yo=Object.freeze({__proto__:null,Colors:Or,Decimation:Rr,Filler:Kr,Legend:to,SubTitle:ao,Title:io,Tooltip:mo}),bo=function bo(t,e,i,n){return"string"==typeof e?(i=t.push(e)-1,n.unshift({index:i,label:e})):isNaN(e)&&(i=null),i};var xo=function xo(t,e){return null===t?null:b(Math.round(t),0,e)};function _o(t){var e=this.getLabels();return 0<=t&&t<e.length?e[t]:t}var ko=function(){l(u,Aa);var i=h(u);function u(t){var e;return d(this,u),(e=i.call(this,t))._startValue=undefined,e._valueRange=0,e._addedLabels=[],e}return o(u,[{key:"init",value:function(t){var e=this._addedLabels;if(e.length){var i,n=this.getLabels(),a=C(e);try{for(a.s();!(i=a.n()).done;){var r=i.value,o=r.index,s=r.label;n[o]===s&&n.splice(o,1)}}catch(l){a.e(l)}finally{a.f()}this._addedLabels=[]}f(c(u.prototype),"init",this).call(this,t)}},{key:"parse",value:function(t,e){var i,n,a,r,o;return O(t)?null:(i=this.getLabels(),e=isFinite(e)&&i[e]===t?e:(n=i,a=z(e,t=t),r=this._addedLabels,-1===(o=n.indexOf(t))?bo(n,t,a,r):o!==n.lastIndexOf(t)?a:o),xo(e,i.length-1))}},{key:"determineDataLimits",value:function(){var t=this.getUserBounds(),e=t.minDefined,t=t.maxDefined,i=this.getMinMax(!0),n=i.min,i=i.max;"ticks"===this.options.bounds&&(e||(n=0),t||(i=this.getLabels().length-1)),this.min=n,this.max=i}},{key:"buildTicks",value:function(){var t=this.min,e=this.max,i=this.options.offset,n=[],a=this.getLabels(),a=0===t&&e===a.length-1?a:a.slice(t,e+1);this._valueRange=Math.max(a.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(var r=t;r<=e;r++)n.push({value:r});return n}},{key:"getLabelForValue",value:function(t){return _o.call(this,t)}},{key:"configure",value:function(){f(c(u.prototype),"configure",this).call(this),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}},{key:"getPixelForValue",value:function(t){return null===(t="number"!=typeof t?this.parse(t):t)?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}},{key:"getPixelForTick",value:function(t){var e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}},{key:"getValueForPixel",value:function(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}},{key:"getBasePixel",value:function(){return this.bottom}}]),u}();function wo(t,e){var i,n,a=[],r=t.bounds,o=t.step,s=t.min,l=t.max,u=t.precision,c=t.count,h=t.maxTicks,d=t.maxDigits,f=t.includeBounds,p=o||1,g=h-1,v=e.min,m=e.max,y=!O(s),b=!O(l),x=!O(c),d=(m-v)/(d+1),_=Qt((m-v)/g/p)*p;if(_<1e-14&&!y&&!b)return[{value:v},{value:m}];g<(i=Math.ceil(m/_)-Math.floor(v/_))&&(_=Qt(i*_/g/p)*p),O(u)||(k=Math.pow(10,u),_=Math.ceil(_*k)/k),g="ticks"===r?(w=Math.floor(v/_)*_,Math.ceil(m/_)*_):(w=v,m),y&&b&&o&&(e=(l-s)/o,n=_/1e3,(p=Math.round(e))-n<=e)&&e<=p+n?(_=(l-s)/(i=Math.round(Math.min((l-s)/_,h))),w=s,g=l):x?_=((g=b?l:g)-(w=y?s:w))/(i=c-1):i=Zt(i=(g-w)/_,Math.round(i),_/1e3)?Math.round(i):Math.ceil(i);var r=Math.max(ne(_),ne(w)),k=Math.pow(10,O(u)?r:u),w=Math.round(w*k)/k,g=Math.round(g*k)/k,M=0;for(y&&(f&&w!==s?(a.push({value:s}),w<s&&M++,Zt(Math.round((w+M*_)*k)/k,s,Mo(s,d,t))&&M++):w<s&&M++);M<i;++M)a.push({value:Math.round((w+M*_)*k)/k});return b&&f&&g!==l?a.length&&Zt(a[a.length-1].value,l,Mo(l,d,t))?a[a.length-1].value=l:a.push({value:l}):b&&g!==l||a.push({value:g}),a}function Mo(t,e,i){var n=i.horizontal,a=j(i.minRotation),n=(n?Math.sin(a):Math.cos(a))||.001;return Math.min(e/n,.75*e*(""+t).length)}_(ko,"id","category"),_(ko,"defaults",{ticks:{callback:_o}});var So=function(){l(n,Aa);var i=h(n);function n(t){var e;return d(this,n),(e=i.call(this,t)).start=undefined,e.end=undefined,e._startValue=undefined,e._endValue=undefined,e._valueRange=0,e}return o(n,[{key:"parse",value:function(t,e){return O(t)||("number"==typeof t||t instanceof Number)&&!isFinite(+t)?null:+t}},{key:"handleTickRangeOptions",value:function(){var t,e=this.options.beginAtZero,i=this.getUserBounds(),n=i.minDefined,a=i.maxDefined,r=this.min,o=this.max,s=function s(t){return r=n?r:t},l=function l(t){return o=a?o:t};e&&(i=Gt(r),t=Gt(o),i<0&&t<0?l(0):0<i&&0<t&&s(0)),r===o&&(i=0===o?1:Math.abs(.05*o),l(o+i),e||s(r-i)),this.min=r,this.max=o}},{key:"getTickLimit",value:function(){var t,e=this.options.ticks,i=e.maxTicksLimit,e=e.stepSize;return e?1e3<(t=Math.ceil(this.max/e)-Math.floor(this.min/e)+1)&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(e," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3):(t=this.computeTickLimit(),i=i||11),t=i?Math.min(i,t):t}},{key:"computeTickLimit",value:function(){return Number.POSITIVE_INFINITY}},{key:"buildTicks",value:function(){var t=this.options,e=t.ticks,i=this.getTickLimit(),i=wo({maxTicks:Math.max(2,i),bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===t.bounds&&ee(i,this,"value"),t.reverse?(i.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),i}},{key:"configure",value:function(){var t=this.ticks,e=this.min,i=this.max;f(c(n.prototype),"configure",this).call(this),this.options.offset&&t.length&&(e-=t=(i-e)/Math.max(t.length-1,1)/2,i+=t),this._startValue=e,this._endValue=i,this._valueRange=i-e}},{key:"getLabelForValue",value:function(t){return Oe(t,this.chart.options.locale,this.options.ticks.format)}}]),n}(),Lo=function(){l(e,So);var t=h(e);function e(){return d(this,e),t.apply(this,arguments)}return o(e,[{key:"determineDataLimits",value:function(){var t=this.getMinMax(!0),e=t.min,t=t.max;this.min=g(e)?e:0,this.max=g(t)?t:1,this.handleTickRangeOptions()}},{key:"computeTickLimit",value:function(){var t=this.isHorizontal(),e=t?this.width:this.height,i=j(this.options.ticks.minRotation),t=(t?Math.sin(i):Math.cos(i))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,i.lineHeight/t))}},{key:"getPixelForValue",value:function(t){return null===t?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}},{key:"getValueForPixel",value:function(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}]),e}(),Eo=(_(Lo,"id","linear"),_(Lo,"defaults",{ticks:{callback:Te.formatters.numeric}}),function Eo(t){return Math.floor(Jt(t))}),Ao=function Ao(t,e){return Math.pow(10,Eo(t)+e)};function Po(t){return 1==t/Math.pow(10,Eo(t))}function Co(t,e,i){var n=Math.pow(10,i),a=Math.floor(t/n);return Math.ceil(e/n)-a}function Oo(t,e){for(var i=e.min,n=e.max,i=v(t.min,i),a=[],r=Eo(i),o=function(t,e){for(var i=Eo(e-t);10<Co(t,e,i);)i++;for(;Co(t,e,i)<10;)i--;return Math.min(i,Eo(t))}(i,n),s=o<0?Math.pow(10,Math.abs(o)):1,l=Math.pow(10,o),u=o<r?Math.pow(10,r):0,r=Math.round((i-u)*s)/s,c=Math.floor((i-u)/l/10)*l*10,h=Math.floor((r-c)/Math.pow(10,o)),d=v(t.min,Math.round((u+c+h*Math.pow(10,o))*s)/s);d<n;)a.push({value:d,major:Po(d),significand:h}),10<=h?h=h<15?15:20:h++,20<=h&&(h=2,s=0<=++o?1:s),d=Math.round((u+c+h*Math.pow(10,o))*s)/s;i=v(t.max,d);return a.push({value:i,major:Po(i),significand:h}),a}var Do=function(){l(n,Aa);var i=h(n);function n(t){var e;return d(this,n),(e=i.call(this,t)).start=undefined,e.end=undefined,e._startValue=undefined,e._valueRange=0,e}return o(n,[{key:"parse",value:function(t,e){var i=So.prototype.parse.apply(this,[t,e]);return 0===i?(this._zero=!0,undefined):g(i)&&0<i?i:null}},{key:"determineDataLimits",value:function(){var t=this.getMinMax(!0),e=t.min,t=t.max;this.min=g(e)?Math.max(0,e):null,this.max=g(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!g(this._userMin)&&(this.min=e===Ao(this.min,0)?Ao(this.min,-1):Ao(this.min,0)),this.handleTickRangeOptions()}},{key:"handleTickRangeOptions",value:function(){var t=this.getUserBounds(),e=t.minDefined,i=t.maxDefined,n=this.min,a=this.max,r=function r(t){return n=e?n:t},o=function o(t){return a=i?a:t};n===a&&(n<=0?(r(1),o(10)):(r(Ao(n,-1)),o(Ao(a,1)))),n<=0&&r(Ao(a,-1)),a<=0&&o(Ao(n,1)),this.min=n,this.max=a}},{key:"buildTicks",value:function(){var t=this.options,e=Oo({min:this._userMin,max:this._userMax},this);return"ticks"===t.bounds&&ee(e,this,"value"),t.reverse?(e.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),e}},{key:"getLabelForValue",value:function(t){return t===undefined?"0":Oe(t,this.chart.options.locale,this.options.ticks.format)}},{key:"configure",value:function(){var t=this.min;f(c(n.prototype),"configure",this).call(this),this._startValue=Jt(t),this._valueRange=Jt(this.max)-Jt(t)}},{key:"getPixelForValue",value:function(t){return null===(t=t!==undefined&&0!==t?t:this.min)||isNaN(t)?NaN:this.getPixelForDecimal(t===this.min?0:(Jt(t)-this._startValue)/this._valueRange)}},{key:"getValueForPixel",value:function(t){var e=this.getDecimalForPixel(t);return Math.pow(10,this._startValue+e*this._valueRange)}}]),n}();function To(t){var e,i=t.ticks;return i.display&&t.display?(e=N(i.backdropPadding),z(i.font&&i.font.size,P.font.size)+e.height):0}function Ro(t,e,i){return i=H(i)?i:[i],{w:function(t,e,i,n){for(var a,r,o,s,l=(n=n||{}).data=n.data||{},u=n.garbageCollect=n.garbageCollect||[],c=(n.font!==e&&(l=n.data={},u=n.garbageCollect=[],n.font=e),t.save(),t.font=e,0),h=i.length,d=0;d<h;d++)if((o=i[d])!==undefined&&null!==o&&!0!==H(o))c=He(t,l,u,c,o);else if(H(o))for(a=0,r=o.length;a<r;a++)(s=o[a])===undefined||null===s||H(s)||(c=He(t,l,u,c,s));t.restore();var f=u.length/2;if(f>i.length){for(d=0;d<f;d++)delete l[u[d]];u.splice(0,f)}return c}(t,e.string,i),h:i.length*e.lineHeight}}function Io(t,e,i,n,a){return t===n||t===a?{start:e-i/2,end:e+i/2}:t<n||a<t?{start:e-i,end:e}:{start:e,end:e+i}}function Fo(t){for(var e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},i=Object.assign({},e),n=[],a=[],r=t._pointLabels.length,o=t.options.pointLabels,s=o.centerPointLabels?L/r:0,l=0;l<r;l++){var u=o.setContext(t.getPointLabelContext(l)),c=(a[l]=u.padding,t.getPointPosition(l,t.drawingArea+a[l],s)),u=D(u.font),u=Ro(t.ctx,u,t._pointLabels[l]),h=(n[l]=u,k(t.getIndexAngle(l)+s)),d=Math.round(ie(h)),f=Io(d,c.x,u.w,0,180),d=Io(d,c.y,u.h,90,270),p=(x=b=u=c=y=m=v=g=p=void 0,i),g=e,v=h,m=f,y=d,c=Math.abs(Math.sin(v)),u=Math.abs(Math.cos(v)),b=0,x=0;m.start<g.l?(b=(g.l-m.start)/c,p.l=Math.min(p.l,g.l-b)):m.end>g.r&&(b=(m.end-g.r)/c,p.r=Math.max(p.r,g.r+b)),y.start<g.t?(x=(g.t-y.start)/u,p.t=Math.min(p.t,g.t-x)):y.end>g.b&&(x=(y.end-g.b)/u,p.b=Math.max(p.b,g.b+x))}t.setCenterPoint(e.l-i.l,i.r-e.r,e.t-i.t,i.b-e.b),t._pointLabelItems=function(t,e,i){for(var n=[],a=t._pointLabels.length,r=t.options,o=To(r)/2,s=t.drawingArea,l=r.pointLabels.centerPointLabels?L/a:0,u=0;u<a;u++){var c=t.getPointPosition(u,s+o+i[u],l),h=Math.round(ie(k(c.angle+E))),d=e[u],f=function(t,e,i){90===i||270===i?t-=e/2:(270<i||i<90)&&(t-=e);return t}(c.y,d.h,h),h=function(t){{if(0===t||180===t)return"center";if(t<180)return"left"}return"right"}(h),p=function(t,e,i){"right"===i?t-=e:"center"===i&&(t-=e/2);return t}(c.x,d.w,h);n.push({x:c.x,y:f,textAlign:h,left:p,top:f,right:p+d.w,bottom:f+d.h})}return n}(t,n,a)}function zo(t,e,i,n){var a=t.ctx;if(i)a.arc(t.xCenter,t.yCenter,e,0,M);else{var r=t.getPointPosition(0,e);a.moveTo(r.x,r.y);for(var o=1;o<n;o++)r=t.getPointPosition(o,e),a.lineTo(r.x,r.y)}}_(Do,"id","logarithmic"),_(Do,"defaults",{ticks:{callback:Te.formatters.logarithmic,major:{enabled:!0}}});var Ho=function(){l(n,So);var i=h(n);function n(t){var e;return d(this,n),(e=i.call(this,t)).xCenter=undefined,e.yCenter=undefined,e.drawingArea=undefined,e._pointLabels=[],e._pointLabelItems=[],e}return o(n,[{key:"setDimensions",value:function(){var t=this._padding=N(To(this.options)/2),e=this.width=this.maxWidth-t.width,i=this.height=this.maxHeight-t.height;this.xCenter=Math.floor(this.left+e/2+t.left),this.yCenter=Math.floor(this.top+i/2+t.top),this.drawingArea=Math.floor(Math.min(e,i)/2)}},{key:"determineDataLimits",value:function(){var t=this.getMinMax(!1),e=t.min,t=t.max;this.min=g(e)&&!isNaN(e)?e:0,this.max=g(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}},{key:"computeTickLimit",value:function(){return Math.ceil(this.drawingArea/To(this.options))}},{key:"generateTickLabels",value:function(t){var n=this;So.prototype.generateTickLabels.call(this,t),this._pointLabels=this.getLabels().map(function(t,e){var i=m(n.options.pointLabels.callback,[t,e],n);return i||0===i?i:""}).filter(function(t,e){return n.chart.getDataVisibility(e)})}},{key:"fit",value:function(){var t=this.options;t.display&&t.pointLabels.display?Fo(this):this.setCenterPoint(0,0,0,0)}},{key:"setCenterPoint",value:function(t,e,i,n){this.xCenter+=Math.floor((t-e)/2),this.yCenter+=Math.floor((i-n)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(t,e,i,n))}},{key:"getIndexAngle",value:function(t){return k(t*(M/(this._pointLabels.length||1))+j(this.options.startAngle||0))}},{key:"getDistanceFromCenterForValue",value:function(t){var e;return O(t)?NaN:(e=this.drawingArea/(this.max-this.min),this.options.reverse?(this.max-t)*e:(t-this.min)*e)}},{key:"getValueForDistanceFromCenter",value:function(t){var e;return O(t)?NaN:(e=t/(this.drawingArea/(this.max-this.min)),this.options.reverse?this.max-e:this.min+e)}},{key:"getPointLabelContext",value:function(t){var e=this._pointLabels||[];if(0<=t&&t<e.length)return e=e[t],ni(this.getContext(),{label:e,index:t,type:"pointLabel"})}},{key:"getPointPosition",value:function(t,e){var i=2<arguments.length&&arguments[2]!==undefined?arguments[2]:0,i=this.getIndexAngle(t)-E+i;return{x:Math.cos(i)*e+this.xCenter,y:Math.sin(i)*e+this.yCenter,angle:i}}},{key:"getPointPositionForValue",value:function(t,e){return this.getPointPosition(t,this.getDistanceFromCenterForValue(e))}},{key:"getBasePosition",value:function(t){return this.getPointPositionForValue(t||0,this.getBaseValue())}},{key:"getPointLabelPosition",value:function(t){var e=this._pointLabelItems[t];return{left:e.left,top:e.top,right:e.right,bottom:e.bottom}}},{key:"drawBackground",value:function(){var t,e=this.options,i=e.backgroundColor,e=e.grid.circular;i&&((t=this.ctx).save(),t.beginPath(),zo(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),t.closePath(),t.fillStyle=i,t.fill(),t.restore())}},{key:"drawGrid",value:function(){var t,l,u=this,e=this.ctx,i=this.options,n=i.angleLines,c=i.grid,h=i.border,d=this._pointLabels.length;if(i.pointLabels.display)for(var a=this,r=d,o=a.ctx,s=a.options.pointLabels,f=r-1;0<=f;f--){var p,g,v,m=s.setContext(a.getPointLabelContext(f)),y=D(m.font),b=a._pointLabelItems[f],x=b.x,_=b.y,k=b.textAlign,w=b.left,M=b.top,S=b.right,b=b.bottom,L=m.backdropColor;O(L)||(p=ei(m.borderRadius),g=N(m.backdropPadding),o.fillStyle=L,L=w-g.left,v=M-g.top,S=S-w+g.width,w=b-M+g.height,Object.values(p).some(function(t){return 0!==t})?(o.beginPath(),Ke(o,{x:L,y:v,w:S,h:w,radius:p}),o.fill()):o.fillRect(L,v,S,w)),$e(o,a._pointLabels[f],x,_+y.lineHeight/2,y,{color:m.color,textAlign:k,textBaseline:"middle"})}if(c.display&&this.ticks.forEach(function(t,e){var i,n,a,r,o,s;0!==e&&(l=u.getDistanceFromCenterForValue(t.value),a=u.getContext(e),s=c.setContext(a),a=h.setContext(a),t=l,e=d,n=a,a=(i=u).ctx,r=s.circular,o=s.color,s=s.lineWidth,!r&&!e||!o||!s||t<0||(a.save(),a.strokeStyle=o,a.lineWidth=s,a.setLineDash(n.dash),a.lineDashOffset=n.dashOffset,a.beginPath(),zo(i,t,r,e),a.closePath(),a.stroke(),a.restore()))}),n.display){for(e.save(),t=d-1;0<=t;t--){var E=n.setContext(this.getPointLabelContext(t)),A=E.color,P=E.lineWidth;P&&A&&(e.lineWidth=P,e.strokeStyle=A,e.setLineDash(E.borderDash),e.lineDashOffset=E.borderDashOffset,l=this.getDistanceFromCenterForValue(i.ticks.reverse?this.min:this.max),P=this.getPointPosition(t,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(P.x,P.y),e.stroke())}e.restore()}}},{key:"drawBorder",value:function ar(){}},{key:"drawLabels",value:function(){var t,r,o,s=this,l=this.ctx,u=this.options,c=u.ticks;c.display&&(t=this.getIndexAngle(0),l.save(),l.translate(this.xCenter,this.yCenter),l.rotate(t),l.textAlign="center",l.textBaseline="middle",this.ticks.forEach(function(t,e){var i,n,a;0===e&&!u.reverse||(n=D((i=c.setContext(s.getContext(e))).font),r=s.getDistanceFromCenterForValue(s.ticks[e].value),i.showLabelBackdrop&&(l.font=n.string,o=l.measureText(t.label).width,l.fillStyle=i.backdropColor,a=N(i.backdropPadding),l.fillRect(-o/2-a.left,-r-n.size/2-a.top,o+a.width,n.size+a.height)),$e(l,t.label,0,-r,n,{color:i.color}))}),l.restore())}},{key:"drawTitle",value:function(){}}]),n}(),qo=(_(Ho,"id","radialLinear"),_(Ho,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Te.formatters.numeric},pointLabels:{backdropColor:undefined,backdropPadding:2,display:!0,font:{size:10},callback:function m(t){return t},padding:5,centerPointLabels:!1}}),_(Ho,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),_(Ho,"descriptors",{angleLines:{_fallback:"grid"}}),{millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}}),T=Object.keys(qo);function jo(t,e){return t-e}function No(t,e){var i,n,a,r,o;return O(e)||(i=t._adapter,n=(r=t._parseOpts).parser,a=r.round,r=r.isoWeekday,o=e,null===(o=g(o="function"==typeof n?n(o):o)?o:"string"==typeof n?i.parse(o,n):i.parse(o)))?null:+(o=a?"week"!==a||!te(r)&&!0!==r?i.startOf(o,a):i.startOf(o,"isoWeek",r):o)}function Vo(t,e,i,n){for(var a=T.length,r=T.indexOf(t);r<a-1;++r){var o=qo[T[r]],s=o.steps||Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((i-e)/(s*o.size))<=n)return T[r]}return T[a-1]}function Bo(t,e,i){var n,a;i?i.length&&(n=(a=ue(i,e)).lo,a=a.hi,t[i[n]>=e?i[n]:i[a]]=!0):t[e]=!0}function Wo(t,e,i){for(var n,a=[],r={},o=e.length,s=0;s<o;++s)r[n=e[s]]=s,a.push({value:n,major:!1});if(0!==o&&i){for(var l,u=a,c=r,h=i,d=t._adapter,f=+d.startOf(u[0].value,h),p=u[u.length-1].value,g=f;g<=p;g=+d.add(g,1,h))0<=(l=c[g])&&(u[l].major=!0);return u}return a}var Xo=function(){l(a,Aa);var i=h(a);function a(t){var e;return d(this,a),(e=i.call(this,t))._cache={data:[],labels:[],all:[]},e._unit="day",e._majorUnit=undefined,e._offsets={},e._normalized=!1,e._parseOpts=undefined,e}return o(a,[{key:"init",value:function(t){var e=1<arguments.length&&arguments[1]!==undefined?arguments[1]:{},i=t.time||(t.time={}),n=this._adapter=new zn._date(t.adapters.date);n.init(e),Ft(i.displayFormats,n.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},f(c(a.prototype),"init",this).call(this,t),this._normalized=e.normalized}},{key:"parse",value:function(t,e){return t===undefined?null:No(this,t)}},{key:"beforeLayout",value:function(){f(c(a.prototype),"beforeLayout",this).call(this),this._cache={data:[],labels:[],all:[]}}},{key:"determineDataLimits",value:function(){var t=this.options,e=this._adapter,i=t.time.unit||"day",n=this.getUserBounds(),a=n.min,r=n.max,o=n.minDefined,s=n.maxDefined;function l(t){o||isNaN(t.min)||(a=Math.min(a,t.min)),s||isNaN(t.max)||(r=Math.max(r,t.max))}o&&s||(l(this._getLabelBounds()),"ticks"===t.bounds&&"labels"===t.ticks.source)||l(this.getMinMax(!1)),a=g(a)&&!isNaN(a)?a:+e.startOf(Date.now(),i),r=g(r)&&!isNaN(r)?r:+e.endOf(Date.now(),i)+1,this.min=Math.min(a,r-1),this.max=Math.max(a+1,r)}},{key:"_getLabelBounds",value:function(){var t=this.getLabelTimestamps(),e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}},{key:"buildTicks",value:function(){var t=this.options,e=t.time,i=t.ticks,n="labels"===i.source?this.getLabelTimestamps():this._generate(),a=("ticks"===t.bounds&&n.length&&(this.min=this._userMin||n[0],this.max=this._userMax||n[n.length-1]),this.min),r=function(t,e,i){for(var n=0,a=t.length;n<a&&t[n]<e;)n++;for(;n<a&&t[a-1]>i;)a--;return 0<n||a<t.length?t.slice(n,a):t}(n,a,this.max);return this._unit=e.unit||(i.autoSkip?Vo(e.minUnit,this.min,this.max,this._getLabelCapacity(a)):function(t,e,i,n,a){for(var r=T.length-1;r>=T.indexOf(i);r--){var o=T[r];if(qo[o].common&&t._adapter.diff(a,n,o)>=e-1)return o}return T[i?T.indexOf(i):0]}(this,r.length,e.minUnit,this.min,this.max)),this._majorUnit=i.major.enabled&&"year"!==this._unit?function(t){for(var e=T.indexOf(t)+1,i=T.length;e<i;++e)if(qo[T[e]].common)return T[e]}(this._unit):undefined,this.initOffsets(n),t.reverse&&r.reverse(),Wo(this,r,this._majorUnit)}},{key:"afterAutoSkip",value:function(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(function(t){return+t.value}))}},{key:"initOffsets",value:function(){var t=0<arguments.length&&arguments[0]!==undefined?arguments[0]:[],e=0,i=0,n=(this.options.offset&&t.length&&(n=this.getDecimalForValue(t[0]),e=1===t.length?1-n:(this.getDecimalForValue(t[1])-n)/2,n=this.getDecimalForValue(t[t.length-1]),i=1===t.length?n:(n-this.getDecimalForValue(t[t.length-2]))/2),t.length<3?.5:.25),e=b(e,0,n),i=b(i,0,n);this._offsets={start:e,end:i,factor:1/(e+1+i)}}},{key:"_generate",value:function(){var t=this._adapter,e=this.min,i=this.max,n=this.options,a=n.time,r=a.unit||Vo(a.minUnit,e,i,this._getLabelCapacity(e)),o=z(n.ticks.stepSize,1),a="week"===r&&a.isoWeekday,s=te(a)||!0===a,l={},u=e;if(s&&(u=+t.startOf(u,"isoWeek",a)),u=+t.startOf(u,s?"day":r),t.diff(i,e,r)>1e5*o)throw new Error(e+" and "+i+" are too far apart with stepSize of "+o+" "+r);for(var c="data"===n.ticks.source&&this.getDataTimestamps(),h=u,d=0;h<i;h=+t.add(h,o,r),d++)Bo(l,h,c);return h!==i&&"ticks"!==n.bounds&&1!==d||Bo(l,h,c),Object.keys(l).sort(function(t,e){return t-e}).map(function(t){return+t})}},{key:"getLabelForValue",value:function(t){var e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}},{key:"format",value:function(t,e){var i=this.options.time.displayFormats,n=this._unit,n=e||i[n];return this._adapter.format(t,n)}},{key:"_tickFormatFunction",value:function(t,e,i,n){var a,r,o=this.options,s=o.ticks.callback;return s?m(s,[t,e,i],this):(s=o.time.displayFormats,o=this._unit,r=this._majorUnit,o=o&&s[o],s=r&&s[r],a=i[e],r=r&&s&&a&&a.major,this._adapter.format(t,n||(r?s:o)))}},{key:"generateTickLabels",value:function(t){for(var e,i=0,n=t.length;i<n;++i)(e=t[i]).label=this._tickFormatFunction(e.value,i,t)}},{key:"getDecimalForValue",value:function(t){return null===t?NaN:(t-this.min)/(this.max-this.min)}},{key:"getPixelForValue",value:function(t){var e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}},{key:"getValueForPixel",value:function(t){var e=this._offsets,e=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+e*(this.max-this.min)}},{key:"_getLabelSize",value:function(t){var e=this.options.ticks,i=this.ctx.measureText(t).width,e=j(this.isHorizontal()?e.maxRotation:e.minRotation),n=Math.cos(e),e=Math.sin(e),a=this._resolveTickFontOptions(0).size;return{w:i*n+a*e,h:i*e+a*n}}},{key:"_getLabelCapacity",value:function(t){var e=this.options.time,i=e.displayFormats,e=i[e.unit]||i.millisecond,i=this._tickFormatFunction(t,0,Wo(this,[t],this._majorUnit),e),e=this._getLabelSize(i),i=Math.floor(this.isHorizontal()?this.width/e.w:this.height/e.h)-1;return 0<i?i:1}},{key:"getDataTimestamps",value:function(){var t,e,i=this._cache.data||[];if(i.length)return i;var n=this.getMatchingVisibleMetas();if(this._normalized&&n.length)return this._cache.data=n[0].controller.getAllParsedValues(this);for(t=0,e=n.length;t<e;++t)i=i.concat(n[t].controller.getAllParsedValues(this));return this._cache.data=this.normalize(i)}},{key:"getLabelTimestamps",value:function(){var t=this._cache.labels||[];if(t.length)return t;for(var e=this.getLabels(),i=0,n=e.length;i<n;++i)t.push(No(this,e[i]));return this._cache.labels=this._normalized?t:this.normalize(t)}},{key:"normalize",value:function(t){return pe(t.sort(jo))}}]),a}();function Uo(t,e,i){var n,a,r,o,s=0,l=t.length-1,l=(o=i?(e>=t[s].pos&&e<=t[l].pos&&(s=(a=ce(t,"pos",e)).lo,l=a.hi),n=(a=t[s]).pos,a=a.time,r=(o=t[l]).pos,o.time):(e>=t[s].time&&e<=t[l].time&&(s=(o=ce(t,"time",e)).lo,l=o.hi),n=(o=t[s]).time,a=o.pos,r=(s=t[l]).time,s.pos),r-n);return l?a+(o-a)*(e-n)/l:a}_(Xo,"id","time"),_(Xo,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});var Yo=function(){l(n,Xo);var i=h(n);function n(t){var e;return d(this,n),(e=i.call(this,t))._table=[],e._minPos=undefined,e._tableRange=undefined,e}return o(n,[{key:"initOffsets",value:function(){var t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Uo(e,this.min),this._tableRange=Uo(e,this.max)-this._minPos,f(c(n.prototype),"initOffsets",this).call(this,t)}},{key:"buildLookupTable",value:function(t){for(var e,i=this.min,n=this.max,a=[],r=[],o=0,s=t.length;o<s;++o)i<=(e=t[o])&&e<=n&&a.push(e);if(a.length<2)return[{time:i,pos:0},{time:n,pos:1}];for(o=0,s=a.length;o<s;++o)e=a[o],Math.round((a[o+1]+a[o-1])/2)!==e&&r.push({time:e,pos:o/(s-1)});return r}},{key:"_getTimestampsForTable",value:function(){var t,e,i=this._cache.all||[];return i.length||(t=this.getDataTimestamps(),e=this.getLabelTimestamps(),i=t.length&&e.length?this.normalize(t.concat(e)):t.length?t:e,i=this._cache.all=i),i}},{key:"getDecimalForValue",value:function(t){return(Uo(this._table,t)-this._minPos)/this._tableRange}},{key:"getValueForPixel",value:function(t){var e=this._offsets,e=this.getDecimalForPixel(t)/e.factor-e.end;return Uo(this._table,e*this._tableRange+this._minPos,!0)}}]),n}(),$o=(_(Yo,"id","timeseries"),_(Yo,"defaults",Xo.defaults),Object.freeze({__proto__:null,CategoryScale:ko,LinearScale:Lo,LogarithmicScale:Do,RadialLinearScale:Ho,TimeScale:Xo,TimeSeriesScale:Yo})),Ko=[In,Mr,yo,$o];return t.Animation=sn,t.Animations=ln,t.ArcElement=qi,t.BarController=En,t.BarElement=wr,t.BasePlatform=ia,t.BasicPlatform=na,t.BubbleController=An,t.CategoryScale=ko,t.Chart=Qa,t.Colors=Or,t.DatasetController=i,t.Decimation=Rr,t.DomPlatform=ya,t.DoughnutController=Pn,t.Element=e,t.Filler=Kr,t.Interaction=Wn,t.Legend=to,t.LineController=Cn,t.LineElement=pr,t.LinearScale=Lo,t.LogarithmicScale=Do,t.PieController=Dn,t.PointElement=vr,t.PolarAreaController=On,t.RadarController=Tn,t.RadialLinearScale=Ho,t.Scale=Aa,t.ScatterController=Rn,t.SubTitle=ao,t.Ticks=Te,t.TimeScale=Xo,t.TimeSeriesScale=Yo,t.Title=io,t.Tooltip=mo,t._adapters=zn,t._detectPlatform=ba,t.animator=an,t.controllers=In,t.defaults=P,t.elements=Mr,t.layouts=u,t.plugins=yo,t.registerables=Ko,t.registry=x,t.scales=$o,Object.defineProperty(t,"__esModule",{value:!0}),t}({});